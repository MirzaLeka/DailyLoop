"use strict";var limit="No limit",display="Display all",sort="Date created";$(window).scroll(function(){$("#info").offset().top+50+$("#info").outerHeight()-$(window).height()<=$(this).scrollTop()?$("#scrollBack").fadeIn():$("#scrollBack").fadeOut()}),$("#scrollBack").click(function(){$("html, body").animate({scrollTop:0},1e3)});var scrollPosition="",addDarkSelect=void 0,idsArr=[];function getTodos(){$.ajax({type:"GET",url:"/todos",success:function(o){if(0==o.todos.length)sessionStorage.removeItem("scrollPosition"),$(".notYet").css("display","none"),$("#inputTitle").attr("placeholder","Submit your first todo"),changeQuote(0,0);else{for(var e=0,t=0;t<o.todos.length;t++)1==o.todos[t].completed&&e++;$(".notYet").css("display","block"),$("#inputTitle").attr("placeholder",""),changeQuote(1,o.todos.length-e)}var s="",i="",n="",a="";for(t=0;t<o.todos.length;t++){i=o.todos[t]._id.toString(),n=o.todos[t].text.toString(),a=o.todos[t].description;var l="",d="",c=o.todos[t].text;50<o.todos[t].text.length&&(c=o.todos[t].text.substr(0,50)+"..."),o.todos[t].completed?(l="Completed",d="Completed At: "+o.todos[t].completedAt.substr(12,8)):l="Not completed",s+='<div class="container todoContainer" onclick="addIdToArray(`'+o.todos[t]._id+'`)">\n    \n     <div class="row">\n      <div class="col-sm-9">\n<div class="row">\n<div class="col-sm-12">\n<h3 class="title">'+c+'</h3>\n    </div>\n</div>\n <div class="row">\n      \n <div class="col-sm-6"><p class="status">'+l+'</p></div>\n <div class="col-sm-6"><p class="finished">'+d+'</p> </div>\n  </div>\n        </div>\n    <div class="col-sm-3" style="height: 105px;"> \n    <div class="col-sm-4 todoBtnCol">\n <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+n+"`, `"+a+"`, "+o.todos[t].completed+",`"+i+"`,`"+o.todos[t].completedAt+"`, "+t+", `"+o.todos[t].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n </div>\n <div class="col-sm-4 todoBtnCol">\n \n <div class="outer" title="Complete Todo" onclick=\'completeTodo('+o.todos[t].completed+",`"+i+"`, "+t+')\'>\n <div class="switch"></div>\n </div>\n  </div>        \n<div class="col-sm-4 todoBtnCol">\n   <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+i+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n         </div>\n    </div>\n         \n      </div>\n </div>'}$("#listOfTodos").append(s);for(t=0;t<o.todos.length;t++)o.todos[t].completed?($(".switch:eq("+t+")").addClass("move"),$(".title:eq("+t+")").css({"text-decoration":"line-through"})):$(".switch:eq("+t+")").removeClass("move");(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")}),$(".outer, .todoBtn").click(function(){var o=$(window).scrollTop();sessionStorage.setItem("scrollPosition",o)})}})}function submit(){var o=$("#inputTitle").val();if(""==o)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please insert text to submit todo.");if(200<o.length)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please keep todo title no longer than 200 characters.");var e={text:o};$.ajax({type:"POST",url:"/todos",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(o){location.reload()}})}function clearSubmitTodoError(){$("#submitTodoError").hide()}function deleteTodo(o){$.ajax({url:"/todos/"+o,type:"DELETE",success:function(){location.reload()}})}function deleteAllTodos(){sessionStorage.removeItem("scrollPosition"),$.ajax({url:"/todos",type:"DELETE",success:function(){}}),window.location.reload()}function completeTodo(o,e,t){o?(o=!1,$(".switch:eq("+t+")").removeClass("move")):(o=!0,$(".switch:eq("+t+")").addClass("move"));var s={completed:o};$.ajax({url:"/todos/"+e,data:JSON.stringify(s),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(o){location.reload()}})}function updateTodo(o,e,t,s,i,n){var a=0;o=(o=(o=$("#todoTitleInModal").val()).replace(/"/g,"'")).trim(),e=(e=(e=$("textarea").val()).replace(/"/g,"'")).trim(),""==o?($("#todoTitleInModalError").css("display","block"),$("#todoTitleInModalError").text("Title must have at least one character"),a++):200<o.length&&($("#todoTitleInModalError").show(),$("#todoTitleInModalError").text("Exceeded maximum number of characters (200)"),a++),2e3<e.length&&($("#textareaError").show(),$("#textareaError").text("Exceeded maximum number of characters (2000)"),a++);var l={text:o,description:e,completed:t,someNew:n};i&&0==a&&$.ajax({url:"/todos/"+s,data:JSON.stringify(l),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(o){$("#myModal").fadeOut(),location.reload()}})}$(document).ready(function(){null!=(scrollPosition=sessionStorage.getItem("scrollPosition"))&&$("html, body").animate({scrollTop:scrollPosition},100),startTime(),changeBackgroundImg(),getTodos(),limiting(),sorting(),displaying()});var data={},keepTheDate=null,newDate="";function combineValues(o,e,t,s,i,n,a){console.log("Modal finished is: "+n),"string"!=typeof n&&null!=keepTheDate?(keepTheDate=keepTheDate,console.log("AAAA")):"string"==typeof n?console.log("BBBB"):(keepTheDate=a,console.log("CCCC")),console.log("(1) "+keepTheDate),"string"==typeof o&&(data.text=o,keepTheDate=$(".switchModal").hasClass("moveModal")?(data.completed=!0,keepTheDate):(data.completed=!1,null),!0,console.log("(2) "+keepTheDate)),"number"==typeof o&&(data.completed=t,!1,keepTheDate=t?n:null,console.log("(3) "+keepTheDate))}var modalStatus="",modalFinished="",toggleCounter=0,toggleValue=[];function completeInModal(o,e,t,s,i,n,a){toggleValue[a]=0==toggleCounter?!t:!toggleValue[a];var l=(new Date).toString();l=l.substr(4,20),modalFinished=l,toggleValue[a]?($(".switchModal").addClass("moveModal"),modalStatus="Completed",$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>')),$("#modalStatus").text(modalStatus),toggleCounter++,combineValues(o,e,toggleValue[a],s,i,modalFinished,n)}function openModal(o,e,t,s,i,n,a){modal.style.display="flex",modalFinished=i,modalStatus=t?"Completed":"Not Completed";var l='\n<p class="closeModal" onclick="closeModal(47, '+t+",`"+s+'`, false)">&times</p>\n          \n<h3 class="modalTitle" style="text-align: center;\ndisplay: block;\nmargin: 0 auto;\nwidth: 100%; margin-top: 10px;">Update Todo</h3>\n';$(".modal-header").html(l),mb='<div class="modalPause">  \n<h5 class="pauseDesc">NAME</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<input id="todoTitleInModal" oninput="oninputTodoTitleInModal()" autofocus style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px;" />\n<p id="todoTitleInModalError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+='<div class="modalPause">  \n<h5 class="pauseDesc">DESCRIPTION</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<textarea id="textarea" placeholder="Optional" oninput="oninputTextarea()" rows=5 style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px; resize: none;"></textarea>\n<p id="textareaError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+=' \n <div class="modalPause">  \n<h5 class="pauseDesc">DETAILS</h5>\n<div class="container bg-3 text-center" style="width: 768px; height: 85px; padding-bottom: 0px; margin-top: 10px;">\n<div class="row">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p>Status:</p>\n</div>\n<div class="col-sm-2">\n<p id="modalStatus">'+modalStatus+'</p>\n</div>\n<div class="col-sm-2">\n<div class="outerModal" title="Complete Todo" id="toggleBtn" onclick="completeInModal(47, `'+e+"` , "+t+",`"+s+"`, 'noRefresh', `"+i+"`, "+n+')" style="margin: 0 auto; text-align: center">\n<div class="switchModal"></div>\n</div>\n    \n<div class="col-sm-3"></div>\n    </div>\n</div>\n<div class="row" style="padding-top: 15px;">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p id="completeAtPar">Created   Completed:</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails">'+a+'</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails" id="modalFinished">'+modalFinished+'</p>\n</div>\n<div class="col-sm-3"></div>\n        </div>\n    </div>\n</div>\n',$(".modal-body").html(mb),t?(modalStatus="Completed",$(".switchModal").addClass("moveModal"),$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>'));var d='<button id="cancelBtn" class="modalBtns" onclick="closeModal(47, '+t+",`"+s+'`, false)">Cancel</button>\n<button id="updateBtn" class="modalBtns" onclick="combineValues(`'+o+"`, `"+e+"`,"+t+",`"+s+"`, true, 4,`"+i+'`)">Update</button>';$(".modal-footer").html(d);var c=o;$("textarea").text(e),$("#todoTitleInModal").val(c)}var modal=document.getElementById("myModal");function closeModal(o,e,t,s){toggleCounter=0,$("#myModal").fadeOut(),combineValues(o,e,t,s)}function oninputTextarea(){$("#textareaError").hide()}function oninputTodoTitleInModal(){$("#todoTitleInModalError").hide()}function startTime(){var o=new Date,e=o.getHours(),t=o.getMinutes(),s=o.getSeconds();t=checkTime(t),s=checkTime(s),e<10&&(e="0"+e),$("#clockTitle").html(e+":"+t+":"+s);setTimeout(startTime,500)}function checkTime(o){return o<10&&(o="0"+o),o}var quotesArray=['"A journey of a thousand miles begins with a single step."\n    – Lao Tzu','"The only impossible journey is the one you never begin."\n    – Tony Robbins','"We are what we repeatedly do. Excellence, then, is not an act but a habit."\n    – Aristotle','"Don’t judge each day by the harvest you reap, but by the seeds that you plant."\n    – Robert Louis Stevenson','"Writing is an exploration. You start from nothing and learn as you go."\n    - E. L. Doctorow','"Adapt what is useful, reject what is useless, and add what is specifically your own."\n    - Bruce Lee'],questionsArray=["What's next on your mind?","What's your plan for today?","What do you want to do next?","What is your main focus today?","What's next on your list?"],arrayOfBackgrounds=["../Resources/img/cover/cloudscity.jpeg","../Resources/img/cover/apple.jpeg","../Resources/img/cover/beachananas.jpeg","../Resources/img/cover/beachcity.jpeg","../Resources/img/cover/bike.jpeg","../Resources/img/cover/bulb.jpeg","../Resources/img/cover/boat.jpg","../Resources/img/cover/bottle.jpeg","../Resources/img/cover/cherries.jpeg","../Resources/img/cover/chess.jpeg","../Resources/img/cover/clouds.jpeg","../Resources/img/cover/ferrari.jpeg","../Resources/img/cover/forestroad.jpg","../Resources/img/cover/glasses.jpeg","../Resources/img/cover/guitar.jpg","../Resources/img/cover/headphones.jpeg","../Resources/img/cover/highway.jpeg","../Resources/img/cover/home.jpeg","../Resources/img/cover/jetengine.jpg","../Resources/img/cover/kitten.jpeg","../Resources/img/cover/logs.jpeg","../Resources/img/cover/match.jpg","../Resources/img/cover/parkedinwild.jpeg","../Resources/img/cover/road.jpeg","../Resources/img/cover/rope.jpeg","../Resources/img/cover/sandals.jpeg","../Resources/img/cover/searocks.jpeg","../Resources/img/cover/skynight.jpeg","../Resources/img/cover/thunder.jpeg","../Resources/img/cover/underwater.jpeg","../Resources/img/cover/wing.jpeg","../Resources/img/cover/wolves.jpeg"];function changeQuote(o,e){var t="";0==o?($("#questionsTitle").css("display","none"),$("#quoteTitle").css("display","block"),t=quotesArray[Math.floor(Math.random()*quotesArray.length)],$("#quoteTitle").text(t)):(0==e?$("#quoteTitle").text("You have no unfinished todos"):1==e?$("#quoteTitle").text("You have "+e+" unfinished todo below"):$("#quoteTitle").text("You have "+e+" unfinished todos below"),$("#questionsTitle").css("display","block"),t=questionsArray[Math.floor(Math.random()*questionsArray.length)],$("#questionsTitle").text(t))}function changeBackgroundImg(){var o=(new Date).getDate();$("#openingDiv").fadeTo(500,.5,function(){$(this).css({background:"url('"+arrayOfBackgrounds[o]+"')","background-attachment":"fixed",overflow:"hidden","background-position":"center","background-repeat":"no-repeat","background-size":"cover","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover"})}).fadeTo(500,1)}function limiting(){var t="";["No limit",1,3,5,10,15,20].forEach(function(o,e){t+='\n      <label class="radio">\n      <input class="limitRadio"  name="limit" type="radio">\n      <span style="font-weight: 100; text-align: center;">'+o+"</span>\n      </label>\n    "}),$("#limitUl").append(t),$(".limitRadio:eq(0)").attr("checked",!0),$(".limitRadio").click(function(){limit=(limit=$(this).parent(".radio").text()).trim(),search()})}function sorting(){$(".sortRadio").click(function(){sort=(sort=$(this).parent(".radio").text()).trim(),search()})}function displaying(){var t="";["All","Completed","Not completed"].forEach(function(o,e){t+='\n      <label class="radio">\n                <input class="displayRadio" name="display" type="radio">\n                <span style="font-weight: 100; text-align: center;">'+o+"</span>\n              </label>\n      "}),$("#displayUl").append(t),$(".displayRadio:eq(0)").attr("checked",!0),$(".displayRadio").click(function(){"Not completed"==(display=(display=$(this).parent(".radio").text()).trim())?($(".sortCompleted").attr("disabled",!0),$(".labelCompleted").css({cursor:"default"}),$(".labelCompleted").hover(function(){$(this).css("background","#222")})):($(".sortCompleted").attr("disabled",!1),$(".labelCompleted").css({cursor:"pointer"}),$(".labelCompleted").on("mouseenter",function(){$(this).css("background","#007BFF")}),$(".labelCompleted").on("mouseleave",function(){$(this).css("background","#222")})),search()})}function search(){idsArr=[];var o=$(".searchTodosForm").val();""==o&&(o="."),$.ajax({type:"GET",url:"/todos/"+o+"/"+display+"/"+limit+"/"+sort+"/",success:function(o){for(var e="",t="",s="",i="",n=0;n<o.todos.length;n++){t=o.todos[n]._id.toString(),s=o.todos[n].text.toString(),i=o.todos[n].description;var a="",l="",d=o.todos[n].text;50<o.todos[n].text.length&&(d=o.todos[n].text.substr(0,50)+"..."),o.todos[n].completed?(a="Completed",l="Completed At: "+o.todos[n].completedAt.substr(12,8)):a="Not completed",e+='<div class="container todoContainer" onclick="addIdToArray(`'+o.todos[n]._id+'`)">\n                \n                 <div class="row">\n                  <div class="col-sm-9">\n            <div class="row">\n            <div class="col-sm-12">\n            <h3 class="title">'+d+'</h3>\n                </div>\n            </div>\n             <div class="row">\n                  \n             <div class="col-sm-6"><p class="status">'+a+'</p></div>\n             <div class="col-sm-6"><p class="finished">'+l+'</p> </div>\n              </div>\n                    </div>\n                <div class="col-sm-3" style="height: 105px;"> \n                <div class="col-sm-4 todoBtnCol">\n             <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+s+"`, `"+i+"`, "+o.todos[n].completed+",`"+t+"`,`"+o.todos[n].completedAt+"`, "+n+", `"+o.todos[n].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n             </div>\n             <div class="col-sm-4 todoBtnCol">\n             \n             <div class="outer" title="Complete Todo" onclick=\'completeTodo('+o.todos[n].completed+",`"+t+"`, "+n+')\'>\n             <div class="switch"></div>\n             </div>\n              </div>        \n            <div class="col-sm-4 todoBtnCol">\n               <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+t+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n                     </div>\n                </div>\n                     \n                  </div>\n             </div>'}$(".todoContainer").remove(),$("#listOfTodos").append(e),(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")});for(n=0;n<o.todos.length;n++)o.todos[n].completed?($(".switch:eq("+n+")").addClass("move"),$(".title:eq("+n+")").css({"text-decoration":"line-through"})):$(".switch:eq("+n+")").removeClass("move")}})}$("#scrollDown").click(function(){$("html, body").animate({scrollTop:$("#containerBg").offset().top},1e3)}),$(".navbarLi").on("mouseenter",function(){$(this).find(".innerUl").fadeIn()}),$(".navbarLi").on("mouseleave",function(){$(this).find(".innerUl").fadeOut()}),$("#inputTitle").keyup(function(o){13==o.keyCode&&submit()}),$(".searchTodosForm").keyup(function(o){13==o.keyCode&&search()});var addIdToArray=function(e){idsArr.includes(e)?idsArr.splice(idsArr.findIndex(function(o){return o==e})):idsArr.push(e),console.log(idsArr)};function KeyPressCheck(o){44==o.keyCode&&addDarkSelect.hasClass("darkSelect")&&$.ajax({url:"/todos/"+idsArr,type:"DELETE",success:function(){location.reload()}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsibGltaXQiLCJkaXNwbGF5Iiwid2luZG93Iiwic2Nyb2xsIiwiJCIsIm9mZnNldCIsInRvcCIsIm91dGVySGVpZ2h0IiwidGhpcyIsInNjcm9sbFRvcCIsImZhZGVJbiIsImNsaWNrIiwiYW5pbWF0ZSIsInNjcm9sbFBvc2l0aW9uIiwiYWRkRGFya1NlbGVjdCIsImlkc0FyciIsInVybCIsImFqYXgiLCJzZXNzaW9uU3RvcmFnZSIsImRhdGEiLCJ0b2RvcyIsImxlbmd0aCIsInJlbW92ZUl0ZW0iLCJjb21wbGV0ZWRUb2RvcyIsImF0dHIiLCJjaGFuZ2VRdW90ZSIsImkiLCJjb21wbGV0ZWQiLCJ0ZXh0IiwiZGVzY3JpcHRpb24iLCJpZCIsInNob3J0ZW5UaXRsZSIsIl9pZCIsInN0YXR1cyIsInN1YnN0ciIsImZpbmlzaGVkIiwiY29tcGxldGVkQXQiLCJjcmVhdGVkQXQiLCJhcHBlbmQiLCJsaXN0Iiwic2hvdyIsImFkZENsYXNzIiwiY3NzIiwidGV4dC1kZWNvcmF0aW9uIiwicmVtb3ZlQ2xhc3MiLCJvbiIsInRvZ2dsZUNsYXNzIiwiZGVsZXRlVG9kbyIsInNldEl0ZW0iLCJjdXJyZW50U2Nyb2xsUG9zaXRpb24iLCJ2YWwiLCJ0eXBlIiwic3VjY2VzcyIsInJlbG9hZCIsImxvY2F0aW9uIiwiaXNDb21wbGV0ZWQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwiZXJyb3JDb3VudGVyIiwicmVmcmVzaCIsInNvbWVJZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9jZXNzRGF0YSIsImtlZXBUaGVEYXRlIiwibmV3RGF0ZSIsImNvbWJpbmVWYWx1ZXMiLCJ1cGRhdGVUb2RvIiwibW9kYWxGaW5pc2hlZCIsInJlcGxhY2UiLCJ0cmltIiwiY29uc29sZSIsImZhZGVPdXQiLCJkb2N1bWVudCIsInJlYWR5IiwiZ2V0SXRlbSIsImNoYW5nZUJhY2tncm91bmRJbWciLCJnZXRUb2RvcyIsInNvcnRpbmciLCJkaXNwbGF5aW5nIiwidG9nZ2xlVmFsdWUiLCJjb21wbGV0ZUluTW9kYWwiLCJsb2ciLCJ0b2dnbGVDb3VudGVyIiwiaGFzQ2xhc3MiLCJtb2RhbFN0YXR1cyIsIm1iIiwibW9kYWwiLCJzdHIiLCJ0b1N0cmluZyIsImNsb3NlTW9kYWwiLCJoaWRlIiwiaHRtbCIsImgiLCJzdHlsZSIsInQiLCJtaCIsInJhbmRvbVF1b3RlIiwic29ydCIsInNlYXJjaCIsIm1mIiwiZGlzcGxheUFycmF5IiwiZm9yRWFjaCIsInRleHRWYWx1ZSIsImdldEVsZW1lbnRCeUlkIiwic3RhcnRUaW1lIiwidG9kYXkiLCJEYXRlIiwiZ2V0SG91cnMiLCJtIiwiZmluZCIsImdldE1pbnV0ZXMiLCJzIiwiZ2V0U2Vjb25kcyIsImNoZWNrVGltZSIsInNldFRpbWVvdXQiLCJxdW90ZXNBcnJheSIsInF1ZXN0aW9uc0FycmF5IiwiYXJyYXlPZkJhY2tncm91bmRzIiwibnVtIiwiZXZlbnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhZGRJZFRvQXJyYXkiLCJpbmRleCIsImdldERhdGUiLCJmYWRlVG8iLCJiYWNrZ3JvdW5kLXJlcGVhdCIsImJhY2tncm91bmQtc2l6ZSIsIi13ZWJraXQtYmFja2dyb3VuZC1zaXplIiwiLW1vei1iYWNrZ3JvdW5kLXNpemUiLCItby1iYWNrZ3JvdW5kLXNpemUiLCJsaW1pdGluZyIsImFkZExpbWl0IiwibGltIiwicGFyZW50IiwiYWRkRGlzcGxheSIsImRpcyIsImN1cnNvciIsImhvdmVyIiwicmVtb3ZlIiwia2V5dXAiLCJrZXlDb2RlIiwic3VibWl0IiwiaW5jbHVkZXMiLCJzcGxpY2UiLCJmaW5kSW5kZXgiLCJwdXNoIiwiS2V5UHJlc3NDaGVjayJdLCJtYXBwaW5ncyI6ImFBR00sSUFBSUEsTUFBUSxXQUFSQSxRQUFRLGNBQ1JDLEtBQVUsZUFNWkMsRUFBRkEsUUFBQUMsT0FBaUIsV0FDSkMsRUFBQSxTQUFTQyxTQUFYQyxJQUFULEdBQXVDRixFQUFBLFNBQUFHLGNBQzVCSCxFQUFGRixRQUFXSyxV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LENBQUVDLGtCQUFtQixrQkFJN0N2QyxFQUFBQSxjQUFnQnNCLEVBQWhCLEtBQXNCa0IsWUFBWSxXQXBPdkR4QyxFQUFFLGVBQWVPLE1BQU0sV0FDbkJQLEVBQUUsY0FBY1EsUUFBUSxDQUNwQkgsVUFBV0wsRUFBRSxnQkFBZ0JDLFNBQVNDLEtBQ3ZDLE9BZ0hQRixFQUFFLGFBQWF5QyxHQUFHLGFBQWMsV0FDNUJ6QyxFQUFFSSxNQUFNc0csS0FBSyxZQUFZcEcsV0FHekJOLEVBQUUsYUFBYXlDLEdBQUcsYUFBYyxXQUNoQ3pDLEVBQUVJLE1BQU1zRyxLQUFLLFlBQVl0QyxZQTRINUJwRSxFQUFFLGVBQWUwSSxNQUFNLFNBQVN0QixHQUNULElBQWpCQSxFQUFNdUIsU0FDUkMsV0FNRDVJLEVBQUUsb0JBQW9CMEksTUFBTSxTQUFTdEIsR0FDYixJQUFqQkEsRUFBTXVCLFNBQ1I1QyxXQVFELElBQUl5QixhQUFlLFNBQUM5RixHQUVYZixPQUFPa0ksU0FBU25ILEdBQ2pCZixPQUFPbUksT0FBT25JLE9BQU9vSSxVQUFVLFNBQUF0QixHQUFBLE9BQVNBLEdBQVMvRixLQUVqRGYsT0FBT3FJLEtBQUt0SCxHQUdqQnlDLFFBQVFXLElBQUluRSxTQUtmLFNBQVNzSSxjQUFjN0IsR0FFRSxJQUFqQkEsRUFBTXVCLFNBRURqSSxjQUFjc0UsU0FBUyxlQUt6QmhGLEVBQUVhLEtBQUssQ0FDTkQsSUFBSyxVQUFZRCxPQUNqQm9DLEtBQU0sU0FDTkMsUUFBUyxXQUNURSxTQUFTRCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgICAvKiBEZWZhdWx0IHZhbHVlcyBvZiBuYXZiYXJMaSAqL1xyXG5cclxuICAgICAgbGV0IGxpbWl0ID0gXCJObyBsaW1pdFwiO1xyXG4gICAgICBsZXQgZGlzcGxheSA9IFwiRGlzcGxheSBhbGxcIjtcclxuICAgICAgbGV0IHNvcnQgPSAnRGF0ZSBjcmVhdGVkJztcclxuXHJcblxyXG4gICAgICAvKiBTY3JvbGxpbmcgYmFjayAqL1xyXG5cclxuICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaFQgPSAkKCcjaW5mbycpLm9mZnNldCgpLnRvcCArIDUwLCAvLyBzaW5jZSAudG9kb0NvbnRhaW5lciBjYW4gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICBoSCA9ICQoJyNpbmZvJykub3V0ZXJIZWlnaHQoKSwgLy8gSSdtIHVzaW5nICNpbmZvICsgNTBweCBzY29sbGVkIGRvd25cclxuICAgICAgICAgICAgd0ggPSAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHdTID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgaWYgKHdTID49IChoVCtoSC13SCkpe1xyXG4gICAgICAgICAgJChcIiNzY3JvbGxCYWNrXCIpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgJChcIiNzY3JvbGxCYWNrXCIpLmZhZGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG5cclxuICAgICAkKFwiI3Njcm9sbEJhY2tcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAxMDAwKTtcclxuICAgICB9KTtcclxuXHJcbiAgICAgLyogU2Nyb2xsaW5nIHVzaW5nIHNlc3Npb24gc3RvcmFnZSAqL1xyXG5cclxuICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSAnJztcclxuXHJcbiAgICAgbGV0IGFkZERhcmtTZWxlY3Q7XHJcblxyXG4gICAgIGxldCBpZHNBcnIgPSBbXTtcclxuXHJcbiAgICBcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgc2Nyb2xsUG9zaXRpb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzY3JvbGxQb3NpdGlvbicpO1xyXG5cclxuICAgICBpZiAoc2Nyb2xsUG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3NpdGlvblxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgfVxyXG4gIFxyXG4gICAgc3RhcnRUaW1lKCk7XHJcbiAgICBjaGFuZ2VCYWNrZ3JvdW5kSW1nKCk7XHJcbiAgICBnZXRUb2RvcygpO1xyXG5cclxuICAgIGxpbWl0aW5nKCk7XHJcbiAgICBzb3J0aW5nKCk7XHJcbiAgICBkaXNwbGF5aW5nKCk7XHJcblxyXG4gIFxyXG59KTtcclxuXHJcblxyXG4vKiBHRVQgVE9ET1MgKi9cclxuXHJcbmZ1bmN0aW9uIGdldFRvZG9zKCkge1xyXG5cclxuXHJcbiQuYWpheCh7XHJcbiB0eXBlOiBcIkdFVFwiLFxyXG4gdXJsOiBcIi90b2Rvc1wiLFxyXG4gc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICAgIGlmIChkYXRhLnRvZG9zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcInNjcm9sbFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICQoXCIubm90WWV0XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjaW5wdXRUaXRsZVwiKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJTdWJtaXQgeW91ciBmaXJzdCB0b2RvXCIpO1xyXG4gICAgICAgIGNoYW5nZVF1b3RlKDAsIDApO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGxldCBjb21wbGV0ZWRUb2RvcyA9IDA7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS50b2Rvcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRvZG9zKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgJChcIi5ub3RZZXRcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAkKFwiI2lucHV0VGl0bGVcIikuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiXCIpO1xyXG4gICAgICAgICAgY2hhbmdlUXVvdGUoMSwgKGRhdGEudG9kb3MubGVuZ3RoIC0gY29tcGxldGVkVG9kb3MpKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxudmFyIGxpc3QgPSAnJztcclxudmFyIGlkID0gJyc7XHJcbnZhciB0ZXh0ID0gJyc7XHJcbnZhciBkZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5pZCA9IGRhdGEudG9kb3NbaV0uX2lkLnRvU3RyaW5nKCk7XHJcbnRleHQgPSBkYXRhLnRvZG9zW2ldLnRleHQudG9TdHJpbmcoKTtcclxuZGVzY3JpcHRpb24gPSBkYXRhLnRvZG9zW2ldLmRlc2NyaXB0aW9uO1xyXG5cclxubGV0IHN0YXR1cyA9ICcnO1xyXG5sZXQgZmluaXNoZWQgPSAnJztcclxuXHJcbnZhciBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQ7XHJcblxyXG5pZiAoZGF0YS50b2Rvc1tpXS50ZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQuc3Vic3RyKDAsNTApICsgXCIuLi5cIjtcclxufVxyXG5cclxuaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiBzdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gZmluaXNoZWQgPSBcIkNvbXBsZXRlZCBBdDogXCIgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0LnN1YnN0cigxMiw4KTtcclxufVxyXG5lbHNlIHtcclxuIHN0YXR1cyA9IFwiTm90IGNvbXBsZXRlZFwiO1xyXG59XHJcblxyXG5saXN0ICs9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHRvZG9Db250YWluZXJcIiBvbmNsaWNrPVwiYWRkSWRUb0FycmF5KFxcYGAgKyBkYXRhLnRvZG9zW2ldLl9pZCArIGBcXGApXCI+XHJcbiAgICBcclxuICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuPGgzIGNsYXNzPVwidGl0bGVcIj4ke3Nob3J0ZW5UaXRsZX08L2gzPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICBcclxuIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwic3RhdHVzXCI+JHtzdGF0dXN9PC9wPjwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+PHAgY2xhc3M9XCJmaW5pc2hlZFwiPiR7ZmluaXNoZWR9PC9wPiA8L2Rpdj5cclxuICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiIHN0eWxlPVwiaGVpZ2h0OiAxMDVweDtcIj4gXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gPGJ1dHRvbiBjbGFzcz1cImJ0biB0b2RvQnRuXCIgdGl0bGU9XCJVcGRhdGUgVG9kb1wiIG9uY2xpY2s9XCJvcGVuTW9kYWwoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCAke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSwgXFxgYCArIGRhdGEudG9kb3NbaV0uY3JlYXRlZEF0ICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2J1dHRvbj5cclxuIDwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuIFxyXG4gPGRpdiBjbGFzcz1cIm91dGVyXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgb25jbGljaz0nY29tcGxldGVUb2RvKCR7ZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICR7aX0pJz5cclxuIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj48L2Rpdj5cclxuIDwvZGl2PlxyXG4gIDwvZGl2PiAgICAgICAgXHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiAgIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiUmVtb3ZlIFRvZG9cIiBpZD1cInJlbW92ZVRvZG9CdG5cIiBvbmNsaWNrPVwiZGVsZXRlVG9kbyhcXGBgICsgaWQgKyBgXFxgKVwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgICAgIFxyXG4gICAgICA8L2Rpdj5cclxuIDwvZGl2PmA7XHJcbiBcclxufVxyXG5cclxuJChcIiNsaXN0T2ZUb2Rvc1wiKS5hcHBlbmQobGlzdCk7XHJcblxyXG4vKiBvbmNlIHRleHQgaXMgYWRkZWQgd2UgY2FuIHRvZ2dsZSB0aGUgY2xhc3Mgd2l0aCBjb3VudGVyIGZyb20gYW5vdGhlciBmb3IgbG9vcCAqL1xyXG5mb3IgKHZhciBpID0gMDsgaSA8ICBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiAgICAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLmFkZENsYXNzKFwibW92ZVwiKTtcclxuICAgICAgICAkKGAudGl0bGU6ZXEoJHtpfSlgKS5jc3MoeyBcInRleHQtZGVjb3JhdGlvblwiOiBcImxpbmUtdGhyb3VnaFwiIH0pO1xyXG5cclxuICAgICB9XHJcbiAgICAgZWxzZSB7XHJcbiAgICAgICAgICQoYC5zd2l0Y2g6ZXEoJHtpfSlgKS5yZW1vdmVDbGFzcyhcIm1vdmVcIik7XHJcbiAgICAgfVxyXG4gICAgIFxyXG59XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gR0VUIERBUktTRUxFQ1QgQ0xBU1NcclxuXHJcbiAgICAgIGFkZERhcmtTZWxlY3QgPSAgJChcIi50b2RvQ29udGFpbmVyXCIpO1xyXG4gICAgICBcclxuICAgICAgYWRkRGFya1NlbGVjdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJkYXJrU2VsZWN0XCIpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG5cclxuICAgIC8qIFNjcm9sbCB1c2luZyBzZXNzaW9uIHN0b3JhZ2UgKi8gXHJcblxyXG4gICAgJChcIi5vdXRlciwgLnRvZG9CdG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA9ICAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Nyb2xsUG9zaXRpb24nLCBjdXJyZW50U2Nyb2xsUG9zaXRpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gfVxyXG5cclxufSk7XHJcblxyXG59XHJcblxyXG5cclxuLyogUE9TVCBUT0RPICovXHJcbiBcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuXHJcbiB2YXIgdGV4dCA9ICQoXCIjaW5wdXRUaXRsZVwiKS52YWwoKTtcclxuXHJcbiBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikuc2hvdygpO1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikudGV4dChcIlBsZWFzZSBpbnNlcnQgdGV4dCB0byBzdWJtaXQgdG9kby5cIik7XHJcbiAgICByZXR1cm47XHJcbiB9IFxyXG4gIGlmICh0ZXh0Lmxlbmd0aCA+IDIwMCkge1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikuc2hvdygpO1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikudGV4dChcIlBsZWFzZSBrZWVwIHRvZG8gdGl0bGUgbm8gbG9uZ2VyIHRoYW4gMjAwIGNoYXJhY3RlcnMuXCIpO1xyXG4gICAgcmV0dXJuO1xyXG4gfVxyXG5cclxudmFyIGRhdGEgPSB7XHJcbiBcInRleHRcIjogdGV4dFxyXG59XHJcblxyXG4kLmFqYXgoe1xyXG4gdHlwZTogXCJQT1NUXCIsXHJcbiB1cmw6IFwiL3RvZG9zXCIsXHJcbiBjb250ZW50VHlwZSA6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuIGRhdGFUeXBlIDogJ2pzb24nLFxyXG4gZGF0YSA6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gXHJcbiAgbG9jYXRpb24ucmVsb2FkKCk7IFxyXG4gfVxyXG5cclxufSk7XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJTdWJtaXRUb2RvRXJyb3IoKSB7XHJcbiAgICAkKFwiI3N1Ym1pdFRvZG9FcnJvclwiKS5oaWRlKCk7XHJcbn1cclxuXHJcblxyXG5cclxuLyogREVMRVRFIFRPRE8gICAqL1xyXG5cclxuZnVuY3Rpb24gZGVsZXRlVG9kbyhpZCkge1xyXG5cclxuICQuYWpheCh7XHJcbiB1cmw6ICcvdG9kb3MvJyArIGlkLFxyXG4gdHlwZTogJ0RFTEVURScsXHJcbiBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4vKiBERUxFVEUgQUxMIFRPRE9TICovXHJcblxyXG5mdW5jdGlvbiBkZWxldGVBbGxUb2RvcygpIHtcclxuXHJcbiBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwic2Nyb2xsUG9zaXRpb25cIik7XHJcblxyXG4gJC5hamF4KHtcclxuIHVybDogJy90b2RvcycsXHJcbiB0eXBlOiAnREVMRVRFJyxcclxuIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gfVxyXG5cclxuXHJcbn0pO1xyXG5cclxud2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIENPTVBMRVRFIFRPRE8gKi9cclxuXHJcbmZ1bmN0aW9uIGNvbXBsZXRlVG9kbyhpc0NvbXBsZXRlZCwgc29tZUlkLCBpKSB7XHJcblxyXG4gaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkucmVtb3ZlQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gfSBlbHNlIHtcclxuICAgICBpc0NvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLmFkZENsYXNzKFwibW92ZVwiKTtcclxuIH1cclxuXHJcbnZhciBkYXRhID0ge1xyXG4gY29tcGxldGVkOiBpc0NvbXBsZXRlZFxyXG59O1xyXG5cclxuXHJcbiQuYWpheCh7XHJcbnVybDogXCIvdG9kb3MvXCIgKyBzb21lSWQsXHJcbmRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG50eXBlOiAnUEFUQ0gnLFxyXG5jb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5wcm9jZXNzRGF0YTogZmFsc2UsXHJcbmRhdGFUeXBlOiAnanNvbicsXHJcbnN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbmxvY2F0aW9uLnJlbG9hZCgpO1xyXG59XHJcblxyXG5cclxufSk7XHJcblxyXG59XHJcblxyXG5cclxuLyogVVBEQVRFIE9ORSBUT0RPICovXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb2RvKHRleHQsIGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQsIGlkLCByZWZyZXNoLCBtb2RhbEZpbmlzaGVkKSB7XHJcblxyXG4gICAgdmFyIGVycm9yQ291bnRlciA9IDA7XHJcblxyXG4gICAgdGV4dCA9ICQoXCIjdG9kb1RpdGxlSW5Nb2RhbFwiKS52YWwoKTtcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1wiL2csIFwiJ1wiKTsgXHJcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7IFxyXG5cclxuICAgIGRlc2NyaXB0aW9uID0gJChcInRleHRhcmVhXCIpLnZhbCgpO1xyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC9cIi9nLCBcIidcIik7IFxyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKCk7IFxyXG5cclxuXHJcbiAgICBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgICAgICQoXCIjdG9kb1RpdGxlSW5Nb2RhbEVycm9yXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS50ZXh0KFwiVGl0bGUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXJcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiAyMDApIHtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiN0b2RvVGl0bGVJbk1vZGFsRXJyb3JcIikudGV4dChcIkV4Y2VlZGVkIG1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgKDIwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDIwMDApIHtcclxuICAgICAgICAkKFwiI3RleHRhcmVhRXJyb3JcIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIjdGV4dGFyZWFFcnJvclwiKS50ZXh0KFwiRXhjZWVkZWQgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyAoMjAwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG52YXIgZGF0YSA9IHtcclxuICAgIHRleHQsXHJcbiAgICBkZXNjcmlwdGlvbixcclxuICAgIGNvbXBsZXRlZCxcclxuICAgIHNvbWVOZXc6IG1vZGFsRmluaXNoZWRcclxufTtcclxuXHJcbmlmIChyZWZyZXNoICYmIGVycm9yQ291bnRlciA9PSAwKSB7XHJcblxyXG4kLmFqYXgoe1xyXG51cmw6IFwiL3RvZG9zL1wiICsgaWQsXHJcbmRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG50eXBlOiAnUEFUQ0gnLFxyXG5jb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5wcm9jZXNzRGF0YTogZmFsc2UsXHJcbmRhdGFUeXBlOiAnanNvbicsXHJcbnN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4kKFwiI215TW9kYWxcIikuZmFkZU91dCgpO1xyXG5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG52YXIgZGF0YSA9IHt9O1xyXG5cclxudmFyIGtlZXBUaGVEYXRlID0gbnVsbDtcclxudmFyIG5ld0RhdGUgPSAnJztcclxuXHJcbmZ1bmN0aW9uIGNvbWJpbmVWYWx1ZXModGV4dCwgZGVzY3JpcHRpb24sIGlzQ29tcGxldGVkLCBpZCwgcmVmcmVzaCwgbW9kYWxGaW5pc2hlZCwgY29tcGxldGVkQXQpIHsgXHJcblxyXG4gICAgY29uc29sZS5sb2coXCJNb2RhbCBmaW5pc2hlZCBpczogXCIgKyBtb2RhbEZpbmlzaGVkKVxyXG5cclxuICAgIC8vIGlmIChtb2RhbEZpbmlzaGVkICE9IG51bGwpIHtcclxuICAgIC8vICAgICBjb21wbGV0ZWRBdCA9IG1vZGFsRmluaXNoZWQ7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCIoNCkgXCIgKyBrZWVwVGhlRGF0ZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gaWYgKHR5cGVvZihtb2RhbEZpbmlzaGVkKSAhPSAnc3RyaW5nJyAmJiBrZWVwVGhlRGF0ZSAhPSBudWxsKSB7XHJcbiAgICAvLyAgICAga2VlcFRoZURhdGUgPSBtb2RhbEZpbmlzaGVkO1xyXG4gICAgICAgIFxyXG4gICAgLy8gIH0gIGVsc2Uge1xyXG4gICAgLy8gICAgICBrZWVwVGhlRGF0ZSA9IGNvbXBsZXRlZEF0OyBcclxuICAgIC8vICB9XHJcblxyXG4gICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgaWYgKHR5cGVvZihtb2RhbEZpbmlzaGVkKSAhPSAnc3RyaW5nJyAmJiBrZWVwVGhlRGF0ZSAhPSBudWxsKSB7XHJcbiAgICAgICAga2VlcFRoZURhdGUgPSBrZWVwVGhlRGF0ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFBQUFcIik7XHJcbiAgICAgfVxyXG4gICAgICAgICBlbHNlICBpZiAodHlwZW9mKG1vZGFsRmluaXNoZWQpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICBrZWVwVGhlRGF0ZSA9PSBtb2RhbEZpbmlzaGVkO1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcIkJCQkJcIik7XHJcbiAgICAgfSAgZWxzZSB7XHJcbiAgICAgICAgIGtlZXBUaGVEYXRlID0gY29tcGxldGVkQXQ7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwiQ0NDQ1wiKTtcclxuICAgICB9XHJcblxyXG4gICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblxyXG4gICAgIGNvbnNvbGUubG9nKFwiKDEpIFwiICsga2VlcFRoZURhdGUpO1xyXG5cclxuICAgIGlmICh0eXBlb2YodGV4dCkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGF0YS50ZXh0ID0gdGV4dDtcclxuXHJcbiAgICAgICAgaWYgKCAgJChcIi5zd2l0Y2hNb2RhbFwiKS5oYXNDbGFzcyhcIm1vdmVNb2RhbFwiKSApIHtcclxuICAgICAgICAgICAgZGF0YS5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IGtlZXBUaGVEYXRlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhLmNvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgIFxyXG4gICAgICAgIHJlZnJlc2ggPSB0cnVlO1xyXG4gICAgY29uc29sZS5sb2coXCIoMikgXCIgKyBrZWVwVGhlRGF0ZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YodGV4dCkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICBkYXRhLmNvbXBsZXRlZCA9IGlzQ29tcGxldGVkO1xyXG4gICAgICAgIHJlZnJlc2ggPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIGtlZXBUaGVEYXRlID0gbW9kYWxGaW5pc2hlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIigzKSBcIiArIGtlZXBUaGVEYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb21wbGV0ZWRBdCA9IG1vZGFsRmluaXNoZWQ7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIkNvbXBsZXRlZCBBdDogXCIgKyBjb21wbGV0ZWRBdClcclxuICAgIC8vIHVwZGF0ZVRvZG8oZGF0YS50ZXh0LCBkZXNjcmlwdGlvbiwgZGF0YS5jb21wbGV0ZWQsIGlkLCByZWZyZXNoLCBrZWVwVGhlRGF0ZSk7XHJcblxyXG59XHJcblxyXG4gIFxyXG52YXIgbW9kYWxTdGF0dXMgPSBcIlwiO1xyXG52YXIgbW9kYWxGaW5pc2hlZCA9ICcnO1xyXG52YXIgdG9nZ2xlQ291bnRlciA9IDA7XHJcbnZhciB0b2dnbGVWYWx1ZSA9IFtdO1xyXG5cclxuZnVuY3Rpb24gY29tcGxldGVJbk1vZGFsKHRleHQsIGRlc2NyaXB0aW9uLCBpc0NvbXBsZXRlZCwgaWQsIHJlZnJlc2gsIGNvbXBsZXRlZEF0LCBpKSB7XHJcblxyXG4gICAgaWYgKHRvZ2dsZUNvdW50ZXIgPT0gMCkge1xyXG4gICAgICAgIHRvZ2dsZVZhbHVlW2ldID0gIWlzQ29tcGxldGVkO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRvZ2dsZVZhbHVlW2ldID0gIXRvZ2dsZVZhbHVlW2ldO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIHZhciBzdHIgPSBkLnRvU3RyaW5nKCk7XHJcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoNCwyMCk7XHJcbiAgICAgIG1vZGFsRmluaXNoZWQgPSBzdHI7XHJcblxyXG4gICAgICBpZiAodG9nZ2xlVmFsdWVbaV0pIHtcclxuICAgICAgICAkKFwiLnN3aXRjaE1vZGFsXCIpLmFkZENsYXNzKFwibW92ZU1vZGFsXCIpO1xyXG4gICAgICAgIG1vZGFsU3RhdHVzID0gXCJDb21wbGV0ZWRcIjtcclxuICAgICAgICAkKFwiI21vZGFsRmluaXNoZWRcIikudGV4dChtb2RhbEZpbmlzaGVkKTtcclxuICBcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBtb2RhbFN0YXR1cyA9IFwiTm90IENvbXBsZXRlZFwiO1xyXG4gICAgICAgICQoXCIuc3dpdGNoTW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb3ZlTW9kYWxcIik7XHJcbiAgICAgICAgJChcIiNtb2RhbEZpbmlzaGVkXCIpLmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlXCIgc3R5bGU9XCJmb250LXNpemU6MjRweFwiPjwvaT4nKTtcclxuICAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICQoXCIjbW9kYWxTdGF0dXNcIikudGV4dChtb2RhbFN0YXR1cyk7XHJcblxyXG4gICAgICBcclxuICAgICB0b2dnbGVDb3VudGVyKys7XHJcblxyXG4gICAgIGNvbWJpbmVWYWx1ZXModGV4dCwgZGVzY3JpcHRpb24sIHRvZ2dsZVZhbHVlW2ldLCBpZCwgcmVmcmVzaCwgbW9kYWxGaW5pc2hlZCwgY29tcGxldGVkQXQpO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIE1vZGFsICovXHJcblxyXG4vLyBPcGVuIE1vZGFsXHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwodGV4dCwgZGVzY3JpcHRpb24sIGlzQ29tcGxldGVkLCBpZCwgY29tcGxldGVkQXQsIGksIGNyZWF0ZWRBdCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gIFxyXG4gICAgbW9kYWxGaW5pc2hlZCA9IGNvbXBsZXRlZEF0O1xyXG5cclxuICAgIGlmIChpc0NvbXBsZXRlZCkge1xyXG4gICAgICAgIG1vZGFsU3RhdHVzID0gXCJDb21wbGV0ZWRcIjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1vZGFsU3RhdHVzID0gXCJOb3QgQ29tcGxldGVkXCI7IFxyXG4gICAgfVxyXG5cclxuXHJcbi8vIE1vZGFsIGhlYWRlclxyXG5cclxudmFyIG1oID0gYFxyXG48cCBjbGFzcz1cImNsb3NlTW9kYWxcIiBvbmNsaWNrPVwiY2xvc2VNb2RhbCg0NywgJHtpc0NvbXBsZXRlZH0sXFxgYCArIGlkICsgYFxcYCwgZmFsc2UpXCI+JnRpbWVzPC9wPlxyXG4gICAgICAgICAgXHJcbjxoMyBjbGFzcz1cIm1vZGFsVGl0bGVcIiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcclxuZGlzcGxheTogYmxvY2s7XHJcbm1hcmdpbjogMCBhdXRvO1xyXG53aWR0aDogMTAwJTsgbWFyZ2luLXRvcDogMTBweDtcIj5VcGRhdGUgVG9kbzwvaDM+XHJcbmA7XHJcblxyXG4kKFwiLm1vZGFsLWhlYWRlclwiKS5odG1sKG1oKTtcclxuXHJcblxyXG4vLyBNb2RhbCBCb2R5IC0tIE5BTUVcclxuXHJcbm1iID0gYDxkaXYgY2xhc3M9XCJtb2RhbFBhdXNlXCI+ICBcclxuPGg1IGNsYXNzPVwicGF1c2VEZXNjXCI+TkFNRTwvaDU+XHJcbjxkaXYgY2xhc3M9XCJjb250YWluZXIgYmctMyB0ZXh0LWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDc2OHB4O1wiPlxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPiA8L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XHJcbjxpbnB1dCBpZD1cInRvZG9UaXRsZUluTW9kYWxcIiBvbmlucHV0PVwib25pbnB1dFRvZG9UaXRsZUluTW9kYWwoKVwiIGF1dG9mb2N1cyBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6IDJweCBzb2xpZCAjQ0NDOyBjb2xvcjogIzAwMDsgbWFyZ2luLXRvcDogNHB4O1wiIC8+XHJcbjxwIGlkPVwidG9kb1RpdGxlSW5Nb2RhbEVycm9yXCI+PC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgIFxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj4gPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbjwvZGl2PiAgXHJcbiA8L2Rpdj4gIGA7XHJcblxyXG5cclxuLy8gTW9kYWwgQm9keSAtLSBERVNDUklQVElPTlxyXG5cclxubWIgKz0gYDxkaXYgY2xhc3M9XCJtb2RhbFBhdXNlXCI+ICBcclxuPGg1IGNsYXNzPVwicGF1c2VEZXNjXCI+REVTQ1JJUFRJT048L2g1PlxyXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyIGJnLTMgdGV4dC1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiA3NjhweDtcIj5cclxuPGRpdiBjbGFzcz1cInJvd1wiPlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj4gPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxyXG48dGV4dGFyZWEgaWQ9XCJ0ZXh0YXJlYVwiIHBsYWNlaG9sZGVyPVwiT3B0aW9uYWxcIiBvbmlucHV0PVwib25pbnB1dFRleHRhcmVhKClcIiByb3dzPTUgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI0ZGRjsgYm9yZGVyOiAycHggc29saWQgI0NDQzsgY29sb3I6ICMwMDA7IG1hcmdpbi10b3A6IDRweDsgcmVzaXplOiBub25lO1wiPjwvdGV4dGFyZWE+XHJcbjxwIGlkPVwidGV4dGFyZWFFcnJvclwiPjwvcD5cclxuICAgIDwvZGl2PlxyXG4gICBcclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+IDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG48L2Rpdj4gIFxyXG4gPC9kaXY+ICBgO1xyXG5cclxuIC8vIEJvZHkgcGFydCAyXHJcblxyXG4gbWIrPSBgIFxyXG4gPGRpdiBjbGFzcz1cIm1vZGFsUGF1c2VcIj4gIFxyXG48aDUgY2xhc3M9XCJwYXVzZURlc2NcIj5ERVRBSUxTPC9oNT5cclxuPGRpdiBjbGFzcz1cImNvbnRhaW5lciBiZy0zIHRleHQtY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogNzY4cHg7IGhlaWdodDogODVweDsgcGFkZGluZy1ib3R0b206IDBweDsgbWFyZ2luLXRvcDogMTBweDtcIj5cclxuPGRpdiBjbGFzcz1cInJvd1wiPlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxwPlN0YXR1czo8L3A+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPHAgaWQ9XCJtb2RhbFN0YXR1c1wiPiR7bW9kYWxTdGF0dXN9PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxkaXYgY2xhc3M9XCJvdXRlck1vZGFsXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgaWQ9XCJ0b2dnbGVCdG5cIiBvbmNsaWNrPVwiY29tcGxldGVJbk1vZGFsKDQ3LCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgICwgJHtpc0NvbXBsZXRlZH0sXFxgYCArIGlkICsgYFxcYCwgJ25vUmVmcmVzaCcsIFxcYGAgKyBjb21wbGV0ZWRBdCArIGBcXGAsICR7aX0pXCIgc3R5bGU9XCJtYXJnaW46IDAgYXV0bzsgdGV4dC1hbGlnbjogY2VudGVyXCI+XHJcbjxkaXYgY2xhc3M9XCJzd2l0Y2hNb2RhbFwiPjwvZGl2PlxyXG48L2Rpdj5cclxuICAgIFxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cInJvd1wiIHN0eWxlPVwicGFkZGluZy10b3A6IDE1cHg7XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPHAgaWQ9XCJjb21wbGV0ZUF0UGFyXCI+Q3JlYXRlZCAgIENvbXBsZXRlZDo8L3A+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPHAgY2xhc3M9XCJtb2RhbERldGFpbHNcIj4ke2NyZWF0ZWRBdH08L3A+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPHAgY2xhc3M9XCJtb2RhbERldGFpbHNcIiBpZD1cIm1vZGFsRmluaXNoZWRcIj4ke21vZGFsRmluaXNoZWR9PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcbmA7XHJcblxyXG5cclxuXHJcbiQoXCIubW9kYWwtYm9keVwiKS5odG1sKG1iKTtcclxuXHJcbmlmIChpc0NvbXBsZXRlZCkge1xyXG4gICAgbW9kYWxTdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgJChcIi5zd2l0Y2hNb2RhbFwiKS5hZGRDbGFzcyhcIm1vdmVNb2RhbFwiKTtcclxuICAgICQoXCIjbW9kYWxGaW5pc2hlZFwiKS50ZXh0KG1vZGFsRmluaXNoZWQpXHJcbn0gZWxzZSB7XHJcbiAgICBtb2RhbFN0YXR1cyA9IFwiTm90IENvbXBsZXRlZFwiO1xyXG4gICAgJChcIi5zd2l0Y2hNb2RhbFwiKS5yZW1vdmVDbGFzcyhcIm1vdmVNb2RhbFwiKTtcclxuICAgICQoXCIjbW9kYWxGaW5pc2hlZFwiKS5odG1sKCc8aSBjbGFzcz1cImZhIGZhLXF1ZXN0aW9uLWNpcmNsZVwiIHN0eWxlPVwiZm9udC1zaXplOjI0cHhcIj48L2k+Jyk7XHJcbn1cclxuXHJcblxyXG4vLyBtb2RhbCBmb290ZXJcclxuXHJcbnZhciBtZiA9IGA8YnV0dG9uIGlkPVwiY2FuY2VsQnRuXCIgY2xhc3M9XCJtb2RhbEJ0bnNcIiBvbmNsaWNrPVwiY2xvc2VNb2RhbCg0NywgJHtpc0NvbXBsZXRlZH0sXFxgYCArIGlkICsgYFxcYCwgZmFsc2UpXCI+Q2FuY2VsPC9idXR0b24+XHJcbjxidXR0b24gaWQ9XCJ1cGRhdGVCdG5cIiBjbGFzcz1cIm1vZGFsQnRuc1wiIG9uY2xpY2s9XCJjb21iaW5lVmFsdWVzKFxcYGAgKyB0ZXh0ICsgYFxcYCwgXFxgYCArIGRlc2NyaXB0aW9uICsgYFxcYCwke2lzQ29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLCB0cnVlLCA0LFxcYGAgKyBjb21wbGV0ZWRBdCArIGBcXGApXCI+VXBkYXRlPC9idXR0b24+YDsgXHJcblxyXG4gICAgJChcIi5tb2RhbC1mb290ZXJcIikuaHRtbChtZik7XHJcblxyXG4gICAgdmFyIHRleHRWYWx1ZSA9IHRleHQ7IFxyXG5cclxuICAgICQoXCJ0ZXh0YXJlYVwiKS50ZXh0KGRlc2NyaXB0aW9uKTtcclxuICAgICQoXCIjdG9kb1RpdGxlSW5Nb2RhbFwiKS52YWwodGV4dFZhbHVlKTtcclxuXHJcbiAgIH1cclxuXHJcbiAgIC8vIENsb3NlIE1vZGFsXHJcblxyXG4gICB2YXIgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlNb2RhbCcpO1xyXG4gIFxyXG4gICBmdW5jdGlvbiBjbG9zZU1vZGFsKHRleHQsIGlzQ29tcGxldGVkLCBpZCwgcmVmcmVzaCkge1xyXG4gICAgICAgdG9nZ2xlQ291bnRlciA9IDA7XHJcbiAgICAkKFwiI215TW9kYWxcIikuZmFkZU91dCgpO1xyXG4gIFxyXG4gICAgY29tYmluZVZhbHVlcyh0ZXh0LCBpc0NvbXBsZXRlZCwgaWQsIHJlZnJlc2gpOyBcclxuICAgfVxyXG5cclxuICAgXHJcbiAgIC8vIG9uaW5wdXQgdGV4dGFyZWFcclxuXHJcbiAgIGZ1bmN0aW9uIG9uaW5wdXRUZXh0YXJlYSgpIHtcclxuXHJcbiAgICAkKFwiI3RleHRhcmVhRXJyb3JcIikuaGlkZSgpO1xyXG5cclxuICAgfVxyXG5cclxuICAgZnVuY3Rpb24gb25pbnB1dFRvZG9UaXRsZUluTW9kYWwoKSB7XHJcblxyXG4gICAgJChcIiN0b2RvVGl0bGVJbk1vZGFsRXJyb3JcIikuaGlkZSgpO1xyXG5cclxuICAgfVxyXG5cclxuXHJcbiAgIC8qIFN0YXJ0IFBhZ2UgU2NyaXB0ICovIFxyXG5cclxuICAgZnVuY3Rpb24gc3RhcnRUaW1lKCkge1xyXG4gICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgIHZhciBoID0gdG9kYXkuZ2V0SG91cnMoKTtcclxuICAgIHZhciBtID0gdG9kYXkuZ2V0TWludXRlcygpO1xyXG4gICAgdmFyIHMgPSB0b2RheS5nZXRTZWNvbmRzKCk7XHJcbiAgICBtID0gY2hlY2tUaW1lKG0pO1xyXG4gICAgcyA9IGNoZWNrVGltZShzKTtcclxuXHJcbiAgICBpZiAoaCA8IDEwKSB7XHJcbiAgICAgICAgaCA9IFwiMFwiICsgaDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgJChcIiNjbG9ja1RpdGxlXCIpLmh0bWwoaCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcblxyXG4gICAgdmFyIHQgPSBzZXRUaW1lb3V0KHN0YXJ0VGltZSwgNTAwKTtcclxufVxyXG5mdW5jdGlvbiBjaGVja1RpbWUoaSkge1xyXG4gICAgaWYgKGkgPCAxMCkge2kgPSBcIjBcIiArIGl9OyBcclxuICAgIHJldHVybiBpO1xyXG59XHJcblxyXG5jb25zdCBxdW90ZXNBcnJheSA9IFtcclxuICAgIGBcIkEgam91cm5leSBvZiBhIHRob3VzYW5kIG1pbGVzIGJlZ2lucyB3aXRoIGEgc2luZ2xlIHN0ZXAuXCJcclxuICAgIOKAkyBMYW8gVHp1YCxcclxuICAgIGBcIlRoZSBvbmx5IGltcG9zc2libGUgam91cm5leSBpcyB0aGUgb25lIHlvdSBuZXZlciBiZWdpbi5cIlxyXG4gICAg4oCTIFRvbnkgUm9iYmluc2AsXHJcblxyXG4gICAgYFwiV2UgYXJlIHdoYXQgd2UgcmVwZWF0ZWRseSBkby4gRXhjZWxsZW5jZSwgdGhlbiwgaXMgbm90IGFuIGFjdCBidXQgYSBoYWJpdC5cIlxyXG4gICAg4oCTIEFyaXN0b3RsZWAsXHJcbiAgICBgXCJEb27igJl0IGp1ZGdlIGVhY2ggZGF5IGJ5IHRoZSBoYXJ2ZXN0IHlvdSByZWFwLCBidXQgYnkgdGhlIHNlZWRzIHRoYXQgeW91IHBsYW50LlwiXHJcbiAgICDigJMgUm9iZXJ0IExvdWlzIFN0ZXZlbnNvbmAsXHJcblxyXG4gICAgYFwiV3JpdGluZyBpcyBhbiBleHBsb3JhdGlvbi4gWW91IHN0YXJ0IGZyb20gbm90aGluZyBhbmQgbGVhcm4gYXMgeW91IGdvLlwiXHJcbiAgICAtIEUuIEwuIERvY3Rvcm93YCxcclxuICAgIGBcIkFkYXB0IHdoYXQgaXMgdXNlZnVsLCByZWplY3Qgd2hhdCBpcyB1c2VsZXNzLCBhbmQgYWRkIHdoYXQgaXMgc3BlY2lmaWNhbGx5IHlvdXIgb3duLlwiXHJcbiAgICAtIEJydWNlIExlZWBcclxuXTtcclxuXHJcblxyXG5jb25zdCBxdWVzdGlvbnNBcnJheSA9IFtcclxuXCJXaGF0J3MgbmV4dCBvbiB5b3VyIG1pbmQ/XCIsXHJcblwiV2hhdCdzIHlvdXIgcGxhbiBmb3IgdG9kYXk/XCIsXHJcblwiV2hhdCBkbyB5b3Ugd2FudCB0byBkbyBuZXh0P1wiLFxyXG5cIldoYXQgaXMgeW91ciBtYWluIGZvY3VzIHRvZGF5P1wiLFxyXG5cIldoYXQncyBuZXh0IG9uIHlvdXIgbGlzdD9cIlxyXG5dO1xyXG5cclxuXHJcbmNvbnN0IGFycmF5T2ZCYWNrZ3JvdW5kcyA9IFtcclxuXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvY2xvdWRzY2l0eS5qcGVnXCIsIC8vIGp1c3QgaW4gY2FzZSBkYXRlIGdldHMgdG8gMCBzb21lZGF5IDp8XHJcbiAgICBcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9hcHBsZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYmVhY2hhbmFuYXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2JlYWNoY2l0eS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYmlrZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYnVsYi5qcGVnXCIsXHJcbiAgICBcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9ib2F0LmpwZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2JvdHRsZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvY2hlcnJpZXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2NoZXNzLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9jbG91ZHMuanBlZ1wiLFxyXG4gICAgXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvZmVycmFyaS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvZm9yZXN0cm9hZC5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9nbGFzc2VzLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9ndWl0YXIuanBnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvaGVhZHBob25lcy5qcGVnXCIsXHJcblxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2hpZ2h3YXkuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2hvbWUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2pldGVuZ2luZS5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9raXR0ZW4uanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2xvZ3MuanBlZ1wiLFxyXG5cclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9tYXRjaC5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9wYXJrZWRpbndpbGQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvYWQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvcGUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3NhbmRhbHMuanBlZ1wiLFxyXG5cclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9zZWFyb2Nrcy5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvc2t5bmlnaHQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3RodW5kZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3VuZGVyd2F0ZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dpbmcuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dvbHZlcy5qcGVnXCJcclxuXTtcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVF1b3RlKG51bSwgdG9kb3MpIHtcclxuXHJcbiAgICBsZXQgcmFuZG9tUXVvdGUgPSAnJztcclxuXHJcbiAgICBpZiAobnVtID09IDApIHtcclxuICAgICAgICAkKFwiI3F1ZXN0aW9uc1RpdGxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjcXVvdGVUaXRsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgIHJhbmRvbVF1b3RlID0gcXVvdGVzQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVvdGVzQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQocmFuZG9tUXVvdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaWYgKHRvZG9zID09IDApIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgbm8gdW5maW5pc2hlZCB0b2Rvc2ApOyAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRvZG9zID09IDEpIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgJHt0b2Rvc30gdW5maW5pc2hlZCB0b2RvIGJlbG93YCk7ICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQoYFlvdSBoYXZlICR7dG9kb3N9IHVuZmluaXNoZWQgdG9kb3MgYmVsb3dgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjcXVlc3Rpb25zVGl0bGVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIHJhbmRvbVF1b3RlID0gcXVlc3Rpb25zQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVlc3Rpb25zQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdWVzdGlvbnNUaXRsZVwiKS50ZXh0KHJhbmRvbVF1b3RlKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUJhY2tncm91bmRJbWcoKSB7XHJcblxyXG4gICAgLy8gbGV0IHJhbmRJbWcgPSBhcnJheU9mQmFja2dyb3VuZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXlPZkJhY2tncm91bmRzLmxlbmd0aCldO1xyXG5cclxuICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgICQoJyNvcGVuaW5nRGl2JykuZmFkZVRvKDUwMCwgMC41LCBmdW5jdGlvbigpICAge1xyXG4gICBcclxuICAgICAgICAkKHRoaXMpLmNzcyh7XHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZFwiOiBgdXJsKCcke2FycmF5T2ZCYWNrZ3JvdW5kc1t0b2RheV19JylgLFxyXG4gICAgICAgICAgICBcImJhY2tncm91bmQtYXR0YWNobWVudFwiOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIFwib3ZlcmZsb3dcIjogXCJoaWRkZW5cIixcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1yZXBlYXRcIjogXCJuby1yZXBlYXRcIixcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLXNpemVcIjogXCJjb3ZlclwiLFxyXG4gICAgICAgICAgICBcIi13ZWJraXQtYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIixcclxuICAgICAgICAgICAgXCItbW96LWJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXHJcbiAgICAgICAgICAgIFwiLW8tYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pLmZhZGVUbyg1MDAsIDEpO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIFNjcm9sbGluZyBBcm91bmQgKi8gXHJcblxyXG4kKFwiI3Njcm9sbERvd25cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAkKFwiI2NvbnRhaW5lckJnXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgfSwgMTAwMCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qIE5hdmJhciBMaSBJbm5lciBVbCBsaXN0cyAqLyBcclxuXHJcblxyXG5mdW5jdGlvbiBsaW1pdGluZygpIHtcclxuICBcclxuICAgIGNvbnN0IGxpbWl0QXJyYXkgPSBbXCJObyBsaW1pdFwiLCAxLCAzLCA1LCAxMCwgMTUsIDIwXTtcclxuICBcclxuICAgICAgbGV0IGFkZExpbWl0ID0gJyc7XHJcbiAgICAgIGxpbWl0QXJyYXkuZm9yRWFjaCgobGltLCBpKSA9PiB7XHJcbiAgICAgICAgYWRkTGltaXQgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICA8aW5wdXQgY2xhc3M9XCJsaW1pdFJhZGlvXCIgIG5hbWU9XCJsaW1pdFwiIHR5cGU9XCJyYWRpb1wiPlxyXG4gICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiAxMDA7IHRleHQtYWxpZ246IGNlbnRlcjtcIj4ke2xpbX08L3NwYW4+XHJcbiAgICAgIDwvbGFiZWw+XHJcbiAgICBgO1xyXG4gICAgICB9KTtcclxuICBcclxuICAgICQoXCIjbGltaXRVbFwiKS5hcHBlbmQoYWRkTGltaXQpO1xyXG4gIFxyXG4gICAgJChcIi5saW1pdFJhZGlvOmVxKDApXCIpLmF0dHIoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICBcclxuICBcclxuICAgICAgICAvKiBMaW1pdCBzZWFyY2ggKi9cclxuICBcclxuICAgICAgICAkKFwiLmxpbWl0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgXHJcbiAgICAgICAgbGltaXQgPSAkKHRoaXMpLnBhcmVudChcIi5yYWRpb1wiKS50ZXh0KCk7XHJcbiAgICAgICAgbGltaXQgPSBsaW1pdC50cmltKCk7ICBcclxuICBcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBcclxuICBmdW5jdGlvbiBzb3J0aW5nKCkge1xyXG4gIFxyXG4gICAgICAgIC8qIFNvcnQgZG9jdW1lbnRzICovXHJcbiAgXHJcbiAgICAgICAgJChcIi5zb3J0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgICAgc29ydCA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgc29ydCA9IHNvcnQudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIHNlYXJjaCgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBkaXNwbGF5aW5nKCkge1xyXG4gICAgXHJcbiAgICBjb25zdCBkaXNwbGF5QXJyYXkgPSBbXCJBbGxcIiwgXCJDb21wbGV0ZWRcIiwgXCJOb3QgY29tcGxldGVkXCJdO1xyXG4gIFxyXG4gICAgICBsZXQgYWRkRGlzcGxheSA9ICcnO1xyXG4gICAgICBkaXNwbGF5QXJyYXkuZm9yRWFjaCgoZGlzLCBpKSA9PiB7XHJcbiAgICAgIGFkZERpc3BsYXkgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZGlzcGxheVJhZGlvXCIgbmFtZT1cImRpc3BsYXlcIiB0eXBlPVwicmFkaW9cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6IDEwMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPiR7ZGlzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICAkKFwiI2Rpc3BsYXlVbFwiKS5hcHBlbmQoYWRkRGlzcGxheSk7XHJcbiAgXHJcbiAgICAkKFwiLmRpc3BsYXlSYWRpbzplcSgwKVwiKS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgXHJcbiAgICAgIFxyXG4gICAgICAgICAgLyogRGlzcGxheSBkb2N1bWVudHMgKi9cclxuICBcclxuICAgICAgICAkKFwiLmRpc3BsYXlSYWRpb1wiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICBcclxuICAgICAgZGlzcGxheSA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgZGlzcGxheSA9IGRpc3BsYXkudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIGlmIChkaXNwbGF5ID09IFwiTm90IGNvbXBsZXRlZFwiKSB7XHJcbiAgICAgICAgJChcIi5zb3J0Q29tcGxldGVkXCIpLmF0dHIoXCJkaXNhYmxlZFwiLHRydWUpO1xyXG4gICAgICAgICQoYC5sYWJlbENvbXBsZXRlZGApLmNzcyh7IFwiY3Vyc29yXCI6IFwiZGVmYXVsdFwiIH0pO1xyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikuaG92ZXIoICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMjIyXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuc29ydENvbXBsZXRlZFwiKS5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSk7XHJcbiAgICAgICAgJChgLmxhYmVsQ29tcGxldGVkYCkuY3NzKHsgXCJjdXJzb3JcIjogXCJwb2ludGVyXCIgfSk7XHJcbiAgXHJcbiAgICAgICAgJChcIi5sYWJlbENvbXBsZXRlZFwiKS5vbignbW91c2VlbnRlcicsICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMDA3QkZGXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikub24oJ21vdXNlbGVhdmUnLCAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwiIzIyMlwiKTtcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBzZWFyY2goKTtcclxuICBcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG5cclxuICAgIC8qIEZhZGUgaW4gLyBvdXQgbmF2YmFyIGlubmVyIGxpc3RzICovXHJcbiAgIFxyXG4kKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlSW4oKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlT3V0KCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG5cclxuXHJcbi8qIFNlYXJjaCBUb2RvcyAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuXHJcbiAgICAvLyBmb3Igbm93IFxyXG4gICAgaWRzQXJyID0gW107IFxyXG5cclxuICAgIGxldCB0ZXh0ID0gJChcIi5zZWFyY2hUb2Rvc0Zvcm1cIikudmFsKCk7XHJcblxyXG4gICAgaWYgKHRleHQgPT0gJycpIHtcclxuICAgICAgdGV4dCA9IFwiLlwiO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAvdG9kb3MvJHt0ZXh0fS8ke2Rpc3BsYXl9LyR7bGltaXR9LyR7c29ydH0vYCxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpc3QgPSAnJztcclxuICAgICAgICAgICAgdmFyIGlkID0gJyc7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZCA9IGRhdGEudG9kb3NbaV0uX2lkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRleHQgPSBkYXRhLnRvZG9zW2ldLnRleHQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkYXRhLnRvZG9zW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSAnJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YS50b2Rvc1tpXS50ZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQuc3Vic3RyKDAsNTApICsgXCIuLi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICBzdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICAgZmluaXNoZWQgPSBcIkNvbXBsZXRlZCBBdDogXCIgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0LnN1YnN0cigxMiw4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgIHN0YXR1cyA9IFwiTm90IGNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsaXN0ICs9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHRvZG9Db250YWluZXJcIiBvbmNsaWNrPVwiYWRkSWRUb0FycmF5KFxcYGAgKyBkYXRhLnRvZG9zW2ldLl9pZCArIGBcXGApXCI+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGl0bGVcIj4ke3Nob3J0ZW5UaXRsZX08L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwic3RhdHVzXCI+JHtzdGF0dXN9PC9wPjwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+PHAgY2xhc3M9XCJmaW5pc2hlZFwiPiR7ZmluaXNoZWR9PC9wPiA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiIHN0eWxlPVwiaGVpZ2h0OiAxMDVweDtcIj4gXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biB0b2RvQnRuXCIgdGl0bGU9XCJVcGRhdGUgVG9kb1wiIG9uY2xpY2s9XCJvcGVuTW9kYWwoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCAke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSwgXFxgYCArIGRhdGEudG9kb3NbaV0uY3JlYXRlZEF0ICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm91dGVyXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgb25jbGljaz0nY29tcGxldGVUb2RvKCR7ZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICR7aX0pJz5cclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj48L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiUmVtb3ZlIFRvZG9cIiBpZD1cInJlbW92ZVRvZG9CdG5cIiBvbmNsaWNrPVwiZGVsZXRlVG9kbyhcXGBgICsgaWQgKyBgXFxgKVwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiB5b3Ugc2VhcmNoIHlvdSByZW1vdmUgYWxsIHByZXZpb3VzIHRvZG9zIGFuZCByZXBsYWNlIHdpdGggdGhlIG5ldyBvbmVzIHRoYXQgZml0IHRoZSBzZWFyY2hcclxuICAgICAgICAgICAgJChcIi50b2RvQ29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKFwiI2xpc3RPZlRvZG9zXCIpLmFwcGVuZChsaXN0KTtcclxuXHJcblxyXG4gICAgICAgICAgICBhZGREYXJrU2VsZWN0ID0gJChcIi50b2RvQ29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgYWRkRGFya1NlbGVjdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImRhcmtTZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8qIG9uY2UgdGV4dCBpcyBhZGRlZCB3ZSBjYW4gdG9nZ2xlIHRoZSBjbGFzcyB3aXRoIGNvdW50ZXIgZnJvbSBhbm90aGVyIGZvciBsb29wICovXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgIGRhdGEudG9kb3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkuYWRkQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC50aXRsZTplcSgke2l9KWApLmNzcyh7IFwidGV4dC1kZWNvcmF0aW9uXCI6IFwibGluZS10aHJvdWdoXCIgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLnJlbW92ZUNsYXNzKFwibW92ZVwiKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBFTlRFUiBLRVkgKi9cclxuXHJcbiAgICAvLyBQb3N0aW5nIHRvZG9zXHJcblxyXG4gJChcIiNpbnB1dFRpdGxlXCIpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGlmKGV2ZW50LmtleUNvZGUgPT0gMTMpe1xyXG4gICAgIHN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2VhcmNoaW5nIHRvZG9zXHJcblxyXG4gICAgJChcIi5zZWFyY2hUb2Rvc0Zvcm1cIikua2V5dXAoZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGlmKGV2ZW50LmtleUNvZGUgPT0gMTMpe1xyXG4gICAgICAgICBzZWFyY2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLyogREVMRVRFIEtFWSAqLyBcclxuXHJcbiAgICAgICAgbGV0IGFkZElkVG9BcnJheSA9IChpZCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCBpZHNBcnIuaW5jbHVkZXMoaWQpICkge1xyXG4gICAgICAgICAgICAgICAgaWRzQXJyLnNwbGljZShpZHNBcnIuZmluZEluZGV4KGluZGV4ID0+IGluZGV4ID09IGlkKSk7IC8vIGlmIGVsZW1lbnQgaXMgaW4gYXJyYXksIGZpbmQgaW5kZXggJiByZW1vdmUgZWxlbWVudCAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZHNBcnIucHVzaChpZCk7ICAgIC8vIGVsc2UgcHVzaCBpdCB0byBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICBjb25zb2xlLmxvZyhpZHNBcnIpO1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5UHJlc3NDaGVjayhldmVudCl7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0NCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggYWRkRGFya1NlbGVjdC5oYXNDbGFzcyhcImRhcmtTZWxlY3RcIikgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgLy8gYWRkIHNjcm9sbCBwb3NpdGlvbiBoZXJlIGFzIHdlbGxcclxuICAgICAgICAgICAgICAgICAgIC8vIHVubGVzcyB0b2RvcyBhcnJheSBpcyBlbXB0eVxyXG5cclxuICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvZG9zLycgKyBpZHNBcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgdGhpcyByZWZyZXNoIHRvIGF2b2lkIHNjcm9sbCBlcnJvclxyXG5cclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIH1cclxuXHJcbiJdfQ==
