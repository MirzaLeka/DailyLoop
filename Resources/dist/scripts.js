"use strict";var limit="No limit",display="Display all",sort="Date created";$(window).scroll(function(){$("#info").offset().top+50+$("#info").outerHeight()-$(window).height()<=$(this).scrollTop()?$("#scrollBack").fadeIn():$("#scrollBack").fadeOut()}),$("#scrollBack").click(function(){$("html, body").animate({scrollTop:0},1e3)});var scrollPosition="",addDarkSelect=void 0,idsArr=[];function getTodos(){$.ajax({type:"GET",url:"/todos",success:function(o){if(0==o.todos.length)sessionStorage.removeItem("scrollPosition"),$(".notYet").css("display","none"),$("#inputTitle").attr("placeholder","Submit your first todo"),changeQuote(0,0);else{for(var e=0,t=0;t<o.todos.length;t++)1==o.todos[t].completed&&e++;$(".notYet").css("display","block"),$("#inputTitle").attr("placeholder",""),changeQuote(1,o.todos.length-e)}var s="",a="",n="",i="";for(t=0;t<o.todos.length;t++){a=o.todos[t]._id.toString(),n=o.todos[t].text.toString(),i=o.todos[t].description;var l="",d="",c=o.todos[t].text;50<o.todos[t].text.length&&(c=o.todos[t].text.substr(0,50)+"..."),o.todos[t].completed?(l="Completed",d="Completed At: "+o.todos[t].completedAt.substr(12,8)):l="Not completed",s+='<div class="container todoContainer" onclick="addIdToArray(`'+o.todos[t]._id+'`)">\n    \n     <div class="row">\n      <div class="col-sm-9">\n<div class="row">\n<div class="col-sm-12">\n<h3 class="title">'+c+'</h3>\n    </div>\n</div>\n <div class="row">\n      \n <div class="col-sm-6"><p class="status">'+l+'</p></div>\n <div class="col-sm-6"><p class="finished">'+d+'</p> </div>\n  </div>\n        </div>\n    <div class="col-sm-3" style="height: 105px;"> \n    <div class="col-sm-4 todoBtnCol">\n <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+n+"`, `"+i+"`, "+o.todos[t].completed+",`"+a+"`,`"+o.todos[t].completedAt+"`, "+t+", `"+o.todos[t].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n </div>\n <div class="col-sm-4 todoBtnCol">\n \n <div class="outer" title="Complete Todo" onclick=\'completeTodo('+o.todos[t].completed+",`"+a+"`, "+t+')\'>\n <div class="switch"></div>\n </div>\n  </div>        \n<div class="col-sm-4 todoBtnCol">\n   <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+a+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n         </div>\n    </div>\n         \n      </div>\n </div>'}$("#listOfTodos").append(s);for(t=0;t<o.todos.length;t++)o.todos[t].completed?($(".switch:eq("+t+")").addClass("move"),$(".title:eq("+t+")").css({"text-decoration":"line-through"})):$(".switch:eq("+t+")").removeClass("move");(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")}),$(".outer, .todoBtn").click(function(){var o=$(window).scrollTop();sessionStorage.setItem("scrollPosition",o)})}})}function submit(){var o=$("#inputTitle").val();if(""==o)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please insert text to submit todo.");if(200<o.length)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please keep todo title no longer than 200 characters.");var e={text:o};$.ajax({type:"POST",url:"/todos",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(o){location.reload()}})}function clearSubmitTodoError(){$("#submitTodoError").hide()}function deleteTodo(o){$.ajax({url:"/todos/"+o,type:"DELETE",success:function(){location.reload()}})}function deleteAllTodos(){sessionStorage.removeItem("scrollPosition"),$.ajax({url:"/todos",type:"DELETE",success:function(){}}),window.location.reload()}function completeTodo(o,e,t){o?(o=!1,$(".switch:eq("+t+")").removeClass("move")):(o=!0,$(".switch:eq("+t+")").addClass("move"));var s={completed:o};$.ajax({url:"/todos/"+e,data:JSON.stringify(s),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(o){location.reload()}})}function updateTodo(o,e,t,s,a,n){var i=0;o=(o=(o=$("#todoTitleInModal").val()).replace(/"/g,"'")).trim(),e=(e=(e=$("textarea").val()).replace(/"/g,"'")).trim(),""==o?($("#todoTitleInModalError").css("display","block"),$("#todoTitleInModalError").text("Title must have at least one character"),i++):200<o.length&&($("#todoTitleInModalError").show(),$("#todoTitleInModalError").text("Exceeded maximum number of characters (200)"),i++),2e3<e.length&&($("#textareaError").show(),$("#textareaError").text("Exceeded maximum number of characters (2000)"),i++);var l={text:o,description:e,completed:t,someNew:n};a&&0==i&&$.ajax({url:"/todos/"+s,data:JSON.stringify(l),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(o){$("#myModal").fadeOut(),location.reload()}})}$(document).ready(function(){null!=(scrollPosition=sessionStorage.getItem("scrollPosition"))&&$("html, body").animate({scrollTop:scrollPosition},100),startTime(),changeBackgroundImg(),getTodos(),limiting(),sorting(),displaying()});var data={},keepTheDate="";function combineValues(o,e,t,s,a,n,i){keepTheDate="string"==typeof n?n:i,"string"==typeof o?(data.text=o,keepTheDate=$(".switchModal").hasClass("moveModal")?(data.completed=!0,keepTheDate):(data.completed=!1,null),a=!0):"number"==typeof o&&(data.completed=t,a=!1,keepTheDate=t?n:null),updateTodo(data.text,e,data.completed,s,a,keepTheDate)}var modalStatus="",modalFinished="",toggleCounter=0,toggleValue=[];function completeInModal(o,e,t,s,a,n,i){toggleValue[i]=0==toggleCounter?!t:!toggleValue[i];var l=(new Date).toString();l=l.substr(4,20),modalFinished=l,toggleValue[i]?($(".switchModal").addClass("moveModal"),modalStatus="Completed",$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>')),$("#modalStatus").text(modalStatus),toggleCounter++,combineValues(o,e,toggleValue[i],s,a,modalFinished,n)}function openModal(o,e,t,s,a,n,i){modal.style.display="flex",modalFinished=a,modalStatus=t?"Completed":"Not Completed";var l='\n<p class="closeModal" onclick="closeModal(47, '+t+",`"+s+'`, false)">&times</p>\n          \n<h3 class="modalTitle" style="text-align: center;\ndisplay: block;\nmargin: 0 auto;\nwidth: 100%; margin-top: 10px;">Update Todo</h3>\n';$(".modal-header").html(l),mb='<div class="modalPause">  \n<h5 class="pauseDesc">NAME</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<input id="todoTitleInModal" oninput="oninputTodoTitleInModal()" autofocus style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px;" />\n<p id="todoTitleInModalError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+='<div class="modalPause">  \n<h5 class="pauseDesc">DESCRIPTION</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<textarea id="textarea" placeholder="Optional" oninput="oninputTextarea()" rows=5 style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px; resize: none;"></textarea>\n<p id="textareaError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+=' \n <div class="modalPause">  \n<h5 class="pauseDesc">DETAILS</h5>\n<div class="container bg-3 text-center" style="width: 768px; height: 85px; padding-bottom: 0px; margin-top: 10px;">\n<div class="row">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p>Status:</p>\n</div>\n<div class="col-sm-2">\n<p id="modalStatus">'+modalStatus+'</p>\n</div>\n<div class="col-sm-2">\n<div class="outerModal" title="Complete Todo" id="toggleBtn" onclick="completeInModal(47, `'+e+"` , "+t+",`"+s+"`, 'noRefresh', `"+a+"`, "+n+')" style="margin: 0 auto; text-align: center">\n<div class="switchModal"></div>\n</div>\n    \n<div class="col-sm-3"></div>\n    </div>\n</div>\n<div class="row" style="padding-top: 15px;">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p id="completeAtPar">Created   Completed:</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails">'+i+'</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails" id="modalFinished">'+modalFinished+'</p>\n</div>\n<div class="col-sm-3"></div>\n        </div>\n    </div>\n</div>\n',$(".modal-body").html(mb),t?(modalStatus="Completed",$(".switchModal").addClass("moveModal"),$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>'));var d='<button id="cancelBtn" class="modalBtns" onclick="closeModal(47, '+t+",`"+s+'`, false)">Cancel</button>\n<button id="updateBtn" class="modalBtns" onclick="combineValues(`'+o+"`, `"+e+"`,"+t+",`"+s+"`, true, 4,`"+a+'`)">Update</button>';$(".modal-footer").html(d);var c=o;$("textarea").text(e),$("#todoTitleInModal").val(c)}var modal=document.getElementById("myModal");function closeModal(o,e,t,s){toggleCounter=0,$("#myModal").fadeOut(),combineValues(o,e,t,s)}function oninputTextarea(){$("#textareaError").hide()}function oninputTodoTitleInModal(){$("#todoTitleInModalError").hide()}function startTime(){var o=new Date,e=o.getHours(),t=o.getMinutes(),s=o.getSeconds();t=checkTime(t),s=checkTime(s),e<10&&(e="0"+e),$("#clockTitle").html(e+":"+t+":"+s);setTimeout(startTime,500)}function checkTime(o){return o<10&&(o="0"+o),o}var quotesArray=['"A journey of a thousand miles begins with a single step."\n    – Lao Tzu','"The only impossible journey is the one you never begin."\n    – Tony Robbins','"We are what we repeatedly do. Excellence, then, is not an act but a habit."\n    – Aristotle','"Don’t judge each day by the harvest you reap, but by the seeds that you plant."\n    – Robert Louis Stevenson','"Writing is an exploration. You start from nothing and learn as you go."\n    - E. L. Doctorow','"Adapt what is useful, reject what is useless, and add what is specifically your own."\n    - Bruce Lee'],questionsArray=["What's next on your mind?","What's your plan for today?","What do you want to do next?","What is your main focus today?","What's next on your list?"],arrayOfBackgrounds=["../Resources/img/cover/beachananas.jpeg","../Resources/img/cover/bike.jpeg","../Resources/img/cover/bottle.jpeg","../Resources/img/cover/clouds.jpeg","../Resources/img/cover/ferrari.jpeg","../Resources/img/cover/forestroad.jpg","../Resources/img/cover/glasses.jpeg","../Resources/img/cover/guitar.jpg","../Resources/img/cover/headphones.jpeg","../Resources/img/cover/jetengine.jpg","../Resources/img/cover/kitten.jpeg","../Resources/img/cover/raspberries.jpeg","../Resources/img/cover/road.jpeg","../Resources/img/cover/rope.jpeg","../Resources/img/cover/sandals.jpeg","../Resources/img/cover/searocks.jpeg","../Resources/img/cover/thunder.jpeg","../Resources/img/cover/underwater.jpeg","../Resources/img/cover/wing.jpeg","../Resources/img/cover/wolves.jpeg"];function changeQuote(o,e){var t="";0==o?($("#questionsTitle").css("display","none"),$("#quoteTitle").css("display","block"),t=quotesArray[Math.floor(Math.random()*quotesArray.length)],$("#quoteTitle").text(t)):(0==e?$("#quoteTitle").text("You have no unfinished todos"):1==e?$("#quoteTitle").text("You have "+e+" unfinished todo below"):$("#quoteTitle").text("You have "+e+" unfinished todos below"),$("#questionsTitle").css("display","block"),t=questionsArray[Math.floor(Math.random()*questionsArray.length)],$("#questionsTitle").text(t))}function changeBackgroundImg(){var o=arrayOfBackgrounds[Math.floor(Math.random()*arrayOfBackgrounds.length)];$("#openingDiv").css({background:"url('"+o+"')","background-attachment":"fixed",overflow:"hidden","background-position":"center","background-repeat":"no-repeat","background-size":"cover","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover",opacity:.95})}function limiting(){var t="";["No limit",1,3,5,10,15,20].forEach(function(o,e){t+='\n      <label class="radio">\n      <input class="limitRadio"  name="limit" type="radio">\n      <span style="font-weight: 100; text-align: center;">'+o+"</span>\n      </label>\n    "}),$("#limitUl").append(t),$(".limitRadio:eq(0)").attr("checked",!0),$(".limitRadio").click(function(){limit=(limit=$(this).parent(".radio").text()).trim(),search()})}function sorting(){$(".sortRadio").click(function(){sort=(sort=$(this).parent(".radio").text()).trim(),search()})}function displaying(){var t="";["All","Completed","Not completed"].forEach(function(o,e){t+='\n      <label class="radio">\n                <input class="displayRadio" name="display" type="radio">\n                <span style="font-weight: 100; text-align: center;">'+o+"</span>\n              </label>\n      "}),$("#displayUl").append(t),$(".displayRadio:eq(0)").attr("checked",!0),$(".displayRadio").click(function(){"Not completed"==(display=(display=$(this).parent(".radio").text()).trim())?($(".sortCompleted").attr("disabled",!0),$(".labelCompleted").css({cursor:"default"}),$(".labelCompleted").hover(function(){$(this).css("background","#222")})):($(".sortCompleted").attr("disabled",!1),$(".labelCompleted").css({cursor:"pointer"}),$(".labelCompleted").on("mouseenter",function(){$(this).css("background","#007BFF")}),$(".labelCompleted").on("mouseleave",function(){$(this).css("background","#222")})),search()})}function search(){idsArr=[];var o=$(".searchTodosForm").val();""==o&&(o="."),$.ajax({type:"GET",url:"/todos/"+o+"/"+display+"/"+limit+"/"+sort+"/",success:function(o){for(var e="",t="",s="",a="",n=0;n<o.todos.length;n++){t=o.todos[n]._id.toString(),s=o.todos[n].text.toString(),a=o.todos[n].description;var i="",l="",d=o.todos[n].text;50<o.todos[n].text.length&&(d=o.todos[n].text.substr(0,50)+"..."),o.todos[n].completed?(i="Completed",l="Completed At: "+o.todos[n].completedAt.substr(12,8)):i="Not completed",e+='<div class="container todoContainer" onclick="addIdToArray(`'+o.todos[n]._id+'`)">\n                \n                 <div class="row">\n                  <div class="col-sm-9">\n            <div class="row">\n            <div class="col-sm-12">\n            <h3 class="title">'+d+'</h3>\n                </div>\n            </div>\n             <div class="row">\n                  \n             <div class="col-sm-6"><p class="status">'+i+'</p></div>\n             <div class="col-sm-6"><p class="finished">'+l+'</p> </div>\n              </div>\n                    </div>\n                <div class="col-sm-3" style="height: 105px;"> \n                <div class="col-sm-4 todoBtnCol">\n             <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+s+"`, `"+a+"`, "+o.todos[n].completed+",`"+t+"`,`"+o.todos[n].completedAt+"`, "+n+", `"+o.todos[n].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n             </div>\n             <div class="col-sm-4 todoBtnCol">\n             \n             <div class="outer" title="Complete Todo" onclick=\'completeTodo('+o.todos[n].completed+",`"+t+"`, "+n+')\'>\n             <div class="switch"></div>\n             </div>\n              </div>        \n            <div class="col-sm-4 todoBtnCol">\n               <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+t+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n                     </div>\n                </div>\n                     \n                  </div>\n             </div>'}$(".todoContainer").remove(),$("#listOfTodos").append(e),(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")});for(n=0;n<o.todos.length;n++)o.todos[n].completed?($(".switch:eq("+n+")").addClass("move"),$(".title:eq("+n+")").css({"text-decoration":"line-through"})):$(".switch:eq("+n+")").removeClass("move")}})}$("#scrollDown").click(function(){$("html, body").animate({scrollTop:$("#containerBg").offset().top},1e3)}),$(".navbarLi").on("mouseenter",function(){$(this).find(".innerUl").fadeIn()}),$(".navbarLi").on("mouseleave",function(){$(this).find(".innerUl").fadeOut()}),$("#inputTitle").keyup(function(o){13==o.keyCode&&submit()}),$(".searchTodosForm").keyup(function(o){13==o.keyCode&&search()});var addIdToArray=function(e){idsArr.includes(e)?idsArr.splice(idsArr.findIndex(function(o){return o==e})):idsArr.push(e),console.log(idsArr)};function KeyPressCheck(o){44==o.keyCode&&addDarkSelect.hasClass("darkSelect")&&$.ajax({url:"/todos/"+idsArr,type:"DELETE",success:function(){location.reload()}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsibGltaXQiLCJkaXNwbGF5Iiwid2luZG93Iiwic2Nyb2xsIiwiJCIsIm9mZnNldCIsInRvcCIsIm91dGVySGVpZ2h0IiwidGhpcyIsInNjcm9sbFRvcCIsImZhZGVJbiIsImNsaWNrIiwiYW5pbWF0ZSIsInNjcm9sbFBvc2l0aW9uIiwiYWRkRGFya1NlbGVjdCIsImlkc0FyciIsInVybCIsImFqYXgiLCJzZXNzaW9uU3RvcmFnZSIsImRhdGEiLCJ0b2RvcyIsImxlbmd0aCIsInJlbW92ZUl0ZW0iLCJjb21wbGV0ZWRUb2RvcyIsImF0dHIiLCJjaGFuZ2VRdW90ZSIsImkiLCJjb21wbGV0ZWQiLCJ0ZXh0IiwiZGVzY3JpcHRpb24iLCJpZCIsInNob3J0ZW5UaXRsZSIsIl9pZCIsInN0YXR1cyIsInN1YnN0ciIsImZpbmlzaGVkIiwiY29tcGxldGVkQXQiLCJjcmVhdGVkQXQiLCJhcHBlbmQiLCJsaXN0Iiwic2hvdyIsImFkZENsYXNzIiwiY3NzIiwidGV4dC1kZWNvcmF0aW9uIiwicmVtb3ZlQ2xhc3MiLCJvbiIsInRvZ2dsZUNsYXNzIiwiZGVsZXRlVG9kbyIsInNldEl0ZW0iLCJjdXJyZW50U2Nyb2xsUG9zaXRpb24iLCJ2YWwiLCJ0eXBlIiwic3VjY2VzcyIsInJlbG9hZCIsImxvY2F0aW9uIiwiaXNDb21wbGV0ZWQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwiZXJyb3JDb3VudGVyIiwicmVmcmVzaCIsInNvbWVJZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9jZXNzRGF0YSIsImtlZXBUaGVEYXRlIiwiY29tYmluZVZhbHVlcyIsIm1vZGFsRmluaXNoZWQiLCJyZXBsYWNlIiwidHJpbSIsInVwZGF0ZVRvZG8iLCJtb2RhbFN0YXR1cyIsInRvZ2dsZVZhbHVlIiwiY29tcGxldGVJbk1vZGFsIiwic29tZU5ldyIsImZhZGVPdXQiLCJkb2N1bWVudCIsInJlYWR5IiwiZ2V0SXRlbSIsImNoYW5nZUJhY2tncm91bmRJbWciLCJnZXRUb2RvcyIsInNvcnRpbmciLCJkaXNwbGF5aW5nIiwibWgiLCJoYXNDbGFzcyIsInRvZ2dsZUNvdW50ZXIiLCJ0ZXh0VmFsdWUiLCJnZXRFbGVtZW50QnlJZCIsInN0ciIsIm9uaW5wdXRUZXh0YXJlYSIsIm9uaW5wdXRUb2RvVGl0bGVJbk1vZGFsIiwiaHRtbCIsImdldE1pbnV0ZXMiLCJvcGVuTW9kYWwiLCJtb2RhbCIsInN0eWxlIiwiYXJyYXlPZkJhY2tncm91bmRzIiwicmFuZG9tUXVvdGUiLCJxdW90ZXNBcnJheSIsIm1iIiwic29ydCIsInNlYXJjaCIsIm1mIiwiYWRkRGlzcGxheSIsImhpZGUiLCJzdGFydFRpbWUiLCJ0b2RheSIsIkRhdGUiLCJoIiwiZ2V0SG91cnMiLCJtIiwicyIsImdldFNlY29uZHMiLCJjaGVja1RpbWUiLCJzZXRUaW1lb3V0IiwicXVlc3Rpb25zQXJyYXkiLCJudW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdWJtaXQiLCJzcGxpY2UiLCJmaW5kSW5kZXgiLCJiYWNrZ3JvdW5kIiwicmFuZEltZyIsIm92ZXJmbG93IiwiYmFja2dyb3VuZC1wb3NpdGlvbiIsImNvbnNvbGUiLCJiYWNrZ3JvdW5kLXNpemUiLCItd2Via2l0LWJhY2tncm91bmQtc2l6ZSIsIi1tb3otYmFja2dyb3VuZC1zaXplIiwiLW8tYmFja2dyb3VuZC1zaXplIiwiZXZlbnQiLCJrZXlDb2RlIiwibGltaXRpbmciLCJhZGRMaW1pdCIsImZvckVhY2giLCJsaW0iLCJwYXJlbnQiLCJkaXMiLCJjdXJzb3IiLCJob3ZlciIsInRvU3RyaW5nIiwicmVtb3ZlIiwiZmluZCIsImtleXVwIiwiYWRkSWRUb0FycmF5IiwiaW5jbHVkZXMiLCJpbmRleCIsInB1c2giLCJsb2ciLCJLZXlQcmVzc0NoZWNrIl0sIm1hcHBpbmdzIjoiYUFHTSxJQUFJQSxNQUFRLFdBQVJBLFFBQVEsY0FDUkMsS0FBVSxlQU1aQyxFQUFGQSxRQUFBQyxPQUFpQixXQUNKQyxFQUFBLFNBQVNDLFNBQVhDLElB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QUssWUFBWXJJLFdBR3pCTixFQUFFLGFBQWF5QyxHQUFHLGFBQWMsV0FDaEN6QyxFQUFFSSxNQUFNdUksS0FBSyxZQUFZckUsWUE0SDVCdEUsRUFBRSxlQUFlNEksTUFBTSxTQUFTYixHQUNULElBQWpCQSxFQUFNQyxTQUNSYixXQU1EbkgsRUFBRSxvQkFBb0I0SSxNQUFNLFNBQVNiLEdBQ2IsSUFBakJBLEVBQU1DLFNBQ1JoQyxXQVFELElBQUk2QyxhQUFlLFNBQUNuSCxHQUVYZixPQUFPbUksU0FBU3BILEdBQ2pCZixPQUFPeUcsT0FBT3pHLE9BQU8wRyxVQUFVLFNBQUEwQixHQUFBLE9BQVNBLEdBQVNySCxLQUVqRGYsT0FBT3FJLEtBQUt0SCxHQUdqQmdHLFFBQVF1QixJQUFJdEksU0FLZixTQUFTdUksY0FBY25CLEdBRUUsSUFBakJBLEVBQU1DLFNBRUR0SCxjQUFjcUUsU0FBUyxlQUt6Qi9FLEVBQUVhLEtBQUssQ0FDTkQsSUFBSyxVQUFZRCxPQUNqQm9DLEtBQU0sU0FDTkMsUUFBUyxXQUNURSxTQUFTRCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiAgICAvKiBEZWZhdWx0IHZhbHVlcyBvZiBuYXZiYXJMaSAqL1xyXG5cclxuICAgICAgbGV0IGxpbWl0ID0gXCJObyBsaW1pdFwiO1xyXG4gICAgICBsZXQgZGlzcGxheSA9IFwiRGlzcGxheSBhbGxcIjtcclxuICAgICAgbGV0IHNvcnQgPSAnRGF0ZSBjcmVhdGVkJztcclxuXHJcblxyXG4gICAgICAvKiBTY3JvbGxpbmcgYmFjayAqL1xyXG5cclxuICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaFQgPSAkKCcjaW5mbycpLm9mZnNldCgpLnRvcCArIDUwLCAvLyBzaW5jZSAudG9kb0NvbnRhaW5lciBjYW4gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICBoSCA9ICQoJyNpbmZvJykub3V0ZXJIZWlnaHQoKSwgLy8gSSdtIHVzaW5nICNpbmZvICsgNTBweCBzY29sbGVkIGRvd25cclxuICAgICAgICAgICAgd0ggPSAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHdTID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgaWYgKHdTID49IChoVCtoSC13SCkpe1xyXG4gICAgICAgICAgJChcIiNzY3JvbGxCYWNrXCIpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgJChcIiNzY3JvbGxCYWNrXCIpLmZhZGVPdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG5cclxuICAgICAkKFwiI3Njcm9sbEJhY2tcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAxMDAwKTtcclxuICAgICB9KTtcclxuXHJcbiAgICAgLyogU2Nyb2xsaW5nIHVzaW5nIHNlc3Npb24gc3RvcmFnZSAqL1xyXG5cclxuICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSAnJztcclxuXHJcbiAgICAgbGV0IGFkZERhcmtTZWxlY3Q7XHJcblxyXG4gICAgIGxldCBpZHNBcnIgPSBbXTtcclxuXHJcbiAgICBcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgc2Nyb2xsUG9zaXRpb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzY3JvbGxQb3NpdGlvbicpO1xyXG5cclxuICAgICBpZiAoc2Nyb2xsUG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3NpdGlvblxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgfVxyXG4gIFxyXG4gICAgc3RhcnRUaW1lKCk7XHJcbiAgICBjaGFuZ2VCYWNrZ3JvdW5kSW1nKCk7XHJcbiAgICBnZXRUb2RvcygpO1xyXG5cclxuICAgIGxpbWl0aW5nKCk7XHJcbiAgICBzb3J0aW5nKCk7XHJcbiAgICBkaXNwbGF5aW5nKCk7XHJcblxyXG4gIFxyXG59KTtcclxuXHJcblxyXG4vKiBHRVQgVE9ET1MgKi9cclxuXHJcbmZ1bmN0aW9uIGdldFRvZG9zKCkge1xyXG5cclxuXHJcbiQuYWpheCh7XHJcbiB0eXBlOiBcIkdFVFwiLFxyXG4gdXJsOiBcIi90b2Rvc1wiLFxyXG4gc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICAgIGlmIChkYXRhLnRvZG9zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcInNjcm9sbFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICQoXCIubm90WWV0XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjaW5wdXRUaXRsZVwiKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJTdWJtaXQgeW91ciBmaXJzdCB0b2RvXCIpO1xyXG4gICAgICAgIGNoYW5nZVF1b3RlKDAsIDApO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGxldCBjb21wbGV0ZWRUb2RvcyA9IDA7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS50b2Rvcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFRvZG9zKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgJChcIi5ub3RZZXRcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAkKFwiI2lucHV0VGl0bGVcIikuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiXCIpO1xyXG4gICAgICAgICAgY2hhbmdlUXVvdGUoMSwgKGRhdGEudG9kb3MubGVuZ3RoIC0gY29tcGxldGVkVG9kb3MpKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxudmFyIGxpc3QgPSAnJztcclxudmFyIGlkID0gJyc7XHJcbnZhciB0ZXh0ID0gJyc7XHJcbnZhciBkZXNjcmlwdGlvbiA9ICcnO1xyXG5cclxuZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5pZCA9IGRhdGEudG9kb3NbaV0uX2lkLnRvU3RyaW5nKCk7XHJcbnRleHQgPSBkYXRhLnRvZG9zW2ldLnRleHQudG9TdHJpbmcoKTtcclxuZGVzY3JpcHRpb24gPSBkYXRhLnRvZG9zW2ldLmRlc2NyaXB0aW9uO1xyXG5cclxubGV0IHN0YXR1cyA9ICcnO1xyXG5sZXQgZmluaXNoZWQgPSAnJztcclxuXHJcbnZhciBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQ7XHJcblxyXG5pZiAoZGF0YS50b2Rvc1tpXS50ZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQuc3Vic3RyKDAsNTApICsgXCIuLi5cIjtcclxufVxyXG5cclxuaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiBzdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gZmluaXNoZWQgPSBcIkNvbXBsZXRlZCBBdDogXCIgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0LnN1YnN0cigxMiw4KTtcclxufVxyXG5lbHNlIHtcclxuIHN0YXR1cyA9IFwiTm90IGNvbXBsZXRlZFwiO1xyXG59XHJcblxyXG5saXN0ICs9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHRvZG9Db250YWluZXJcIiBvbmNsaWNrPVwiYWRkSWRUb0FycmF5KFxcYGAgKyBkYXRhLnRvZG9zW2ldLl9pZCArIGBcXGApXCI+XHJcbiAgICBcclxuICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuPGgzIGNsYXNzPVwidGl0bGVcIj4ke3Nob3J0ZW5UaXRsZX08L2gzPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICBcclxuIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwic3RhdHVzXCI+JHtzdGF0dXN9PC9wPjwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+PHAgY2xhc3M9XCJmaW5pc2hlZFwiPiR7ZmluaXNoZWR9PC9wPiA8L2Rpdj5cclxuICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiIHN0eWxlPVwiaGVpZ2h0OiAxMDVweDtcIj4gXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gPGJ1dHRvbiBjbGFzcz1cImJ0biB0b2RvQnRuXCIgdGl0bGU9XCJVcGRhdGUgVG9kb1wiIG9uY2xpY2s9XCJvcGVuTW9kYWwoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCAke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSwgXFxgYCArIGRhdGEudG9kb3NbaV0uY3JlYXRlZEF0ICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2J1dHRvbj5cclxuIDwvZGl2PlxyXG4gPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuIFxyXG4gPGRpdiBjbGFzcz1cIm91dGVyXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgb25jbGljaz0nY29tcGxldGVUb2RvKCR7ZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICR7aX0pJz5cclxuIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj48L2Rpdj5cclxuIDwvZGl2PlxyXG4gIDwvZGl2PiAgICAgICAgXHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiAgIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiUmVtb3ZlIFRvZG9cIiBpZD1cInJlbW92ZVRvZG9CdG5cIiBvbmNsaWNrPVwiZGVsZXRlVG9kbyhcXGBgICsgaWQgKyBgXFxgKVwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgICAgIFxyXG4gICAgICA8L2Rpdj5cclxuIDwvZGl2PmA7XHJcbiBcclxufVxyXG5cclxuJChcIiNsaXN0T2ZUb2Rvc1wiKS5hcHBlbmQobGlzdCk7XHJcblxyXG4vKiBvbmNlIHRleHQgaXMgYWRkZWQgd2UgY2FuIHRvZ2dsZSB0aGUgY2xhc3Mgd2l0aCBjb3VudGVyIGZyb20gYW5vdGhlciBmb3IgbG9vcCAqL1xyXG5mb3IgKHZhciBpID0gMDsgaSA8ICBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiAgICAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLmFkZENsYXNzKFwibW92ZVwiKTtcclxuICAgICAgICAkKGAudGl0bGU6ZXEoJHtpfSlgKS5jc3MoeyBcInRleHQtZGVjb3JhdGlvblwiOiBcImxpbmUtdGhyb3VnaFwiIH0pO1xyXG5cclxuICAgICB9XHJcbiAgICAgZWxzZSB7XHJcbiAgICAgICAgICQoYC5zd2l0Y2g6ZXEoJHtpfSlgKS5yZW1vdmVDbGFzcyhcIm1vdmVcIik7XHJcbiAgICAgfVxyXG4gICAgIFxyXG59XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gR0VUIERBUktTRUxFQ1QgQ0xBU1NcclxuXHJcbiAgICAgIGFkZERhcmtTZWxlY3QgPSAgJChcIi50b2RvQ29udGFpbmVyXCIpO1xyXG4gICAgICBcclxuICAgICAgYWRkRGFya1NlbGVjdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJkYXJrU2VsZWN0XCIpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG5cclxuICAgIC8qIFNjcm9sbCB1c2luZyBzZXNzaW9uIHN0b3JhZ2UgKi8gXHJcblxyXG4gICAgJChcIi5vdXRlciwgLnRvZG9CdG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA9ICAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Nyb2xsUG9zaXRpb24nLCBjdXJyZW50U2Nyb2xsUG9zaXRpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gfVxyXG5cclxufSk7XHJcblxyXG59XHJcblxyXG5cclxuLyogUE9TVCBUT0RPICovXHJcbiBcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuXHJcbiB2YXIgdGV4dCA9ICQoXCIjaW5wdXRUaXRsZVwiKS52YWwoKTtcclxuXHJcbiBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikuc2hvdygpO1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikudGV4dChcIlBsZWFzZSBpbnNlcnQgdGV4dCB0byBzdWJtaXQgdG9kby5cIik7XHJcbiAgICByZXR1cm47XHJcbiB9IFxyXG4gIGlmICh0ZXh0Lmxlbmd0aCA+IDIwMCkge1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikuc2hvdygpO1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikudGV4dChcIlBsZWFzZSBrZWVwIHRvZG8gdGl0bGUgbm8gbG9uZ2VyIHRoYW4gMjAwIGNoYXJhY3RlcnMuXCIpO1xyXG4gICAgcmV0dXJuO1xyXG4gfVxyXG5cclxudmFyIGRhdGEgPSB7XHJcbiBcInRleHRcIjogdGV4dFxyXG59XHJcblxyXG4kLmFqYXgoe1xyXG4gdHlwZTogXCJQT1NUXCIsXHJcbiB1cmw6IFwiL3RvZG9zXCIsXHJcbiBjb250ZW50VHlwZSA6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuIGRhdGFUeXBlIDogJ2pzb24nLFxyXG4gZGF0YSA6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gXHJcbiAgbG9jYXRpb24ucmVsb2FkKCk7IFxyXG4gfVxyXG5cclxufSk7XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJTdWJtaXRUb2RvRXJyb3IoKSB7XHJcbiAgICAkKFwiI3N1Ym1pdFRvZG9FcnJvclwiKS5oaWRlKCk7XHJcbn1cclxuXHJcblxyXG5cclxuLyogREVMRVRFIFRPRE8gICAqL1xyXG5cclxuZnVuY3Rpb24gZGVsZXRlVG9kbyhpZCkge1xyXG5cclxuICQuYWpheCh7XHJcbiB1cmw6ICcvdG9kb3MvJyArIGlkLFxyXG4gdHlwZTogJ0RFTEVURScsXHJcbiBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4vKiBERUxFVEUgQUxMIFRPRE9TICovXHJcblxyXG5mdW5jdGlvbiBkZWxldGVBbGxUb2RvcygpIHtcclxuXHJcbiBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwic2Nyb2xsUG9zaXRpb25cIik7XHJcblxyXG4gJC5hamF4KHtcclxuIHVybDogJy90b2RvcycsXHJcbiB0eXBlOiAnREVMRVRFJyxcclxuIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xyXG4gfVxyXG5cclxuXHJcbn0pO1xyXG5cclxud2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIENPTVBMRVRFIFRPRE8gKi9cclxuXHJcbmZ1bmN0aW9uIGNvbXBsZXRlVG9kbyhpc0NvbXBsZXRlZCwgc29tZUlkLCBpKSB7XHJcblxyXG4gaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkucmVtb3ZlQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gfSBlbHNlIHtcclxuICAgICBpc0NvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLmFkZENsYXNzKFwibW92ZVwiKTtcclxuIH1cclxuXHJcbnZhciBkYXRhID0ge1xyXG4gY29tcGxldGVkOiBpc0NvbXBsZXRlZFxyXG59O1xyXG5cclxuXHJcbiQuYWpheCh7XHJcbnVybDogXCIvdG9kb3MvXCIgKyBzb21lSWQsXHJcbmRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG50eXBlOiAnUEFUQ0gnLFxyXG5jb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5wcm9jZXNzRGF0YTogZmFsc2UsXHJcbmRhdGFUeXBlOiAnanNvbicsXHJcbnN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbmxvY2F0aW9uLnJlbG9hZCgpO1xyXG59XHJcblxyXG5cclxufSk7XHJcblxyXG59XHJcblxyXG5cclxuLyogVVBEQVRFIE9ORSBUT0RPICovXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb2RvKHRleHQsIGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQsIGlkLCByZWZyZXNoLCBtb2RhbEZpbmlzaGVkKSB7XHJcblxyXG4gICAgdmFyIGVycm9yQ291bnRlciA9IDA7XHJcblxyXG4gICAgdGV4dCA9ICQoXCIjdG9kb1RpdGxlSW5Nb2RhbFwiKS52YWwoKTtcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1wiL2csIFwiJ1wiKTsgXHJcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7IFxyXG5cclxuICAgIGRlc2NyaXB0aW9uID0gJChcInRleHRhcmVhXCIpLnZhbCgpO1xyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC9cIi9nLCBcIidcIik7IFxyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKCk7IFxyXG5cclxuXHJcbiAgICBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgICAgICQoXCIjdG9kb1RpdGxlSW5Nb2RhbEVycm9yXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS50ZXh0KFwiVGl0bGUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXJcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiAyMDApIHtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiN0b2RvVGl0bGVJbk1vZGFsRXJyb3JcIikudGV4dChcIkV4Y2VlZGVkIG1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgKDIwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDIwMDApIHtcclxuICAgICAgICAkKFwiI3RleHRhcmVhRXJyb3JcIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIjdGV4dGFyZWFFcnJvclwiKS50ZXh0KFwiRXhjZWVkZWQgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyAoMjAwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG52YXIgZGF0YSA9IHtcclxuICAgIHRleHQsXHJcbiAgICBkZXNjcmlwdGlvbixcclxuICAgIGNvbXBsZXRlZCxcclxuICAgIHNvbWVOZXc6IG1vZGFsRmluaXNoZWRcclxufTtcclxuXHJcbmlmIChyZWZyZXNoICYmIGVycm9yQ291bnRlciA9PSAwKSB7XHJcblxyXG4kLmFqYXgoe1xyXG51cmw6IFwiL3RvZG9zL1wiICsgaWQsXHJcbmRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG50eXBlOiAnUEFUQ0gnLFxyXG5jb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5wcm9jZXNzRGF0YTogZmFsc2UsXHJcbmRhdGFUeXBlOiAnanNvbicsXHJcbnN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4kKFwiI215TW9kYWxcIikuZmFkZU91dCgpO1xyXG5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG52YXIgZGF0YSA9IHt9O1xyXG5cclxudmFyIGtlZXBUaGVEYXRlID0gJyc7XHJcblxyXG5mdW5jdGlvbiBjb21iaW5lVmFsdWVzKHRleHQsIGRlc2NyaXB0aW9uLCBpc0NvbXBsZXRlZCwgaWQsIHJlZnJlc2gsIG1vZGFsRmluaXNoZWQsIGNvbXBsZXRlZEF0KSB7IFxyXG5cclxuXHJcbiAgICBpZiAodHlwZW9mKG1vZGFsRmluaXNoZWQpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGtlZXBUaGVEYXRlID0gbW9kYWxGaW5pc2hlZDtcclxuICAgICAgICBcclxuICAgICB9ICBlbHNlIHtcclxuICAgICAgICAga2VlcFRoZURhdGUgPSBjb21wbGV0ZWRBdDsgXHJcbiAgICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YodGV4dCkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGF0YS50ZXh0ID0gdGV4dDtcclxuXHJcbiAgICAgICAgaWYgKCAgJChcIi5zd2l0Y2hNb2RhbFwiKS5oYXNDbGFzcyhcIm1vdmVNb2RhbFwiKSApIHtcclxuICAgICAgICAgICAgZGF0YS5jb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IGtlZXBUaGVEYXRlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhLmNvbXBsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgIFxyXG4gICAgICAgIHJlZnJlc2ggPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgZWxzZSBpZiAodHlwZW9mKHRleHQpID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgZGF0YS5jb21wbGV0ZWQgPSBpc0NvbXBsZXRlZDtcclxuICAgICAgICByZWZyZXNoID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChpc0NvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IG1vZGFsRmluaXNoZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAga2VlcFRoZURhdGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVG9kbyhkYXRhLnRleHQsIGRlc2NyaXB0aW9uLCBkYXRhLmNvbXBsZXRlZCwgaWQsIHJlZnJlc2gsIGtlZXBUaGVEYXRlKTtcclxuXHJcbn1cclxuXHJcbiAgXHJcbnZhciBtb2RhbFN0YXR1cyA9IFwiXCI7XHJcbnZhciBtb2RhbEZpbmlzaGVkID0gJyc7XHJcbnZhciB0b2dnbGVDb3VudGVyID0gMDtcclxudmFyIHRvZ2dsZVZhbHVlID0gW107XHJcblxyXG5mdW5jdGlvbiBjb21wbGV0ZUluTW9kYWwodGV4dCwgZGVzY3JpcHRpb24sIGlzQ29tcGxldGVkLCBpZCwgcmVmcmVzaCwgY29tcGxldGVkQXQsIGkpIHtcclxuXHJcbiAgICBpZiAodG9nZ2xlQ291bnRlciA9PSAwKSB7XHJcbiAgICAgICAgdG9nZ2xlVmFsdWVbaV0gPSAhaXNDb21wbGV0ZWQ7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdG9nZ2xlVmFsdWVbaV0gPSAhdG9nZ2xlVmFsdWVbaV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIHN0ciA9IGQudG9TdHJpbmcoKTtcclxuICAgICAgc3RyID0gc3RyLnN1YnN0cig0LDIwKTtcclxuICAgICAgbW9kYWxGaW5pc2hlZCA9IHN0cjtcclxuXHJcbiAgICAgIGlmICh0b2dnbGVWYWx1ZVtpXSkge1xyXG4gICAgICAgICQoXCIuc3dpdGNoTW9kYWxcIikuYWRkQ2xhc3MoXCJtb3ZlTW9kYWxcIik7XHJcbiAgICAgICAgbW9kYWxTdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgICAgICQoXCIjbW9kYWxGaW5pc2hlZFwiKS50ZXh0KG1vZGFsRmluaXNoZWQpO1xyXG4gIFxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIG1vZGFsU3RhdHVzID0gXCJOb3QgQ29tcGxldGVkXCI7XHJcbiAgICAgICAgJChcIi5zd2l0Y2hNb2RhbFwiKS5yZW1vdmVDbGFzcyhcIm1vdmVNb2RhbFwiKTtcclxuICAgICAgICAkKFwiI21vZGFsRmluaXNoZWRcIikuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1xdWVzdGlvbi1jaXJjbGVcIiBzdHlsZT1cImZvbnQtc2l6ZToyNHB4XCI+PC9pPicpO1xyXG4gICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgJChcIiNtb2RhbFN0YXR1c1wiKS50ZXh0KG1vZGFsU3RhdHVzKTtcclxuXHJcbiAgICAgIFxyXG4gICAgIHRvZ2dsZUNvdW50ZXIrKztcclxuXHJcbiAgICAgY29tYmluZVZhbHVlcyh0ZXh0LCBkZXNjcmlwdGlvbiwgdG9nZ2xlVmFsdWVbaV0sIGlkLCByZWZyZXNoLCBtb2RhbEZpbmlzaGVkLCBjb21wbGV0ZWRBdCk7XHJcblxyXG59XHJcblxyXG5cclxuLyogTW9kYWwgKi9cclxuXHJcbi8vIE9wZW4gTW9kYWxcclxuXHJcbmZ1bmN0aW9uIG9wZW5Nb2RhbCh0ZXh0LCBkZXNjcmlwdGlvbiwgaXNDb21wbGV0ZWQsIGlkLCBjb21wbGV0ZWRBdCwgaSwgY3JlYXRlZEF0KSB7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgXHJcbiAgICBtb2RhbEZpbmlzaGVkID0gY29tcGxldGVkQXQ7XHJcblxyXG4gICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgbW9kYWxTdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbW9kYWxTdGF0dXMgPSBcIk5vdCBDb21wbGV0ZWRcIjsgXHJcbiAgICB9XHJcblxyXG5cclxuLy8gTW9kYWwgaGVhZGVyXHJcblxyXG52YXIgbWggPSBgXHJcbjxwIGNsYXNzPVwiY2xvc2VNb2RhbFwiIG9uY2xpY2s9XCJjbG9zZU1vZGFsKDQ3LCAke2lzQ29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLCBmYWxzZSlcIj4mdGltZXM8L3A+XHJcbiAgICAgICAgICBcclxuPGgzIGNsYXNzPVwibW9kYWxUaXRsZVwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1xyXG5kaXNwbGF5OiBibG9jaztcclxubWFyZ2luOiAwIGF1dG87XHJcbndpZHRoOiAxMDAlOyBtYXJnaW4tdG9wOiAxMHB4O1wiPlVwZGF0ZSBUb2RvPC9oMz5cclxuYDtcclxuXHJcbiQoXCIubW9kYWwtaGVhZGVyXCIpLmh0bWwobWgpO1xyXG5cclxuXHJcbi8vIE1vZGFsIEJvZHkgLS0gTkFNRVxyXG5cclxubWIgPSBgPGRpdiBjbGFzcz1cIm1vZGFsUGF1c2VcIj4gIFxyXG48aDUgY2xhc3M9XCJwYXVzZURlc2NcIj5OQU1FPC9oNT5cclxuPGRpdiBjbGFzcz1cImNvbnRhaW5lciBiZy0zIHRleHQtY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogNzY4cHg7XCI+XHJcbjxkaXYgY2xhc3M9XCJyb3dcIj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+IDwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cclxuPGlucHV0IGlkPVwidG9kb1RpdGxlSW5Nb2RhbFwiIG9uaW5wdXQ9XCJvbmlucHV0VG9kb1RpdGxlSW5Nb2RhbCgpXCIgYXV0b2ZvY3VzIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNGRkY7IGJvcmRlcjogMnB4IHNvbGlkICNDQ0M7IGNvbG9yOiAjMDAwOyBtYXJnaW4tdG9wOiA0cHg7XCIgLz5cclxuPHAgaWQ9XCJ0b2RvVGl0bGVJbk1vZGFsRXJyb3JcIj48L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgXHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPiA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuPC9kaXY+ICBcclxuIDwvZGl2PiAgYDtcclxuXHJcblxyXG4vLyBNb2RhbCBCb2R5IC0tIERFU0NSSVBUSU9OXHJcblxyXG5tYiArPSBgPGRpdiBjbGFzcz1cIm1vZGFsUGF1c2VcIj4gIFxyXG48aDUgY2xhc3M9XCJwYXVzZURlc2NcIj5ERVNDUklQVElPTjwvaDU+XHJcbjxkaXYgY2xhc3M9XCJjb250YWluZXIgYmctMyB0ZXh0LWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDc2OHB4O1wiPlxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPiA8L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XHJcbjx0ZXh0YXJlYSBpZD1cInRleHRhcmVhXCIgcGxhY2Vob2xkZXI9XCJPcHRpb25hbFwiIG9uaW5wdXQ9XCJvbmlucHV0VGV4dGFyZWEoKVwiIHJvd3M9NSBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6IDJweCBzb2xpZCAjQ0NDOyBjb2xvcjogIzAwMDsgbWFyZ2luLXRvcDogNHB4OyByZXNpemU6IG5vbmU7XCI+PC90ZXh0YXJlYT5cclxuPHAgaWQ9XCJ0ZXh0YXJlYUVycm9yXCI+PC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgIFxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj4gPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbjwvZGl2PiAgXHJcbiA8L2Rpdj4gIGA7XHJcblxyXG4gLy8gQm9keSBwYXJ0IDJcclxuXHJcbiBtYis9IGAgXHJcbiA8ZGl2IGNsYXNzPVwibW9kYWxQYXVzZVwiPiAgXHJcbjxoNSBjbGFzcz1cInBhdXNlRGVzY1wiPkRFVEFJTFM8L2g1PlxyXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyIGJnLTMgdGV4dC1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiA3NjhweDsgaGVpZ2h0OiA4NXB4OyBwYWRkaW5nLWJvdHRvbTogMHB4OyBtYXJnaW4tdG9wOiAxMHB4O1wiPlxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPHA+U3RhdHVzOjwvcD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48cCBpZD1cIm1vZGFsU3RhdHVzXCI+JHttb2RhbFN0YXR1c308L3A+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuPGRpdiBjbGFzcz1cIm91dGVyTW9kYWxcIiB0aXRsZT1cIkNvbXBsZXRlIFRvZG9cIiBpZD1cInRvZ2dsZUJ0blwiIG9uY2xpY2s9XCJjb21wbGV0ZUluTW9kYWwoNDcsIFxcYGAgKyBkZXNjcmlwdGlvbiArIGBcXGAgLCAke2lzQ29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLCAnbm9SZWZyZXNoJywgXFxgYCArIGNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSlcIiBzdHlsZT1cIm1hcmdpbjogMCBhdXRvOyB0ZXh0LWFsaWduOiBjZW50ZXJcIj5cclxuPGRpdiBjbGFzcz1cInN3aXRjaE1vZGFsXCI+PC9kaXY+XHJcbjwvZGl2PlxyXG4gICAgXHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPjwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwicm93XCIgc3R5bGU9XCJwYWRkaW5nLXRvcDogMTVweDtcIj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+PC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48cCBpZD1cImNvbXBsZXRlQXRQYXJcIj5DcmVhdGVkICAgQ29tcGxldGVkOjwvcD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48cCBjbGFzcz1cIm1vZGFsRGV0YWlsc1wiPiR7Y3JlYXRlZEF0fTwvcD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48cCBjbGFzcz1cIm1vZGFsRGV0YWlsc1wiIGlkPVwibW9kYWxGaW5pc2hlZFwiPiR7bW9kYWxGaW5pc2hlZH08L3A+XHJcbjwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuYDtcclxuXHJcblxyXG5cclxuJChcIi5tb2RhbC1ib2R5XCIpLmh0bWwobWIpO1xyXG5cclxuaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICBtb2RhbFN0YXR1cyA9IFwiQ29tcGxldGVkXCI7XHJcbiAgICAkKFwiLnN3aXRjaE1vZGFsXCIpLmFkZENsYXNzKFwibW92ZU1vZGFsXCIpO1xyXG4gICAgJChcIiNtb2RhbEZpbmlzaGVkXCIpLnRleHQobW9kYWxGaW5pc2hlZClcclxufSBlbHNlIHtcclxuICAgIG1vZGFsU3RhdHVzID0gXCJOb3QgQ29tcGxldGVkXCI7XHJcbiAgICAkKFwiLnN3aXRjaE1vZGFsXCIpLnJlbW92ZUNsYXNzKFwibW92ZU1vZGFsXCIpO1xyXG4gICAgJChcIiNtb2RhbEZpbmlzaGVkXCIpLmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlXCIgc3R5bGU9XCJmb250LXNpemU6MjRweFwiPjwvaT4nKTtcclxufVxyXG5cclxuXHJcbi8vIG1vZGFsIGZvb3RlclxyXG5cclxudmFyIG1mID0gYDxidXR0b24gaWQ9XCJjYW5jZWxCdG5cIiBjbGFzcz1cIm1vZGFsQnRuc1wiIG9uY2xpY2s9XCJjbG9zZU1vZGFsKDQ3LCAke2lzQ29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLCBmYWxzZSlcIj5DYW5jZWw8L2J1dHRvbj5cclxuPGJ1dHRvbiBpZD1cInVwZGF0ZUJ0blwiIGNsYXNzPVwibW9kYWxCdG5zXCIgb25jbGljaz1cImNvbWJpbmVWYWx1ZXMoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCR7aXNDb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsIHRydWUsIDQsXFxgYCArIGNvbXBsZXRlZEF0ICsgYFxcYClcIj5VcGRhdGU8L2J1dHRvbj5gOyBcclxuXHJcbiAgICAkKFwiLm1vZGFsLWZvb3RlclwiKS5odG1sKG1mKTtcclxuXHJcbiAgICB2YXIgdGV4dFZhbHVlID0gdGV4dDsgXHJcblxyXG4gICAgJChcInRleHRhcmVhXCIpLnRleHQoZGVzY3JpcHRpb24pO1xyXG4gICAgJChcIiN0b2RvVGl0bGVJbk1vZGFsXCIpLnZhbCh0ZXh0VmFsdWUpO1xyXG5cclxuICAgfVxyXG5cclxuICAgLy8gQ2xvc2UgTW9kYWxcclxuXHJcbiAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteU1vZGFsJyk7XHJcbiAgXHJcbiAgIGZ1bmN0aW9uIGNsb3NlTW9kYWwodGV4dCwgaXNDb21wbGV0ZWQsIGlkLCByZWZyZXNoKSB7XHJcbiAgICAgICB0b2dnbGVDb3VudGVyID0gMDtcclxuICAgICQoXCIjbXlNb2RhbFwiKS5mYWRlT3V0KCk7XHJcbiAgXHJcbiAgICBjb21iaW5lVmFsdWVzKHRleHQsIGlzQ29tcGxldGVkLCBpZCwgcmVmcmVzaCk7IFxyXG4gICB9XHJcblxyXG4gICBcclxuICAgLy8gb25pbnB1dCB0ZXh0YXJlYVxyXG5cclxuICAgZnVuY3Rpb24gb25pbnB1dFRleHRhcmVhKCkge1xyXG5cclxuICAgICQoXCIjdGV4dGFyZWFFcnJvclwiKS5oaWRlKCk7XHJcblxyXG4gICB9XHJcblxyXG4gICBmdW5jdGlvbiBvbmlucHV0VG9kb1RpdGxlSW5Nb2RhbCgpIHtcclxuXHJcbiAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS5oaWRlKCk7XHJcblxyXG4gICB9XHJcblxyXG5cclxuICAgLyogU3RhcnQgUGFnZSBTY3JpcHQgKi8gXHJcblxyXG4gICBmdW5jdGlvbiBzdGFydFRpbWUoKSB7XHJcbiAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIGggPSB0b2RheS5nZXRIb3VycygpO1xyXG4gICAgdmFyIG0gPSB0b2RheS5nZXRNaW51dGVzKCk7XHJcbiAgICB2YXIgcyA9IHRvZGF5LmdldFNlY29uZHMoKTtcclxuICAgIG0gPSBjaGVja1RpbWUobSk7XHJcbiAgICBzID0gY2hlY2tUaW1lKHMpO1xyXG5cclxuICAgIGlmIChoIDwgMTApIHtcclxuICAgICAgICBoID0gXCIwXCIgKyBoO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAkKFwiI2Nsb2NrVGl0bGVcIikuaHRtbChoICsgXCI6XCIgKyBtICsgXCI6XCIgKyBzKTtcclxuXHJcbiAgICB2YXIgdCA9IHNldFRpbWVvdXQoc3RhcnRUaW1lLCA1MDApO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrVGltZShpKSB7XHJcbiAgICBpZiAoaSA8IDEwKSB7aSA9IFwiMFwiICsgaX07IFxyXG4gICAgcmV0dXJuIGk7XHJcbn1cclxuXHJcbmNvbnN0IHF1b3Rlc0FycmF5ID0gW1xyXG4gICAgYFwiQSBqb3VybmV5IG9mIGEgdGhvdXNhbmQgbWlsZXMgYmVnaW5zIHdpdGggYSBzaW5nbGUgc3RlcC5cIlxyXG4gICAg4oCTIExhbyBUenVgLFxyXG4gICAgYFwiVGhlIG9ubHkgaW1wb3NzaWJsZSBqb3VybmV5IGlzIHRoZSBvbmUgeW91IG5ldmVyIGJlZ2luLlwiXHJcbiAgICDigJMgVG9ueSBSb2JiaW5zYCxcclxuXHJcbiAgICBgXCJXZSBhcmUgd2hhdCB3ZSByZXBlYXRlZGx5IGRvLiBFeGNlbGxlbmNlLCB0aGVuLCBpcyBub3QgYW4gYWN0IGJ1dCBhIGhhYml0LlwiXHJcbiAgICDigJMgQXJpc3RvdGxlYCxcclxuICAgIGBcIkRvbuKAmXQganVkZ2UgZWFjaCBkYXkgYnkgdGhlIGhhcnZlc3QgeW91IHJlYXAsIGJ1dCBieSB0aGUgc2VlZHMgdGhhdCB5b3UgcGxhbnQuXCJcclxuICAgIOKAkyBSb2JlcnQgTG91aXMgU3RldmVuc29uYCxcclxuXHJcbiAgICBgXCJXcml0aW5nIGlzIGFuIGV4cGxvcmF0aW9uLiBZb3Ugc3RhcnQgZnJvbSBub3RoaW5nIGFuZCBsZWFybiBhcyB5b3UgZ28uXCJcclxuICAgIC0gRS4gTC4gRG9jdG9yb3dgLFxyXG4gICAgYFwiQWRhcHQgd2hhdCBpcyB1c2VmdWwsIHJlamVjdCB3aGF0IGlzIHVzZWxlc3MsIGFuZCBhZGQgd2hhdCBpcyBzcGVjaWZpY2FsbHkgeW91ciBvd24uXCJcclxuICAgIC0gQnJ1Y2UgTGVlYFxyXG5dO1xyXG5cclxuXHJcbmNvbnN0IHF1ZXN0aW9uc0FycmF5ID0gW1xyXG5cIldoYXQncyBuZXh0IG9uIHlvdXIgbWluZD9cIixcclxuXCJXaGF0J3MgeW91ciBwbGFuIGZvciB0b2RheT9cIixcclxuXCJXaGF0IGRvIHlvdSB3YW50IHRvIGRvIG5leHQ/XCIsXHJcblwiV2hhdCBpcyB5b3VyIG1haW4gZm9jdXMgdG9kYXk/XCIsXHJcblwiV2hhdCdzIG5leHQgb24geW91ciBsaXN0P1wiXHJcbl07XHJcblxyXG5cclxuY29uc3QgYXJyYXlPZkJhY2tncm91bmRzID0gW1xyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2JlYWNoYW5hbmFzLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9iaWtlLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9ib3R0bGUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2Nsb3Vkcy5qcGVnXCIsXHJcbiAgICBcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9mZXJyYXJpLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9mb3Jlc3Ryb2FkLmpwZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2dsYXNzZXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2d1aXRhci5qcGdcIixcclxuICAgIFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2hlYWRwaG9uZXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2pldGVuZ2luZS5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9raXR0ZW4uanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3Jhc3BiZXJyaWVzLmpwZWdcIixcclxuICAgIFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvYWQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvcGUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3NhbmRhbHMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3NlYXJvY2tzLmpwZWdcIixcclxuICAgIFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3RodW5kZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3VuZGVyd2F0ZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dpbmcuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dvbHZlcy5qcGVnXCJcclxuXTtcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVF1b3RlKG51bSwgdG9kb3MpIHtcclxuXHJcbiAgICBsZXQgcmFuZG9tUXVvdGUgPSAnJztcclxuXHJcbiAgICBpZiAobnVtID09IDApIHtcclxuICAgICAgICAkKFwiI3F1ZXN0aW9uc1RpdGxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjcXVvdGVUaXRsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgIHJhbmRvbVF1b3RlID0gcXVvdGVzQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVvdGVzQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQocmFuZG9tUXVvdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaWYgKHRvZG9zID09IDApIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgbm8gdW5maW5pc2hlZCB0b2Rvc2ApOyAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRvZG9zID09IDEpIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgJHt0b2Rvc30gdW5maW5pc2hlZCB0b2RvIGJlbG93YCk7ICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQoYFlvdSBoYXZlICR7dG9kb3N9IHVuZmluaXNoZWQgdG9kb3MgYmVsb3dgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjcXVlc3Rpb25zVGl0bGVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIHJhbmRvbVF1b3RlID0gcXVlc3Rpb25zQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVlc3Rpb25zQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdWVzdGlvbnNUaXRsZVwiKS50ZXh0KHJhbmRvbVF1b3RlKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUJhY2tncm91bmRJbWcoKSB7XHJcblxyXG4gICAgbGV0IHJhbmRJbWcgPSBhcnJheU9mQmFja2dyb3VuZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXlPZkJhY2tncm91bmRzLmxlbmd0aCldO1xyXG5cclxuICAgICQoXCIjb3BlbmluZ0RpdlwiKS5jc3Moe1xyXG4gICAgICAgIFwiYmFja2dyb3VuZFwiOiBgdXJsKCcke3JhbmRJbWd9JylgLFxyXG4gICAgICAgIFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCI6IFwiZml4ZWRcIixcclxuICAgICAgICBcIm92ZXJmbG93XCI6IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiOiBcIm5vLXJlcGVhdFwiLFxyXG4gICAgICAgIFwiYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIixcclxuICAgICAgICBcIi13ZWJraXQtYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIixcclxuICAgICAgICBcIi1tb3otYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIixcclxuICAgICAgICBcIi1vLWJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXHJcbiAgICAgICAgXCJvcGFjaXR5XCI6IDAuOTVcclxuICAgIH0pO1xyXG5cclxuLyogLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgJCgnI29wZW5pbmdEaXYnKS5mYWRlVG8oJ2Zhc3QnLCAwLjMsIGZ1bmN0aW9uKClcclxuICAgIHtcclxuICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGFycmF5T2ZCYWNrZ3JvdW5kc1tuZXcgRGF0ZSgpLmdldERheSgpXSArICcpJyk7XHJcbiAgICB9KS5mYWRlVG8oJ2Zhc3QnLCAxKTtcclxuICAgICovXHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8qIFNjcm9sbGluZyBBcm91bmQgKi8gXHJcblxyXG4kKFwiI3Njcm9sbERvd25cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAkKFwiI2NvbnRhaW5lckJnXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgfSwgMTAwMCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qIE5hdmJhciBMaSBJbm5lciBVbCBsaXN0cyAqLyBcclxuXHJcblxyXG5mdW5jdGlvbiBsaW1pdGluZygpIHtcclxuICBcclxuICAgIGNvbnN0IGxpbWl0QXJyYXkgPSBbXCJObyBsaW1pdFwiLCAxLCAzLCA1LCAxMCwgMTUsIDIwXTtcclxuICBcclxuICAgICAgbGV0IGFkZExpbWl0ID0gJyc7XHJcbiAgICAgIGxpbWl0QXJyYXkuZm9yRWFjaCgobGltLCBpKSA9PiB7XHJcbiAgICAgICAgYWRkTGltaXQgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICA8aW5wdXQgY2xhc3M9XCJsaW1pdFJhZGlvXCIgIG5hbWU9XCJsaW1pdFwiIHR5cGU9XCJyYWRpb1wiPlxyXG4gICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiAxMDA7IHRleHQtYWxpZ246IGNlbnRlcjtcIj4ke2xpbX08L3NwYW4+XHJcbiAgICAgIDwvbGFiZWw+XHJcbiAgICBgO1xyXG4gICAgICB9KTtcclxuICBcclxuICAgICQoXCIjbGltaXRVbFwiKS5hcHBlbmQoYWRkTGltaXQpO1xyXG4gIFxyXG4gICAgJChcIi5saW1pdFJhZGlvOmVxKDApXCIpLmF0dHIoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICBcclxuICBcclxuICAgICAgICAvKiBMaW1pdCBzZWFyY2ggKi9cclxuICBcclxuICAgICAgICAkKFwiLmxpbWl0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgXHJcbiAgICAgICAgbGltaXQgPSAkKHRoaXMpLnBhcmVudChcIi5yYWRpb1wiKS50ZXh0KCk7XHJcbiAgICAgICAgbGltaXQgPSBsaW1pdC50cmltKCk7ICBcclxuICBcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBcclxuICBmdW5jdGlvbiBzb3J0aW5nKCkge1xyXG4gIFxyXG4gICAgICAgIC8qIFNvcnQgZG9jdW1lbnRzICovXHJcbiAgXHJcbiAgICAgICAgJChcIi5zb3J0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgICAgc29ydCA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgc29ydCA9IHNvcnQudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIHNlYXJjaCgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBkaXNwbGF5aW5nKCkge1xyXG4gICAgXHJcbiAgICBjb25zdCBkaXNwbGF5QXJyYXkgPSBbXCJBbGxcIiwgXCJDb21wbGV0ZWRcIiwgXCJOb3QgY29tcGxldGVkXCJdO1xyXG4gIFxyXG4gICAgICBsZXQgYWRkRGlzcGxheSA9ICcnO1xyXG4gICAgICBkaXNwbGF5QXJyYXkuZm9yRWFjaCgoZGlzLCBpKSA9PiB7XHJcbiAgICAgIGFkZERpc3BsYXkgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZGlzcGxheVJhZGlvXCIgbmFtZT1cImRpc3BsYXlcIiB0eXBlPVwicmFkaW9cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6IDEwMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPiR7ZGlzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICAkKFwiI2Rpc3BsYXlVbFwiKS5hcHBlbmQoYWRkRGlzcGxheSk7XHJcbiAgXHJcbiAgICAkKFwiLmRpc3BsYXlSYWRpbzplcSgwKVwiKS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgXHJcbiAgICAgIFxyXG4gICAgICAgICAgLyogRGlzcGxheSBkb2N1bWVudHMgKi9cclxuICBcclxuICAgICAgICAkKFwiLmRpc3BsYXlSYWRpb1wiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICBcclxuICAgICAgZGlzcGxheSA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgZGlzcGxheSA9IGRpc3BsYXkudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIGlmIChkaXNwbGF5ID09IFwiTm90IGNvbXBsZXRlZFwiKSB7XHJcbiAgICAgICAgJChcIi5zb3J0Q29tcGxldGVkXCIpLmF0dHIoXCJkaXNhYmxlZFwiLHRydWUpO1xyXG4gICAgICAgICQoYC5sYWJlbENvbXBsZXRlZGApLmNzcyh7IFwiY3Vyc29yXCI6IFwiZGVmYXVsdFwiIH0pO1xyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikuaG92ZXIoICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMjIyXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuc29ydENvbXBsZXRlZFwiKS5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSk7XHJcbiAgICAgICAgJChgLmxhYmVsQ29tcGxldGVkYCkuY3NzKHsgXCJjdXJzb3JcIjogXCJwb2ludGVyXCIgfSk7XHJcbiAgXHJcbiAgICAgICAgJChcIi5sYWJlbENvbXBsZXRlZFwiKS5vbignbW91c2VlbnRlcicsICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMDA3QkZGXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikub24oJ21vdXNlbGVhdmUnLCAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwiIzIyMlwiKTtcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBzZWFyY2goKTtcclxuICBcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG5cclxuICAgIC8qIEZhZGUgaW4gLyBvdXQgbmF2YmFyIGlubmVyIGxpc3RzICovXHJcbiAgIFxyXG4kKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlSW4oKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlT3V0KCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG5cclxuXHJcbi8qIFNlYXJjaCBUb2RvcyAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuXHJcbiAgICAvLyBmb3Igbm93IFxyXG4gICAgaWRzQXJyID0gW107IFxyXG5cclxuICAgIGxldCB0ZXh0ID0gJChcIi5zZWFyY2hUb2Rvc0Zvcm1cIikudmFsKCk7XHJcblxyXG4gICAgaWYgKHRleHQgPT0gJycpIHtcclxuICAgICAgdGV4dCA9IFwiLlwiO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAvdG9kb3MvJHt0ZXh0fS8ke2Rpc3BsYXl9LyR7bGltaXR9LyR7c29ydH0vYCxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpc3QgPSAnJztcclxuICAgICAgICAgICAgdmFyIGlkID0gJyc7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZCA9IGRhdGEudG9kb3NbaV0uX2lkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRleHQgPSBkYXRhLnRvZG9zW2ldLnRleHQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkYXRhLnRvZG9zW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSAnJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YS50b2Rvc1tpXS50ZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQuc3Vic3RyKDAsNTApICsgXCIuLi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICBzdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICAgZmluaXNoZWQgPSBcIkNvbXBsZXRlZCBBdDogXCIgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0LnN1YnN0cigxMiw4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgIHN0YXR1cyA9IFwiTm90IGNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsaXN0ICs9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHRvZG9Db250YWluZXJcIiBvbmNsaWNrPVwiYWRkSWRUb0FycmF5KFxcYGAgKyBkYXRhLnRvZG9zW2ldLl9pZCArIGBcXGApXCI+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGl0bGVcIj4ke3Nob3J0ZW5UaXRsZX08L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwic3RhdHVzXCI+JHtzdGF0dXN9PC9wPjwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+PHAgY2xhc3M9XCJmaW5pc2hlZFwiPiR7ZmluaXNoZWR9PC9wPiA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiIHN0eWxlPVwiaGVpZ2h0OiAxMDVweDtcIj4gXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biB0b2RvQnRuXCIgdGl0bGU9XCJVcGRhdGUgVG9kb1wiIG9uY2xpY2s9XCJvcGVuTW9kYWwoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCAke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSwgXFxgYCArIGRhdGEudG9kb3NbaV0uY3JlYXRlZEF0ICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm91dGVyXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgb25jbGljaz0nY29tcGxldGVUb2RvKCR7ZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICR7aX0pJz5cclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj48L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiUmVtb3ZlIFRvZG9cIiBpZD1cInJlbW92ZVRvZG9CdG5cIiBvbmNsaWNrPVwiZGVsZXRlVG9kbyhcXGBgICsgaWQgKyBgXFxgKVwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiB5b3Ugc2VhcmNoIHlvdSByZW1vdmUgYWxsIHByZXZpb3VzIHRvZG9zIGFuZCByZXBsYWNlIHdpdGggdGhlIG5ldyBvbmVzIHRoYXQgZml0IHRoZSBzZWFyY2hcclxuICAgICAgICAgICAgJChcIi50b2RvQ29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKFwiI2xpc3RPZlRvZG9zXCIpLmFwcGVuZChsaXN0KTtcclxuXHJcblxyXG4gICAgICAgICAgICBhZGREYXJrU2VsZWN0ID0gJChcIi50b2RvQ29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgYWRkRGFya1NlbGVjdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImRhcmtTZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8qIG9uY2UgdGV4dCBpcyBhZGRlZCB3ZSBjYW4gdG9nZ2xlIHRoZSBjbGFzcyB3aXRoIGNvdW50ZXIgZnJvbSBhbm90aGVyIGZvciBsb29wICovXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgIGRhdGEudG9kb3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkuYWRkQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC50aXRsZTplcSgke2l9KWApLmNzcyh7IFwidGV4dC1kZWNvcmF0aW9uXCI6IFwibGluZS10aHJvdWdoXCIgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgJChgLnN3aXRjaDplcSgke2l9KWApLnJlbW92ZUNsYXNzKFwibW92ZVwiKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBFTlRFUiBLRVkgKi9cclxuXHJcbiAgICAvLyBQb3N0aW5nIHRvZG9zXHJcblxyXG4gJChcIiNpbnB1dFRpdGxlXCIpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGlmKGV2ZW50LmtleUNvZGUgPT0gMTMpe1xyXG4gICAgIHN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2VhcmNoaW5nIHRvZG9zXHJcblxyXG4gICAgJChcIi5zZWFyY2hUb2Rvc0Zvcm1cIikua2V5dXAoZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGlmKGV2ZW50LmtleUNvZGUgPT0gMTMpe1xyXG4gICAgICAgICBzZWFyY2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLyogREVMRVRFIEtFWSAqLyBcclxuXHJcbiAgICAgICAgbGV0IGFkZElkVG9BcnJheSA9IChpZCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCBpZHNBcnIuaW5jbHVkZXMoaWQpICkge1xyXG4gICAgICAgICAgICAgICAgaWRzQXJyLnNwbGljZShpZHNBcnIuZmluZEluZGV4KGluZGV4ID0+IGluZGV4ID09IGlkKSk7IC8vIGlmIGVsZW1lbnQgaXMgaW4gYXJyYXksIGZpbmQgaW5kZXggJiByZW1vdmUgZWxlbWVudCAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZHNBcnIucHVzaChpZCk7ICAgIC8vIGVsc2UgcHVzaCBpdCB0byBhcnJheVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICBjb25zb2xlLmxvZyhpZHNBcnIpO1xyXG4gICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gS2V5UHJlc3NDaGVjayhldmVudCl7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0NCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggYWRkRGFya1NlbGVjdC5oYXNDbGFzcyhcImRhcmtTZWxlY3RcIikgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgLy8gYWRkIHNjcm9sbCBwb3NpdGlvbiBoZXJlIGFzIHdlbGxcclxuICAgICAgICAgICAgICAgICAgIC8vIHVubGVzcyB0b2RvcyBhcnJheSBpcyBlbXB0eVxyXG5cclxuICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3RvZG9zLycgKyBpZHNBcnIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgdGhpcyByZWZyZXNoIHRvIGF2b2lkIHNjcm9sbCBlcnJvclxyXG5cclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIH1cclxuXHJcbiJdfQ==
