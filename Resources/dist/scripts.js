"use strict";var limit="No limit",display="Display all",sort="Date created";$(window).scroll(function(){$("#info").offset().top+50+$("#info").outerHeight()-$(window).height()<=$(this).scrollTop()?($("#scrollBack").fadeIn(),$("#logoutHeader").css("color","#007BFF"),$("#logoutHeader").on("mouseenter",function(){$(this).css("color","#0064d1")}),$("#logoutHeader").on("mouseleave",function(){$(this).css("color","#007BFF")})):($("#scrollBack").fadeOut(),$("#logoutHeader").css("color","#444"),$("#logoutHeader").on("mouseenter",function(){$(this).css("color","#000")}),$("#logoutHeader").on("mouseleave",function(){$(this).css("color","#444")}))}),$("#scrollBack").click(function(){$("html, body").animate({scrollTop:0},1e3)});var scrollPosition="",addDarkSelect=void 0,idsArr=[];function getTodos(){$.ajax({type:"GET",url:"/todos",success:function(e){if(0==e.todos.length)sessionStorage.removeItem("scrollPosition"),$(".notYet").css("display","none"),$("#inputTitle").attr("placeholder","Submit your first todo"),changeQuote(0,0);else{for(var o=0,t=0;t<e.todos.length;t++)1==e.todos[t].completed&&o++;$(".notYet").css("display","block"),$("#inputTitle").attr("placeholder",""),changeQuote(1,e.todos.length-o)}var s="",i="",n="",a="";for(t=0;t<e.todos.length;t++){i=e.todos[t]._id.toString(),n=e.todos[t].text.toString(),a=e.todos[t].description;var l="",d="",r=e.todos[t].text;50<e.todos[t].text.length&&(r=e.todos[t].text.substr(0,50)+"..."),e.todos[t].completed?(l="Completed",d="Completed At: "+e.todos[t].completedAt.substr(12,8)):l="Not completed",s+='<div class="container todoContainer" onclick="addIdToArray(`'+e.todos[t]._id+'`)">\n    \n     <div class="row">\n      <div class="col-sm-9">\n<div class="row">\n<div class="col-sm-12">\n<h3 class="title">'+r+'</h3>\n    </div>\n</div>\n <div class="row">\n      \n <div class="col-sm-6"><p class="status">'+l+'</p></div>\n <div class="col-sm-6"><p class="finished">'+d+'</p> </div>\n  </div>\n        </div>\n    <div class="col-sm-3" style="height: 105px;"> \n    <div class="col-sm-4 todoBtnCol">\n <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+n+"`, `"+a+"`, "+e.todos[t].completed+",`"+i+"`,`"+e.todos[t].completedAt+"`, "+t+", `"+e.todos[t].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n </div>\n <div class="col-sm-4 todoBtnCol">\n \n <div class="outer" title="Complete Todo" onclick=\'completeTodo('+e.todos[t].completed+",`"+i+"`, "+t+')\'>\n <div class="switch"></div>\n </div>\n  </div>        \n<div class="col-sm-4 todoBtnCol">\n   <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+i+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n         </div>\n    </div>\n         \n      </div>\n </div>'}$("#listOfTodos").append(s);for(t=0;t<e.todos.length;t++)e.todos[t].completed?($(".switch:eq("+t+")").addClass("move"),$(".title:eq("+t+")").css({"text-decoration":"line-through"})):$(".switch:eq("+t+")").removeClass("move");(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")}),$(".outer, .todoBtn").click(function(e){var o=$(window).scrollTop();sessionStorage.setItem("scrollPosition",o),e.stopPropagation(),$(".todoContainer").removeClass("darkSelect"),idsArr=[]})}})}function submit(){var e=$("#inputTitle").val();if(""==e)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please insert text to submit todo.");if(200<e.length)return $("#submitTodoError").show(),void $("#submitTodoError").text("Please keep todo title no longer than 200 characters.");var o={text:e};sessionStorage.removeItem("scrollPosition"),$.ajax({type:"POST",url:"/todos",contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){location.reload()}})}function clearSubmitTodoError(){$("#submitTodoError").hide()}function deleteTodo(e){$.ajax({url:"/todos/"+e,type:"DELETE",success:function(){location.reload()}})}function deleteAllTodos(){sessionStorage.removeItem("scrollPosition"),$.ajax({url:"/todos",type:"DELETE",success:function(){}}),window.location.reload()}function completeTodo(e,o,t){var s="";if(e)e=!1,$(".switch:eq("+t+")").removeClass("move"),s=null;else{e=!0,$(".switch:eq("+t+")").addClass("move");var i=(new Date).toString();s=i=i.substr(4,20)}var n={completed:e,completedAt:s};$.ajax({url:"/todos/"+o,data:JSON.stringify(n),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(e){location.reload()}})}function updateTodo(e,o,t,s,i,n){var a=0;e=(e=(e=$("#todoTitleInModal").val()).replace(/"/g,"'")).trim(),o=(o=(o=$("textarea").val()).replace(/"/g,"'")).trim(),""==e?($("#todoTitleInModalError").css("display","block"),$("#todoTitleInModalError").text("Title must have at least one character"),a++):200<e.length&&($("#todoTitleInModalError").show(),$("#todoTitleInModalError").text("Exceeded maximum number of characters (200)"),a++),2e3<o.length&&($("#textareaError").show(),$("#textareaError").text("Exceeded maximum number of characters (2000)"),a++);var l={text:e,description:o,completed:t,completedAt:n};i&&0==a&&$.ajax({url:"/todos/"+s,data:JSON.stringify(l),type:"PATCH",contentType:"application/json",processData:!1,dataType:"json",success:function(e){$("#myModal").fadeOut(),location.reload()}})}$(document).ready(function(){null!=(scrollPosition=sessionStorage.getItem("scrollPosition"))&&$("html, body").animate({scrollTop:scrollPosition},100),getUser(),startTime(),changeBackgroundImg(),getTodos(),limiting(),sorting(),displaying()});var data={},keepTheDate=null,newDate="";function combineValues(e,o,t,s,i,n,a){"string"!=typeof n&&null!=keepTheDate?keepTheDate=keepTheDate:"string"==typeof n||(keepTheDate=a),"string"==typeof e&&(data.text=e,keepTheDate=$(".switchModal").hasClass("moveModal")?(data.completed=!0,keepTheDate):(data.completed=!1,null),i=!0),"number"==typeof e&&(data.completed=t,i=!1,keepTheDate=t?n:null),updateTodo(data.text,o,data.completed,s,i,keepTheDate)}var modalStatus="",modalFinished="",toggleCounter=0,toggleValue=[];function completeInModal(e,o,t,s,i,n,a){toggleValue[a]=0==toggleCounter?!t:!toggleValue[a];var l=(new Date).toString();l=l.substr(4,20),modalFinished=l,toggleValue[a]?($(".switchModal").addClass("moveModal"),modalStatus="Completed",$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>')),$("#modalStatus").text(modalStatus),toggleCounter++,combineValues(e,o,toggleValue[a],s,i,modalFinished,n)}function openModal(e,o,t,s,i,n,a){modal.style.display="flex",modalFinished=i,modalStatus=t?"Completed":"Not Completed";var l='\n<p class="closeModal" onclick="closeModal(47, '+t+",`"+s+'`, false)">&times</p>\n          \n<h3 class="modalTitle" style="text-align: center;\ndisplay: block;\nmargin: 0 auto;\nwidth: 100%; margin-top: 10px;">Update Todo</h3>\n';$(".modal-header").html(l),mb='<div class="modalPause">  \n<h5 class="pauseDesc">NAME</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<input id="todoTitleInModal" oninput="oninputTodoTitleInModal()" autofocus style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px;" />\n<p id="todoTitleInModalError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+='<div class="modalPause">  \n<h5 class="pauseDesc">DESCRIPTION</h5>\n<div class="container bg-3 text-center" style="width: 768px;">\n<div class="row">\n<div class="col-sm-3"> </div>\n<div class="col-sm-6">\n<textarea id="textarea" placeholder="Optional" oninput="oninputTextarea()" rows=5 style="width: 100%; background: #FFF; border: 2px solid #CCC; color: #000; margin-top: 4px; resize: none;"></textarea>\n<p id="textareaError"></p>\n    </div>\n   \n<div class="col-sm-3"> </div>\n        </div>\n</div>  \n </div>  ',mb+=' \n <div class="modalPause">  \n<h5 class="pauseDesc">DETAILS</h5>\n<div class="container bg-3 text-center" style="width: 768px; height: 85px; padding-bottom: 0px; margin-top: 10px;">\n<div class="row">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p>Status:</p>\n</div>\n<div class="col-sm-2">\n<p id="modalStatus">'+modalStatus+'</p>\n</div>\n<div class="col-sm-2">\n<div class="outerModal" title="Complete Todo" id="toggleBtn" onclick="completeInModal(47, `'+o+"` , "+t+",`"+s+"`, 'noRefresh', `"+i+"`, "+n+')" style="margin: 0 auto; text-align: center">\n<div class="switchModal"></div>\n</div>\n    \n<div class="col-sm-3"></div>\n    </div>\n</div>\n<div class="row" style="padding-top: 15px;">\n<div class="col-sm-3"></div>\n<div class="col-sm-2">\n<p id="completeAtPar">Created   Completed:</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails">'+a+'</p>\n</div>\n<div class="col-sm-2">\n<p class="modalDetails" id="modalFinished">'+modalFinished+'</p>\n</div>\n<div class="col-sm-3"></div>\n        </div>\n    </div>\n</div>\n',$(".modal-body").html(mb),t?(modalStatus="Completed",$(".switchModal").addClass("moveModal"),$("#modalFinished").text(modalFinished)):(modalStatus="Not Completed",$(".switchModal").removeClass("moveModal"),$("#modalFinished").html('<i class="fa fa-question-circle" style="font-size:24px"></i>'));var d='<button id="cancelBtn" class="modalBtns" onclick="closeModal(47, '+t+",`"+s+'`, false)">Cancel</button>\n<button id="updateBtn" class="modalBtns" onclick="combineValues(`'+e+"`, `"+o+"`,"+t+",`"+s+"`, true, 4,`"+i+'`)">Update</button>';$(".modal-footer").html(d);var r=e;$("textarea").text(o),$("#todoTitleInModal").val(r)}var modal=document.getElementById("myModal");function closeModal(e,o,t,s){toggleCounter=0,$("#myModal").fadeOut(),combineValues(e,o,t,s)}function oninputTextarea(){$("#textareaError").hide()}function oninputTodoTitleInModal(){$("#todoTitleInModalError").hide()}function startTime(){var e=new Date,o=e.getHours(),t=e.getMinutes(),s=e.getSeconds();t=checkTime(t),s=checkTime(s),o<10&&(o="0"+o),$("#clockTitle").html(o+":"+t+":"+s);setTimeout(startTime,500)}function checkTime(e){return e<10&&(e="0"+e),e}var quotesArray=["“A journey of a thousand miles begins with a single step.”\n    – Lao Tzu","“The only impossible journey is the one you never begin.”\n    – Tony Robbins","“We are what we repeatedly do. Excellence, then, is not an act but a habit.”\n    – Aristotle","“Don’t judge each day by the harvest you reap, but by the seeds that you plant.”\n    – Robert Louis Stevenson","“Writing is an exploration. You start from nothing and learn as you go.”\n    – E. L. Doctorow","“Adapt what is useful, reject what is useless, and add what is specifically your own.”\n    – Bruce Lee","“Start where you are. Use what you have. Do what you can.” \n    – Arthur Ashe","“Good, better, best. Never let it rest. 'Til your good is better and your better is best.” \n    – St. Jerome","“If you can dream it, you can do it.” \n    – Walt Disney","“Setting goals is the first step in turning the invisible into the visible.” \n    – Tony Robbins","“A creative man is motivated by the desire to achieve, not by the desire to beat others.” \n    – Ayn Rand","“He who does not live in the way of his beliefs starts to believe in the way he lives.”\n    – Umar ibn Al-Khattab"],questionsArray=["What's next on your mind?","What's your plan for today?","What do you want to do next?","What is your main focus today?","What's next on your list?"],arrayOfBackgrounds=["../Resources/img/cover/cloudscity.jpeg","../Resources/img/cover/apple.jpeg","../Resources/img/cover/beachananas.jpeg","../Resources/img/cover/beachcity.jpeg","../Resources/img/cover/bike.jpeg","../Resources/img/cover/bulb.jpeg","../Resources/img/cover/boat.jpg","../Resources/img/cover/bottle.jpeg","../Resources/img/cover/cherries.jpeg","../Resources/img/cover/chess.jpeg","../Resources/img/cover/clouds.jpeg","../Resources/img/cover/ferrari.jpeg","../Resources/img/cover/forestroad.jpg","../Resources/img/cover/glasses.jpeg","../Resources/img/cover/guitar.jpg","../Resources/img/cover/headphones.jpeg","../Resources/img/cover/highway.jpeg","../Resources/img/cover/home.jpeg","../Resources/img/cover/jetengine.jpg","../Resources/img/cover/kitten.jpeg","../Resources/img/cover/logs.jpeg","../Resources/img/cover/match.jpg","../Resources/img/cover/parkedinwild.jpeg","../Resources/img/cover/road.jpeg","../Resources/img/cover/rope.jpeg","../Resources/img/cover/sandals.jpeg","../Resources/img/cover/searocks.jpeg","../Resources/img/cover/skynight.jpeg","../Resources/img/cover/thunder.jpeg","../Resources/img/cover/underwater.jpeg","../Resources/img/cover/wing.jpeg","../Resources/img/cover/wolves.jpeg"];function changeQuote(e,o){var t="";0==e?($("#questionsTitle").css("display","none"),$("#quoteTitle").css("display","block"),t=quotesArray[Math.floor(Math.random()*quotesArray.length)],$("#quoteTitle").text(t)):(0==o?$("#quoteTitle").text("You have no unfinished todos"):1==o?$("#quoteTitle").text("You have "+o+" unfinished todo below"):$("#quoteTitle").text("You have "+o+" unfinished todos below"),$("#questionsTitle").css("display","block"),t=questionsArray[Math.floor(Math.random()*questionsArray.length)],$("#questionsTitle").text(t))}function changeBackgroundImg(){var e=(new Date).getDate();$("#openingDiv").fadeTo(500,.5,function(){$(this).css({background:"url('"+arrayOfBackgrounds[e]+"')","background-attachment":"fixed",overflow:"hidden","background-position":"center","background-repeat":"no-repeat","background-size":"cover","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover"})}).fadeTo(500,1)}function limiting(){var t="";["No limit",1,3,5,10,15,20].forEach(function(e,o){t+='\n      <label class="radio">\n      <input class="limitRadio"  name="limit" type="radio">\n      <span style="font-weight: 100; text-align: center;">'+e+"</span>\n      </label>\n    "}),$("#limitUl").append(t),$(".limitRadio:eq(0)").attr("checked",!0),$(".limitRadio").click(function(){limit=(limit=$(this).parent(".radio").text()).trim(),search()})}function sorting(){$(".sortRadio").click(function(){sort=(sort=$(this).parent(".radio").text()).trim(),search()})}function displaying(){var t="";["All","Completed","Not completed"].forEach(function(e,o){t+='\n      <label class="radio">\n                <input class="displayRadio" name="display" type="radio">\n                <span style="font-weight: 100; text-align: center;">'+e+"</span>\n              </label>\n      "}),$("#displayUl").append(t),$(".displayRadio:eq(0)").attr("checked",!0),$(".displayRadio").click(function(){"Not completed"==(display=(display=$(this).parent(".radio").text()).trim())?($(".sortCompleted").attr("disabled",!0),$(".labelCompleted").css({cursor:"default"}),$(".labelCompleted").hover(function(){$(this).css("background","#222")})):($(".sortCompleted").attr("disabled",!1),$(".labelCompleted").css({cursor:"pointer"}),$(".labelCompleted").on("mouseenter",function(){$(this).css("background","#007BFF")}),$(".labelCompleted").on("mouseleave",function(){$(this).css("background","#222")})),search()})}function search(){idsArr=[];var e=$(".searchTodosForm").val();""==e&&(e="."),$.ajax({type:"GET",url:"/todos/"+e+"/"+display+"/"+limit+"/"+sort+"/",success:function(e){for(var o="",t="",s="",i="",n=0;n<e.todos.length;n++){t=e.todos[n]._id.toString(),s=e.todos[n].text.toString(),i=e.todos[n].description;var a="",l="",d=e.todos[n].text;50<e.todos[n].text.length&&(d=e.todos[n].text.substr(0,50)+"..."),e.todos[n].completed?(a="Completed",l="Completed At: "+e.todos[n].completedAt.substr(12,8)):a="Not completed",o+='<div class="container todoContainer" onclick="addIdToArray(`'+e.todos[n]._id+'`)">\n                \n                 <div class="row">\n                  <div class="col-sm-9">\n            <div class="row">\n            <div class="col-sm-12">\n            <h3 class="title">'+d+'</h3>\n                </div>\n            </div>\n             <div class="row">\n                  \n             <div class="col-sm-6"><p class="status">'+a+'</p></div>\n             <div class="col-sm-6"><p class="finished">'+l+'</p> </div>\n              </div>\n                    </div>\n                <div class="col-sm-3" style="height: 105px;"> \n                <div class="col-sm-4 todoBtnCol">\n             <button class="btn todoBtn" title="Update Todo" onclick="openModal(`'+s+"`, `"+i+"`, "+e.todos[n].completed+",`"+t+"`,`"+e.todos[n].completedAt+"`, "+n+", `"+e.todos[n].createdAt+'`)"><i class="fa fa-pencil" aria-hidden="true"></i></button>\n             </div>\n             <div class="col-sm-4 todoBtnCol">\n             \n             <div class="outer" title="Complete Todo" onclick=\'completeTodo('+e.todos[n].completed+",`"+t+"`, "+n+')\'>\n             <div class="switch"></div>\n             </div>\n              </div>        \n            <div class="col-sm-4 todoBtnCol">\n               <button class="btn todoBtn" title="Remove Todo" id="removeTodoBtn" onclick="deleteTodo(`'+t+'`)"><i class="fa fa-times" aria-hidden="true"></i></button>\n                     </div>\n                </div>\n                     \n                  </div>\n             </div>'}$(".todoContainer").remove(),$("#listOfTodos").append(o),(addDarkSelect=$(".todoContainer")).on("click",function(){$(this).toggleClass("darkSelect")}),$(".outer, .todoBtn").click(function(e){var o=$(window).scrollTop();sessionStorage.setItem("scrollPosition",o),e.stopPropagation(),$(".todoContainer").removeClass("darkSelect"),idsArr=[]});for(n=0;n<e.todos.length;n++)e.todos[n].completed?($(".switch:eq("+n+")").addClass("move"),$(".title:eq("+n+")").css({"text-decoration":"line-through"})):$(".switch:eq("+n+")").removeClass("move")}})}$("#scrollDown").click(function(){$("html, body").animate({scrollTop:$("#containerBg").offset().top},1e3)}),$(".navbarLi").on("mouseenter",function(){$(this).find(".innerUl").fadeIn()}),$(".navbarLi").on("mouseleave",function(){$(this).find(".innerUl").fadeOut()}),$("#inputTitle").keyup(function(e){13==e.keyCode&&submit()}),$(".searchTodosForm").keyup(function(e){13==e.keyCode&&search()});var addIdToArray=function(o){idsArr.includes(o)?idsArr.splice(idsArr.findIndex(function(e){return e==o})):idsArr.push(o)};function KeyPressCheck(e){if(44==e.keyCode&&addDarkSelect.hasClass("darkSelect")){var o=$(window).scrollTop();sessionStorage.setItem("scrollPosition",o),$.ajax({url:"/todos/"+idsArr,type:"DELETE",success:function(){location.reload()}})}}function getCookie(){var e=("; "+document.cookie).split("; "+name+"=");return 2==e.length?e.pop().split(";").shift():e}function getUser(){var e=getCookie()[0].substr(9,999).toString();e=e.trim(),$.ajax({type:"GET",url:"/users/me",headers:{"x-auth":e},success:function(e){document.querySelector("#helloTitle").textContent="Hello "+e.username}})}var logout=function(){var e=getCookie()[0].substr(9,999).toString();e=e.trim(),$.ajax({url:"/users/me/token",type:"DELETE",headers:{"x-auth":e},success:function(){window.location.href="/"}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsibGltaXQiLCJkaXNwbGF5Iiwid2luZG93Iiwic2Nyb2xsIiwiJCIsIm9mZnNldCIsInRvcCIsIm91dGVySGVpZ2h0IiwidGhpcyIsInNjcm9sbFRvcCIsImZhZGVJbiIsIndTIiwiY3NzIiwib24iLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxQb3NpdGlvbiIsImFkZERhcmtTZWxlY3QiLCJpZHNBcnIiLCJzZXNzaW9uU3RvcmFnZSIsImNoYW5nZVF1b3RlIiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJkYXRhIiwidG9kb3MiLCJsZW5ndGgiLCJyZW1vdmVJdGVtIiwiY29tcGxldGVkVG9kb3MiLCJpIiwibGlzdCIsImNvbXBsZXRlZCIsImlkIiwidG9TdHJpbmciLCJ0ZXh0IiwiZGVzY3JpcHRpb24iLCJfaWQiLCJzdGF0dXMiLCJmaW5pc2hlZCIsImFwcGVuZCIsImNvbXBsZXRlZEF0Iiwic3Vic3RyIiwiY3JlYXRlZEF0Iiwic2hvdyIsImFkZENsYXNzIiwidGV4dC1kZWNvcmF0aW9uIiwicmVtb3ZlQ2xhc3MiLCJzdHJpbmdpZnkiLCJsb2NhdGlvbiIsImNsZWFyU3VibWl0VG9kb0Vycm9yIiwiZSIsImN1cnJlbnRTY3JvbGxQb3NpdGlvbiIsInNldEl0ZW0iLCJzdG9wUHJvcGFnYXRpb24iLCJkZWxldGVUb2RvIiwic3VibWl0IiwidmFsIiwiYWpheCIsImlzQ29tcGxldGVkIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImQiLCJKU09OIiwic3RyIiwicmVsb2FkIiwiZXJyb3JDb3VudGVyIiwic29tZUlkIiwicHJvY2Vzc0RhdGEiLCJrZWVwVGhlRGF0ZSIsIm5ld0RhdGUiLCJ1cGRhdGVUb2RvIiwicmVmcmVzaCIsInRyaW0iLCJtb2RhbFN0YXR1cyIsInRvZ2dsZVZhbHVlIiwiY29tcGxldGVJbk1vZGFsIiwiRGF0ZSIsIm1vZGFsRmluaXNoZWQiLCJmYWRlT3V0IiwicmVhZHkiLCJnZXRJdGVtIiwiZ2V0VXNlciIsInN0YXJ0VGltZSIsImNoYW5nZUJhY2tncm91bmRJbWciLCJsaW1pdGluZyIsInNvcnRpbmciLCJkaXNwbGF5aW5nIiwiZ2V0VG9kb3MiLCJtb2RhbCIsInN0eWxlIiwiaGFzQ2xhc3MiLCJ0b2dnbGVDb3VudGVyIiwib25pbnB1dFRleHRhcmVhIiwib25pbnB1dFRvZG9UaXRsZUluTW9kYWwiLCJodG1sIiwiZ2V0TWludXRlcyIsInMiLCJjb21iaW5lVmFsdWVzIiwicXVvdGVzQXJyYXkiLCJtaCIsIm1iIiwiYWRkTGltaXQiLCJsaW0iLCJkaXNwbGF5QXJyYXkiLCJtZiIsInRleHRWYWx1ZSIsImNsb3NlTW9kYWwiLCJoaWRlIiwidG9kYXkiLCJoIiwiZ2V0SG91cnMiLCJtIiwic2VhcmNoIiwiZ2V0U2Vjb25kcyIsImNoZWNrVGltZSIsInNldFRpbWVvdXQiLCJhcnJheU9mQmFja2dyb3VuZHMiLCJudW0iLCJyYW5kb21RdW90ZSIsInNwbGljZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIktleVByZXNzQ2hlY2siLCJldmVudCIsInF1ZXN0aW9uc0FycmF5IiwiZ2V0RGF0ZSIsImZhZGVUbyIsImJhY2tncm91bmQiLCJnZXRDb29raWUiLCJvdmVyZmxvdyIsInZhbHVlIiwiY29va2llIiwicGFydHMiLCItd2Via2l0LWJhY2tncm91bmQtc2l6ZSIsInNoaWZ0IiwiLW1vei1iYWNrZ3JvdW5kLXNpemUiLCJmb3JFYWNoIiwibG9nb3V0IiwidG9rZW4iLCJwYXJlbnQiLCJzb3J0IiwiYWRkRGlzcGxheSIsImRpcyIsImF0dHIiLCJjdXJzb3IiLCJob3ZlciIsInNob3J0ZW5UaXRsZSIsInJlbW92ZSIsInRvZ2dsZUNsYXNzIiwiaGVhZGVycyIsImZpbmQiLCJrZXl1cCIsImtleUNvZGUiLCJhZGRJZFRvQXJyYXkiLCJpbmNsdWRlcyIsImZpbmRJbmRleCIsImluZGV4IiwicHVzaCIsImRvY3VtZW50Iiwic3BsaXQiLCJuYW1lIiwicG9wIiwieC1hdXRoIiwicXVlcnlTZWxlY3Rv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SSxZQVc1RSxJQUFJNUIsT0FBUyxXQUVULElBRUlDLEVBRlNWLFlBRU0sR0FBR3hGLE9BQU8sRUFBRSxLQUFLUixXQUNwQzBHLEVBQVFBLEVBQU1uRSxPQUVkcEUsRUFBRXFELEtBQUssQ0FDUG5DLElBQUssa0JBQ0xELEtBQU0sU0FDTmlJLFFBQVMsQ0FDTGEsU0FBV3hCLEdBRWZwSCxRQUFTLFdBQWFyQixPQUFPOEMsU0FBU3VILEtBQU8iLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4gICAgLyogRGVmYXVsdCB2YWx1ZXMgb2YgbmF2YmFyTGkgKi9cclxuXHJcbiAgICAgIGxldCBsaW1pdCA9IFwiTm8gbGltaXRcIjtcclxuICAgICAgbGV0IGRpc3BsYXkgPSBcIkRpc3BsYXkgYWxsXCI7XHJcbiAgICAgIGxldCBzb3J0ID0gJ0RhdGUgY3JlYXRlZCc7XHJcblxyXG5cclxuICAgICAgLyogU2Nyb2xsaW5nIGJhY2sgKi9cclxuXHJcbiAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhUID0gJCgnI2luZm8nKS5vZmZzZXQoKS50b3AgKyA1MCwgLy8gc2luY2UgLnRvZG9Db250YWluZXIgY2FuIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaEggPSAkKCcjaW5mbycpLm91dGVySGVpZ2h0KCksIC8vIEknbSB1c2luZyAjaW5mbyArIDUwcHggc2NvbGxlZCBkb3duXHJcbiAgICAgICAgICAgIHdIID0gJCh3aW5kb3cpLmhlaWdodCgpLFxyXG4gICAgICAgICAgICB3UyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgIFxyXG4gICAgICAgIGlmICh3UyA+PSAoaFQraEgtd0gpKXtcclxuICAgICAgICAgICQoXCIjc2Nyb2xsQmFja1wiKS5mYWRlSW4oKTtcclxuICAgICAgICAgICQoXCIjbG9nb3V0SGVhZGVyXCIpLmNzcyhcImNvbG9yXCIsIFwiIzAwN0JGRlwiKTtcclxuXHJcbiAgICAgICAgICAkKFwiI2xvZ291dEhlYWRlclwiKS5vbignbW91c2VlbnRlcicsICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKFwiY29sb3JcIiwgXCIjMDA2NGQxXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICQoXCIjbG9nb3V0SGVhZGVyXCIpLm9uKCdtb3VzZWxlYXZlJywgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJjb2xvclwiLCBcIiMwMDdCRkZcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgIFxyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAkKFwiI3Njcm9sbEJhY2tcIikuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICQoXCIjbG9nb3V0SGVhZGVyXCIpLmNzcyhcImNvbG9yXCIsIFwiIzQ0NFwiKTtcclxuXHJcbiAgICAgICAgICAgJChcIiNsb2dvdXRIZWFkZXJcIikub24oJ21vdXNlZW50ZXInLCAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcImNvbG9yXCIsIFwiIzAwMFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAkKFwiI2xvZ291dEhlYWRlclwiKS5vbignbW91c2VsZWF2ZScsICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKFwiY29sb3JcIiwgXCIjNDQ0XCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG5cclxuICAgICAkKFwiI3Njcm9sbEJhY2tcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAxMDAwKTtcclxuICAgICB9KTtcclxuXHJcbiAgICAgLyogU2Nyb2xsaW5nIHVzaW5nIHNlc3Npb24gc3RvcmFnZSAqL1xyXG5cclxuICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSAnJztcclxuXHJcbiAgICAgbGV0IGFkZERhcmtTZWxlY3Q7XHJcblxyXG4gICAgIGxldCBpZHNBcnIgPSBbXTtcclxuXHJcbiAgICBcclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgc2Nyb2xsUG9zaXRpb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzY3JvbGxQb3NpdGlvbicpO1xyXG5cclxuICAgICBpZiAoc2Nyb2xsUG9zaXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3NpdGlvblxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgfVxyXG4gIFxyXG4gICAgZ2V0VXNlcigpOyBcclxuICAgIHN0YXJ0VGltZSgpO1xyXG4gICAgY2hhbmdlQmFja2dyb3VuZEltZygpO1xyXG4gICAgZ2V0VG9kb3MoKTtcclxuXHJcbiAgICBsaW1pdGluZygpO1xyXG4gICAgc29ydGluZygpO1xyXG4gICAgZGlzcGxheWluZygpO1xyXG5cclxuICBcclxufSk7XHJcblxyXG5cclxuLyogR0VUIFRPRE9TICovXHJcblxyXG5mdW5jdGlvbiBnZXRUb2RvcygpIHtcclxuXHJcblxyXG4kLmFqYXgoe1xyXG4gdHlwZTogXCJHRVRcIixcclxuIHVybDogXCIvdG9kb3NcIixcclxuIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgICBpZiAoZGF0YS50b2Rvcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJzY3JvbGxQb3NpdGlvblwiKTtcclxuICAgICAgICAkKFwiLm5vdFlldFwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKFwiI2lucHV0VGl0bGVcIikuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiU3VibWl0IHlvdXIgZmlyc3QgdG9kb1wiKTtcclxuICAgICAgICBjaGFuZ2VRdW90ZSgwLCAwKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBsZXQgY29tcGxldGVkVG9kb3MgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEudG9kb3MubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUb2RvcysrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgICQoXCIubm90WWV0XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAgJChcIiNpbnB1dFRpdGxlXCIpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIlwiKTtcclxuICAgICAgICAgIGNoYW5nZVF1b3RlKDEsIChkYXRhLnRvZG9zLmxlbmd0aCAtIGNvbXBsZXRlZFRvZG9zKSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbnZhciBsaXN0ID0gJyc7XHJcbnZhciBpZCA9ICcnO1xyXG52YXIgdGV4dCA9ICcnO1xyXG52YXIgZGVzY3JpcHRpb24gPSAnJztcclxuXHJcbmZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS50b2Rvcy5sZW5ndGg7IGkrKykge1xyXG5cclxuaWQgPSBkYXRhLnRvZG9zW2ldLl9pZC50b1N0cmluZygpO1xyXG50ZXh0ID0gZGF0YS50b2Rvc1tpXS50ZXh0LnRvU3RyaW5nKCk7XHJcbmRlc2NyaXB0aW9uID0gZGF0YS50b2Rvc1tpXS5kZXNjcmlwdGlvbjtcclxuXHJcbmxldCBzdGF0dXMgPSAnJztcclxubGV0IGZpbmlzaGVkID0gJyc7XHJcblxyXG52YXIgc2hvcnRlblRpdGxlID0gZGF0YS50b2Rvc1tpXS50ZXh0O1xyXG5cclxuaWYgKGRhdGEudG9kb3NbaV0udGV4dC5sZW5ndGggPiA1MCkge1xyXG4gICAgc2hvcnRlblRpdGxlID0gZGF0YS50b2Rvc1tpXS50ZXh0LnN1YnN0cigwLDUwKSArIFwiLi4uXCI7XHJcbn1cclxuXHJcbmlmIChkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZCkge1xyXG4gc3RhdHVzID0gXCJDb21wbGV0ZWRcIjtcclxuIGZpbmlzaGVkID0gXCJDb21wbGV0ZWQgQXQ6IFwiICsgZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWRBdC5zdWJzdHIoMTIsOCk7XHJcbn1cclxuZWxzZSB7XHJcbiBzdGF0dXMgPSBcIk5vdCBjb21wbGV0ZWRcIjtcclxufVxyXG5cclxubGlzdCArPSBgPGRpdiBjbGFzcz1cImNvbnRhaW5lciB0b2RvQ29udGFpbmVyXCIgb25jbGljaz1cImFkZElkVG9BcnJheShcXGBgICsgZGF0YS50b2Rvc1tpXS5faWQgKyBgXFxgKVwiPlxyXG4gICAgXHJcbiAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cclxuPGRpdiBjbGFzcz1cInJvd1wiPlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XHJcbjxoMyBjbGFzcz1cInRpdGxlXCI+JHtzaG9ydGVuVGl0bGV9PC9oMz5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgXHJcbiA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj48cCBjbGFzcz1cInN0YXR1c1wiPiR7c3RhdHVzfTwvcD48L2Rpdj5cclxuIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwiZmluaXNoZWRcIj4ke2ZpbmlzaGVkfTwvcD4gPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIiBzdHlsZT1cImhlaWdodDogMTA1cHg7XCI+IFxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiVXBkYXRlIFRvZG9cIiBvbmNsaWNrPVwib3Blbk1vZGFsKFxcYGAgKyB0ZXh0ICsgYFxcYCwgXFxgYCArIGRlc2NyaXB0aW9uICsgYFxcYCwgJHtkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZH0sXFxgYCArIGlkICsgYFxcYCxcXGBgICsgZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWRBdCArIGBcXGAsICR7aX0sIFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNyZWF0ZWRBdCArIGBcXGApXCI+PGkgY2xhc3M9XCJmYSBmYS1wZW5jaWxcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiA8L2Rpdj5cclxuIDxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiBcclxuIDxkaXYgY2xhc3M9XCJvdXRlclwiIHRpdGxlPVwiQ29tcGxldGUgVG9kb1wiIG9uY2xpY2s9J2NvbXBsZXRlVG9kbygke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLCAke2l9KSc+XHJcbiA8ZGl2IGNsYXNzPVwic3dpdGNoXCI+PC9kaXY+XHJcbiA8L2Rpdj5cclxuICA8L2Rpdj4gICAgICAgIFxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gICA8YnV0dG9uIGNsYXNzPVwiYnRuIHRvZG9CdG5cIiB0aXRsZT1cIlJlbW92ZSBUb2RvXCIgaWQ9XCJyZW1vdmVUb2RvQnRuXCIgb25jbGljaz1cImRlbGV0ZVRvZG8oXFxgYCArIGlkICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgICAgICBcclxuICAgICAgPC9kaXY+XHJcbiA8L2Rpdj5gO1xyXG4gXHJcbn1cclxuXHJcbiQoXCIjbGlzdE9mVG9kb3NcIikuYXBwZW5kKGxpc3QpO1xyXG5cclxuLyogb25jZSB0ZXh0IGlzIGFkZGVkIHdlIGNhbiB0b2dnbGUgdGhlIGNsYXNzIHdpdGggY291bnRlciBmcm9tIGFub3RoZXIgZm9yIGxvb3AgKi9cclxuZm9yICh2YXIgaSA9IDA7IGkgPCAgZGF0YS50b2Rvcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIGlmIChkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZCkge1xyXG4gICAgICAgICQoYC5zd2l0Y2g6ZXEoJHtpfSlgKS5hZGRDbGFzcyhcIm1vdmVcIik7XHJcbiAgICAgICAgJChgLnRpdGxlOmVxKCR7aX0pYCkuY3NzKHsgXCJ0ZXh0LWRlY29yYXRpb25cIjogXCJsaW5lLXRocm91Z2hcIiB9KTtcclxuXHJcbiAgICAgfVxyXG4gICAgIGVsc2Uge1xyXG4gICAgICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkucmVtb3ZlQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gICAgIH1cclxuICAgICBcclxufVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIEdFVCBEQVJLU0VMRUNUIENMQVNTXHJcblxyXG4gICAgICBhZGREYXJrU2VsZWN0ID0gICQoXCIudG9kb0NvbnRhaW5lclwiKTtcclxuICAgICAgXHJcbiAgICAgIGFkZERhcmtTZWxlY3Qub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiZGFya1NlbGVjdFwiKTtcclxuICAgICAgfSlcclxuXHJcblxyXG4gICAgLyogU2Nyb2xsIHVzaW5nIHNlc3Npb24gc3RvcmFnZSAqLyBcclxuXHJcbiAgICAkKFwiLm91dGVyLCAudG9kb0J0blwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiA9ICAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2Nyb2xsUG9zaXRpb24nLCBjdXJyZW50U2Nyb2xsUG9zaXRpb24pO1xyXG5cclxuICAgICAgICAvLyBQcmV2ZW50IGRhcmtTZWxlY3RcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBcclxuICAgICAgICAkKFwiLnRvZG9Db250YWluZXJcIikucmVtb3ZlQ2xhc3MoXCJkYXJrU2VsZWN0XCIpO1xyXG4gICAgICAgIGlkc0FyciA9IFtdOyBcclxuICAgICAgIFxyXG5cclxuICAgIH0pO1xyXG5cclxuIH1cclxuXHJcbn0pO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIFBPU1QgVE9ETyAqL1xyXG4gXHJcblxyXG5mdW5jdGlvbiBzdWJtaXQoKSB7XHJcblxyXG4gdmFyIHRleHQgPSAkKFwiI2lucHV0VGl0bGVcIikudmFsKCk7XHJcblxyXG4gaWYgKHRleHQgPT0gJycpIHtcclxuICAgICQoXCIjc3VibWl0VG9kb0Vycm9yXCIpLnNob3coKTtcclxuICAgICQoXCIjc3VibWl0VG9kb0Vycm9yXCIpLnRleHQoXCJQbGVhc2UgaW5zZXJ0IHRleHQgdG8gc3VibWl0IHRvZG8uXCIpO1xyXG4gICAgcmV0dXJuO1xyXG4gfSBcclxuICBpZiAodGV4dC5sZW5ndGggPiAyMDApIHtcclxuICAgICQoXCIjc3VibWl0VG9kb0Vycm9yXCIpLnNob3coKTtcclxuICAgICQoXCIjc3VibWl0VG9kb0Vycm9yXCIpLnRleHQoXCJQbGVhc2Uga2VlcCB0b2RvIHRpdGxlIG5vIGxvbmdlciB0aGFuIDIwMCBjaGFyYWN0ZXJzLlwiKTtcclxuICAgIHJldHVybjtcclxuIH1cclxuXHJcbnZhciBkYXRhID0ge1xyXG4gXCJ0ZXh0XCI6IHRleHRcclxufVxyXG5cclxuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcInNjcm9sbFBvc2l0aW9uXCIpO1xyXG5cclxuJC5hamF4KHtcclxuIHR5cGU6IFwiUE9TVFwiLFxyXG4gdXJsOiBcIi90b2Rvc1wiLFxyXG4gY29udGVudFR5cGUgOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiBkYXRhVHlwZSA6ICdqc29uJyxcclxuIGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuIFxyXG4gIGxvY2F0aW9uLnJlbG9hZCgpOyBcclxuIH1cclxuXHJcbn0pO1xyXG5cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyU3VibWl0VG9kb0Vycm9yKCkge1xyXG4gICAgJChcIiNzdWJtaXRUb2RvRXJyb3JcIikuaGlkZSgpO1xyXG59XHJcblxyXG5cclxuXHJcbi8qIERFTEVURSBUT0RPICAgKi9cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZVRvZG8oaWQpIHtcclxuXHJcbiAkLmFqYXgoe1xyXG4gdXJsOiAnL3RvZG9zLycgKyBpZCxcclxuIHR5cGU6ICdERUxFVEUnLFxyXG4gc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbiBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuLyogREVMRVRFIEFMTCBUT0RPUyAqL1xyXG5cclxuZnVuY3Rpb24gZGVsZXRlQWxsVG9kb3MoKSB7XHJcblxyXG4gc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcInNjcm9sbFBvc2l0aW9uXCIpO1xyXG5cclxuICQuYWpheCh7XHJcbiB1cmw6ICcvdG9kb3MnLFxyXG4gdHlwZTogJ0RFTEVURScsXHJcbiBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuIH1cclxuXHJcblxyXG59KTtcclxuXHJcbndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbn1cclxuXHJcblxyXG4vKiBDT01QTEVURSBUT0RPICovXHJcblxyXG5mdW5jdGlvbiBjb21wbGV0ZVRvZG8oaXNDb21wbGV0ZWQsIHNvbWVJZCwgaSkge1xyXG5cclxuICAgbGV0IGNvbXBsZXRlZEF0ID0gJyc7XHJcblxyXG4gaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgaXNDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkucmVtb3ZlQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gICAgIGNvbXBsZXRlZEF0ID0gbnVsbDtcclxuXHJcbiB9IGVsc2Uge1xyXG4gICAgIGlzQ29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkuYWRkQ2xhc3MoXCJtb3ZlXCIpO1xyXG5cclxuICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgdmFyIHN0ciA9IGQudG9TdHJpbmcoKTtcclxuICAgICBzdHIgPSBzdHIuc3Vic3RyKDQsMjApO1xyXG4gICAgIGNvbXBsZXRlZEF0ID0gc3RyO1xyXG5cclxuIH1cclxuXHJcbnZhciBkYXRhID0ge1xyXG4gY29tcGxldGVkOiBpc0NvbXBsZXRlZCxcclxuIGNvbXBsZXRlZEF0XHJcbn07XHJcblxyXG5cclxuJC5hamF4KHtcclxudXJsOiBcIi90b2Rvcy9cIiArIHNvbWVJZCxcclxuZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbnR5cGU6ICdQQVRDSCcsXHJcbmNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbnByb2Nlc3NEYXRhOiBmYWxzZSxcclxuZGF0YVR5cGU6ICdqc29uJyxcclxuc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxubG9jYXRpb24ucmVsb2FkKCk7XHJcbn1cclxuXHJcblxyXG59KTtcclxuXHJcbn1cclxuXHJcblxyXG4vKiBVUERBVEUgT05FIFRPRE8gKi9cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvZG8odGV4dCwgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCwgaWQsIHJlZnJlc2gsIGtlZXBUaGVEYXRlKSB7XHJcblxyXG4gICAgdmFyIGVycm9yQ291bnRlciA9IDA7XHJcblxyXG4gICAgdGV4dCA9ICQoXCIjdG9kb1RpdGxlSW5Nb2RhbFwiKS52YWwoKTtcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1wiL2csIFwiJ1wiKTsgXHJcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7IFxyXG5cclxuICAgIGRlc2NyaXB0aW9uID0gJChcInRleHRhcmVhXCIpLnZhbCgpO1xyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC9cIi9nLCBcIidcIik7IFxyXG4gICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKCk7IFxyXG5cclxuXHJcbiAgICBpZiAodGV4dCA9PSAnJykge1xyXG4gICAgICAgICQoXCIjdG9kb1RpdGxlSW5Nb2RhbEVycm9yXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS50ZXh0KFwiVGl0bGUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXJcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiAyMDApIHtcclxuICAgICAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxFcnJvclwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiN0b2RvVGl0bGVJbk1vZGFsRXJyb3JcIikudGV4dChcIkV4Y2VlZGVkIG1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgKDIwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDIwMDApIHtcclxuICAgICAgICAkKFwiI3RleHRhcmVhRXJyb3JcIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIjdGV4dGFyZWFFcnJvclwiKS50ZXh0KFwiRXhjZWVkZWQgbWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyAoMjAwMClcIik7XHJcbiAgICAgICAgZXJyb3JDb3VudGVyKys7XHJcbiAgICB9XHJcblxyXG52YXIgZGF0YSA9IHtcclxuICAgIHRleHQsXHJcbiAgICBkZXNjcmlwdGlvbixcclxuICAgIGNvbXBsZXRlZCxcclxuICAgIGNvbXBsZXRlZEF0OiBrZWVwVGhlRGF0ZVxyXG59O1xyXG5cclxuaWYgKHJlZnJlc2ggJiYgZXJyb3JDb3VudGVyID09IDApIHtcclxuXHJcbiQuYWpheCh7XHJcbnVybDogXCIvdG9kb3MvXCIgKyBpZCxcclxuZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbnR5cGU6ICdQQVRDSCcsXHJcbmNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbnByb2Nlc3NEYXRhOiBmYWxzZSxcclxuZGF0YVR5cGU6ICdqc29uJyxcclxuc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiQoXCIjbXlNb2RhbFwiKS5mYWRlT3V0KCk7XHJcbmxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbnZhciBkYXRhID0ge307XHJcblxyXG52YXIga2VlcFRoZURhdGUgPSBudWxsO1xyXG52YXIgbmV3RGF0ZSA9ICcnO1xyXG5cclxuZnVuY3Rpb24gY29tYmluZVZhbHVlcyh0ZXh0LCBkZXNjcmlwdGlvbiwgaXNDb21wbGV0ZWQsIGlkLCByZWZyZXNoLCBtb2RhbEZpbmlzaGVkLCBjb21wbGV0ZWRBdCkgeyBcclxuXHJcbiAgIFxyXG4gICAgIGlmICh0eXBlb2YobW9kYWxGaW5pc2hlZCkgIT0gJ3N0cmluZycgJiYga2VlcFRoZURhdGUgIT0gbnVsbCkge1xyXG4gICAgICAgIGtlZXBUaGVEYXRlID0ga2VlcFRoZURhdGU7XHJcbiAgICAgICAgXHJcbiAgICAgfVxyXG4gICAgICAgICBlbHNlICBpZiAodHlwZW9mKG1vZGFsRmluaXNoZWQpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICBrZWVwVGhlRGF0ZSA9PSBtb2RhbEZpbmlzaGVkO1xyXG4gICAgICAgICBcclxuICAgICB9ICBlbHNlIHtcclxuICAgICAgICAga2VlcFRoZURhdGUgPSBjb21wbGV0ZWRBdDtcclxuICAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZih0ZXh0KSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBkYXRhLnRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICBpZiAoICAkKFwiLnN3aXRjaE1vZGFsXCIpLmhhc0NsYXNzKFwibW92ZU1vZGFsXCIpICkge1xyXG4gICAgICAgICAgICBkYXRhLmNvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGtlZXBUaGVEYXRlID0ga2VlcFRoZURhdGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGEuY29tcGxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGtlZXBUaGVEYXRlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgXHJcbiAgICAgICAgcmVmcmVzaCA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YodGV4dCkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICBkYXRhLmNvbXBsZXRlZCA9IGlzQ29tcGxldGVkO1xyXG4gICAgICAgIHJlZnJlc2ggPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIGtlZXBUaGVEYXRlID0gbW9kYWxGaW5pc2hlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBrZWVwVGhlRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICB1cGRhdGVUb2RvKGRhdGEudGV4dCwgZGVzY3JpcHRpb24sIGRhdGEuY29tcGxldGVkLCBpZCwgcmVmcmVzaCwga2VlcFRoZURhdGUpO1xyXG5cclxufVxyXG5cclxuICBcclxudmFyIG1vZGFsU3RhdHVzID0gXCJcIjtcclxudmFyIG1vZGFsRmluaXNoZWQgPSAnJztcclxudmFyIHRvZ2dsZUNvdW50ZXIgPSAwO1xyXG52YXIgdG9nZ2xlVmFsdWUgPSBbXTtcclxuXHJcbmZ1bmN0aW9uIGNvbXBsZXRlSW5Nb2RhbCh0ZXh0LCBkZXNjcmlwdGlvbiwgaXNDb21wbGV0ZWQsIGlkLCByZWZyZXNoLCBjb21wbGV0ZWRBdCwgaSkge1xyXG5cclxuICAgIGlmICh0b2dnbGVDb3VudGVyID09IDApIHtcclxuICAgICAgICB0b2dnbGVWYWx1ZVtpXSA9ICFpc0NvbXBsZXRlZDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0b2dnbGVWYWx1ZVtpXSA9ICF0b2dnbGVWYWx1ZVtpXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICB2YXIgc3RyID0gZC50b1N0cmluZygpO1xyXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDQsMjApO1xyXG4gICAgICBtb2RhbEZpbmlzaGVkID0gc3RyO1xyXG5cclxuICAgICAgaWYgKHRvZ2dsZVZhbHVlW2ldKSB7XHJcbiAgICAgICAgJChcIi5zd2l0Y2hNb2RhbFwiKS5hZGRDbGFzcyhcIm1vdmVNb2RhbFwiKTtcclxuICAgICAgICBtb2RhbFN0YXR1cyA9IFwiQ29tcGxldGVkXCI7XHJcbiAgICAgICAgJChcIiNtb2RhbEZpbmlzaGVkXCIpLnRleHQobW9kYWxGaW5pc2hlZCk7XHJcbiAgXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbW9kYWxTdGF0dXMgPSBcIk5vdCBDb21wbGV0ZWRcIjtcclxuICAgICAgICAkKFwiLnN3aXRjaE1vZGFsXCIpLnJlbW92ZUNsYXNzKFwibW92ZU1vZGFsXCIpO1xyXG4gICAgICAgICQoXCIjbW9kYWxGaW5pc2hlZFwiKS5odG1sKCc8aSBjbGFzcz1cImZhIGZhLXF1ZXN0aW9uLWNpcmNsZVwiIHN0eWxlPVwiZm9udC1zaXplOjI0cHhcIj48L2k+Jyk7XHJcbiAgICAgICBcclxuICAgICAgfVxyXG5cclxuICAgICAkKFwiI21vZGFsU3RhdHVzXCIpLnRleHQobW9kYWxTdGF0dXMpO1xyXG5cclxuICAgICAgXHJcbiAgICAgdG9nZ2xlQ291bnRlcisrO1xyXG5cclxuICAgICBjb21iaW5lVmFsdWVzKHRleHQsIGRlc2NyaXB0aW9uLCB0b2dnbGVWYWx1ZVtpXSwgaWQsIHJlZnJlc2gsIG1vZGFsRmluaXNoZWQsIGNvbXBsZXRlZEF0KTtcclxuXHJcbn1cclxuXHJcblxyXG4vKiBNb2RhbCAqL1xyXG5cclxuLy8gT3BlbiBNb2RhbFxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKHRleHQsIGRlc2NyaXB0aW9uLCBpc0NvbXBsZXRlZCwgaWQsIGNvbXBsZXRlZEF0LCBpLCBjcmVhdGVkQXQpIHtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICBcclxuICAgIG1vZGFsRmluaXNoZWQgPSBjb21wbGV0ZWRBdDtcclxuXHJcbiAgICBpZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgICAgICBtb2RhbFN0YXR1cyA9IFwiQ29tcGxldGVkXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBtb2RhbFN0YXR1cyA9IFwiTm90IENvbXBsZXRlZFwiOyBcclxuICAgIH1cclxuXHJcblxyXG4vLyBNb2RhbCBoZWFkZXJcclxuXHJcbnZhciBtaCA9IGBcclxuPHAgY2xhc3M9XCJjbG9zZU1vZGFsXCIgb25jbGljaz1cImNsb3NlTW9kYWwoNDcsICR7aXNDb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsIGZhbHNlKVwiPiZ0aW1lczwvcD5cclxuICAgICAgICAgIFxyXG48aDMgY2xhc3M9XCJtb2RhbFRpdGxlXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbmRpc3BsYXk6IGJsb2NrO1xyXG5tYXJnaW46IDAgYXV0bztcclxud2lkdGg6IDEwMCU7IG1hcmdpbi10b3A6IDEwcHg7XCI+VXBkYXRlIFRvZG88L2gzPlxyXG5gO1xyXG5cclxuJChcIi5tb2RhbC1oZWFkZXJcIikuaHRtbChtaCk7XHJcblxyXG5cclxuLy8gTW9kYWwgQm9keSAtLSBOQU1FXHJcblxyXG5tYiA9IGA8ZGl2IGNsYXNzPVwibW9kYWxQYXVzZVwiPiAgXHJcbjxoNSBjbGFzcz1cInBhdXNlRGVzY1wiPk5BTUU8L2g1PlxyXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyIGJnLTMgdGV4dC1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiA3NjhweDtcIj5cclxuPGRpdiBjbGFzcz1cInJvd1wiPlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj4gPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxyXG48aW5wdXQgaWQ9XCJ0b2RvVGl0bGVJbk1vZGFsXCIgb25pbnB1dD1cIm9uaW5wdXRUb2RvVGl0bGVJbk1vZGFsKClcIiBhdXRvZm9jdXMgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI0ZGRjsgYm9yZGVyOiAycHggc29saWQgI0NDQzsgY29sb3I6ICMwMDA7IG1hcmdpbi10b3A6IDRweDtcIiAvPlxyXG48cCBpZD1cInRvZG9UaXRsZUluTW9kYWxFcnJvclwiPjwvcD5cclxuICAgIDwvZGl2PlxyXG4gICBcclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+IDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG48L2Rpdj4gIFxyXG4gPC9kaXY+ICBgO1xyXG5cclxuXHJcbi8vIE1vZGFsIEJvZHkgLS0gREVTQ1JJUFRJT05cclxuXHJcbm1iICs9IGA8ZGl2IGNsYXNzPVwibW9kYWxQYXVzZVwiPiAgXHJcbjxoNSBjbGFzcz1cInBhdXNlRGVzY1wiPkRFU0NSSVBUSU9OPC9oNT5cclxuPGRpdiBjbGFzcz1cImNvbnRhaW5lciBiZy0zIHRleHQtY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogNzY4cHg7XCI+XHJcbjxkaXYgY2xhc3M9XCJyb3dcIj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+IDwvZGl2PlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cclxuPHRleHRhcmVhIGlkPVwidGV4dGFyZWFcIiBwbGFjZWhvbGRlcj1cIk9wdGlvbmFsXCIgb25pbnB1dD1cIm9uaW5wdXRUZXh0YXJlYSgpXCIgcm93cz01IHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNGRkY7IGJvcmRlcjogMnB4IHNvbGlkICNDQ0M7IGNvbG9yOiAjMDAwOyBtYXJnaW4tdG9wOiA0cHg7IHJlc2l6ZTogbm9uZTtcIj48L3RleHRhcmVhPlxyXG48cCBpZD1cInRleHRhcmVhRXJyb3JcIj48L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgXHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPiA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuPC9kaXY+ICBcclxuIDwvZGl2PiAgYDtcclxuXHJcbiAvLyBCb2R5IHBhcnQgMlxyXG5cclxuIG1iKz0gYCBcclxuIDxkaXYgY2xhc3M9XCJtb2RhbFBhdXNlXCI+ICBcclxuPGg1IGNsYXNzPVwicGF1c2VEZXNjXCI+REVUQUlMUzwvaDU+XHJcbjxkaXYgY2xhc3M9XCJjb250YWluZXIgYmctMyB0ZXh0LWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDc2OHB4OyBoZWlnaHQ6IDg1cHg7IHBhZGRpbmctYm90dG9tOiAwcHg7IG1hcmdpbi10b3A6IDEwcHg7XCI+XHJcbjxkaXYgY2xhc3M9XCJyb3dcIj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+PC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48cD5TdGF0dXM6PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxwIGlkPVwibW9kYWxTdGF0dXNcIj4ke21vZGFsU3RhdHVzfTwvcD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tMlwiPlxyXG48ZGl2IGNsYXNzPVwib3V0ZXJNb2RhbFwiIHRpdGxlPVwiQ29tcGxldGUgVG9kb1wiIGlkPVwidG9nZ2xlQnRuXCIgb25jbGljaz1cImNvbXBsZXRlSW5Nb2RhbCg0NywgXFxgYCArIGRlc2NyaXB0aW9uICsgYFxcYCAsICR7aXNDb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICdub1JlZnJlc2gnLCBcXGBgICsgY29tcGxldGVkQXQgKyBgXFxgLCAke2l9KVwiIHN0eWxlPVwibWFyZ2luOiAwIGF1dG87IHRleHQtYWxpZ246IGNlbnRlclwiPlxyXG48ZGl2IGNsYXNzPVwic3dpdGNoTW9kYWxcIj48L2Rpdj5cclxuPC9kaXY+XHJcbiAgICBcclxuPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJyb3dcIiBzdHlsZT1cInBhZGRpbmctdG9wOiAxNXB4O1wiPlxyXG48ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxwIGlkPVwiY29tcGxldGVBdFBhclwiPkNyZWF0ZWQgICBDb21wbGV0ZWQ6PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxwIGNsYXNzPVwibW9kYWxEZXRhaWxzXCI+JHtjcmVhdGVkQXR9PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbjxwIGNsYXNzPVwibW9kYWxEZXRhaWxzXCIgaWQ9XCJtb2RhbEZpbmlzaGVkXCI+JHttb2RhbEZpbmlzaGVkfTwvcD5cclxuPC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG5cclxuXHJcblxyXG4kKFwiLm1vZGFsLWJvZHlcIikuaHRtbChtYik7XHJcblxyXG5pZiAoaXNDb21wbGV0ZWQpIHtcclxuICAgIG1vZGFsU3RhdHVzID0gXCJDb21wbGV0ZWRcIjtcclxuICAgICQoXCIuc3dpdGNoTW9kYWxcIikuYWRkQ2xhc3MoXCJtb3ZlTW9kYWxcIik7XHJcbiAgICAkKFwiI21vZGFsRmluaXNoZWRcIikudGV4dChtb2RhbEZpbmlzaGVkKVxyXG59IGVsc2Uge1xyXG4gICAgbW9kYWxTdGF0dXMgPSBcIk5vdCBDb21wbGV0ZWRcIjtcclxuICAgICQoXCIuc3dpdGNoTW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb3ZlTW9kYWxcIik7XHJcbiAgICAkKFwiI21vZGFsRmluaXNoZWRcIikuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1xdWVzdGlvbi1jaXJjbGVcIiBzdHlsZT1cImZvbnQtc2l6ZToyNHB4XCI+PC9pPicpO1xyXG59XHJcblxyXG5cclxuLy8gbW9kYWwgZm9vdGVyXHJcblxyXG52YXIgbWYgPSBgPGJ1dHRvbiBpZD1cImNhbmNlbEJ0blwiIGNsYXNzPVwibW9kYWxCdG5zXCIgb25jbGljaz1cImNsb3NlTW9kYWwoNDcsICR7aXNDb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsIGZhbHNlKVwiPkNhbmNlbDwvYnV0dG9uPlxyXG48YnV0dG9uIGlkPVwidXBkYXRlQnRuXCIgY2xhc3M9XCJtb2RhbEJ0bnNcIiBvbmNsaWNrPVwiY29tYmluZVZhbHVlcyhcXGBgICsgdGV4dCArIGBcXGAsIFxcYGAgKyBkZXNjcmlwdGlvbiArIGBcXGAsJHtpc0NvbXBsZXRlZH0sXFxgYCArIGlkICsgYFxcYCwgdHJ1ZSwgNCxcXGBgICsgY29tcGxldGVkQXQgKyBgXFxgKVwiPlVwZGF0ZTwvYnV0dG9uPmA7IFxyXG5cclxuICAgICQoXCIubW9kYWwtZm9vdGVyXCIpLmh0bWwobWYpO1xyXG5cclxuICAgIHZhciB0ZXh0VmFsdWUgPSB0ZXh0OyBcclxuXHJcbiAgICAkKFwidGV4dGFyZWFcIikudGV4dChkZXNjcmlwdGlvbik7XHJcbiAgICAkKFwiI3RvZG9UaXRsZUluTW9kYWxcIikudmFsKHRleHRWYWx1ZSk7XHJcblxyXG4gICB9XHJcblxyXG4gICAvLyBDbG9zZSBNb2RhbFxyXG5cclxuICAgdmFyIG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TW9kYWwnKTtcclxuICBcclxuICAgZnVuY3Rpb24gY2xvc2VNb2RhbCh0ZXh0LCBpc0NvbXBsZXRlZCwgaWQsIHJlZnJlc2gpIHtcclxuICAgICAgIHRvZ2dsZUNvdW50ZXIgPSAwO1xyXG4gICAgJChcIiNteU1vZGFsXCIpLmZhZGVPdXQoKTtcclxuICBcclxuICAgIGNvbWJpbmVWYWx1ZXModGV4dCwgaXNDb21wbGV0ZWQsIGlkLCByZWZyZXNoKTsgXHJcbiAgIH1cclxuXHJcbiAgIFxyXG4gICAvLyBvbmlucHV0IHRleHRhcmVhXHJcblxyXG4gICBmdW5jdGlvbiBvbmlucHV0VGV4dGFyZWEoKSB7XHJcblxyXG4gICAgJChcIiN0ZXh0YXJlYUVycm9yXCIpLmhpZGUoKTtcclxuXHJcbiAgIH1cclxuXHJcbiAgIGZ1bmN0aW9uIG9uaW5wdXRUb2RvVGl0bGVJbk1vZGFsKCkge1xyXG5cclxuICAgICQoXCIjdG9kb1RpdGxlSW5Nb2RhbEVycm9yXCIpLmhpZGUoKTtcclxuXHJcbiAgIH1cclxuXHJcblxyXG4gICAvKiBTdGFydCBQYWdlIFNjcmlwdCAqLyBcclxuXHJcbiAgIGZ1bmN0aW9uIHN0YXJ0VGltZSgpIHtcclxuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgaCA9IHRvZGF5LmdldEhvdXJzKCk7XHJcbiAgICB2YXIgbSA9IHRvZGF5LmdldE1pbnV0ZXMoKTtcclxuICAgIHZhciBzID0gdG9kYXkuZ2V0U2Vjb25kcygpO1xyXG4gICAgbSA9IGNoZWNrVGltZShtKTtcclxuICAgIHMgPSBjaGVja1RpbWUocyk7XHJcblxyXG4gICAgaWYgKGggPCAxMCkge1xyXG4gICAgICAgIGggPSBcIjBcIiArIGg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgICQoXCIjY2xvY2tUaXRsZVwiKS5odG1sKGggKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG5cclxuICAgIHZhciB0ID0gc2V0VGltZW91dChzdGFydFRpbWUsIDUwMCk7XHJcbn1cclxuZnVuY3Rpb24gY2hlY2tUaW1lKGkpIHtcclxuICAgIGlmIChpIDwgMTApIHtpID0gXCIwXCIgKyBpfTsgXHJcbiAgICByZXR1cm4gaTtcclxufVxyXG5cclxuY29uc3QgcXVvdGVzQXJyYXkgPSBbXHJcbiAgICBg4oCcQSBqb3VybmV5IG9mIGEgdGhvdXNhbmQgbWlsZXMgYmVnaW5zIHdpdGggYSBzaW5nbGUgc3RlcC7igJ1cclxuICAgIOKAkyBMYW8gVHp1YCxcclxuICAgIGDigJxUaGUgb25seSBpbXBvc3NpYmxlIGpvdXJuZXkgaXMgdGhlIG9uZSB5b3UgbmV2ZXIgYmVnaW4u4oCdXHJcbiAgICDigJMgVG9ueSBSb2JiaW5zYCxcclxuXHJcbiAgICBg4oCcV2UgYXJlIHdoYXQgd2UgcmVwZWF0ZWRseSBkby4gRXhjZWxsZW5jZSwgdGhlbiwgaXMgbm90IGFuIGFjdCBidXQgYSBoYWJpdC7igJ1cclxuICAgIOKAkyBBcmlzdG90bGVgLFxyXG4gICAgYOKAnERvbuKAmXQganVkZ2UgZWFjaCBkYXkgYnkgdGhlIGhhcnZlc3QgeW91IHJlYXAsIGJ1dCBieSB0aGUgc2VlZHMgdGhhdCB5b3UgcGxhbnQu4oCdXHJcbiAgICDigJMgUm9iZXJ0IExvdWlzIFN0ZXZlbnNvbmAsXHJcblxyXG4gICAgYOKAnFdyaXRpbmcgaXMgYW4gZXhwbG9yYXRpb24uIFlvdSBzdGFydCBmcm9tIG5vdGhpbmcgYW5kIGxlYXJuIGFzIHlvdSBnby7igJ1cclxuICAgIOKAkyBFLiBMLiBEb2N0b3Jvd2AsXHJcbiAgICBg4oCcQWRhcHQgd2hhdCBpcyB1c2VmdWwsIHJlamVjdCB3aGF0IGlzIHVzZWxlc3MsIGFuZCBhZGQgd2hhdCBpcyBzcGVjaWZpY2FsbHkgeW91ciBvd24u4oCdXHJcbiAgICDigJMgQnJ1Y2UgTGVlYCxcclxuXHJcbiAgICBg4oCcU3RhcnQgd2hlcmUgeW91IGFyZS4gVXNlIHdoYXQgeW91IGhhdmUuIERvIHdoYXQgeW91IGNhbi7igJ0gXHJcbiAgICDigJMgQXJ0aHVyIEFzaGVgLFxyXG4gICAgYOKAnEdvb2QsIGJldHRlciwgYmVzdC4gTmV2ZXIgbGV0IGl0IHJlc3QuICdUaWwgeW91ciBnb29kIGlzIGJldHRlciBhbmQgeW91ciBiZXR0ZXIgaXMgYmVzdC7igJ0gXHJcbiAgICDigJMgU3QuIEplcm9tZWAsXHJcblxyXG4gICAgYOKAnElmIHlvdSBjYW4gZHJlYW0gaXQsIHlvdSBjYW4gZG8gaXQu4oCdIFxyXG4gICAg4oCTIFdhbHQgRGlzbmV5YCxcclxuICAgIGDigJxTZXR0aW5nIGdvYWxzIGlzIHRoZSBmaXJzdCBzdGVwIGluIHR1cm5pbmcgdGhlIGludmlzaWJsZSBpbnRvIHRoZSB2aXNpYmxlLuKAnSBcclxuICAgIOKAkyBUb255IFJvYmJpbnNgLFxyXG5cclxuICAgIGDigJxBIGNyZWF0aXZlIG1hbiBpcyBtb3RpdmF0ZWQgYnkgdGhlIGRlc2lyZSB0byBhY2hpZXZlLCBub3QgYnkgdGhlIGRlc2lyZSB0byBiZWF0IG90aGVycy7igJ0gXHJcbiAgICDigJMgQXluIFJhbmRgLFxyXG4gICAgYOKAnEhlIHdobyBkb2VzIG5vdCBsaXZlIGluIHRoZSB3YXkgb2YgaGlzIGJlbGllZnMgc3RhcnRzIHRvIGJlbGlldmUgaW4gdGhlIHdheSBoZSBsaXZlcy7igJ1cclxuICAgIOKAkyBVbWFyIGlibiBBbC1LaGF0dGFiYCxcclxuXTtcclxuXHJcblxyXG5jb25zdCBxdWVzdGlvbnNBcnJheSA9IFtcclxuXCJXaGF0J3MgbmV4dCBvbiB5b3VyIG1pbmQ/XCIsXHJcblwiV2hhdCdzIHlvdXIgcGxhbiBmb3IgdG9kYXk/XCIsXHJcblwiV2hhdCBkbyB5b3Ugd2FudCB0byBkbyBuZXh0P1wiLFxyXG5cIldoYXQgaXMgeW91ciBtYWluIGZvY3VzIHRvZGF5P1wiLFxyXG5cIldoYXQncyBuZXh0IG9uIHlvdXIgbGlzdD9cIlxyXG5dO1xyXG5cclxuXHJcbmNvbnN0IGFycmF5T2ZCYWNrZ3JvdW5kcyA9IFtcclxuXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvY2xvdWRzY2l0eS5qcGVnXCIsIC8vIGp1c3QgaW4gY2FzZSBkYXRlIGdldHMgdG8gMCBzb21lZGF5IDp8XHJcbiAgICBcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9hcHBsZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYmVhY2hhbmFuYXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2JlYWNoY2l0eS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYmlrZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvYnVsYi5qcGVnXCIsXHJcbiAgICBcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9ib2F0LmpwZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2JvdHRsZS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvY2hlcnJpZXMuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2NoZXNzLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9jbG91ZHMuanBlZ1wiLFxyXG4gICAgXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvZmVycmFyaS5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvZm9yZXN0cm9hZC5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9nbGFzc2VzLmpwZWdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9ndWl0YXIuanBnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvaGVhZHBob25lcy5qcGVnXCIsXHJcblxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2hpZ2h3YXkuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2hvbWUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2pldGVuZ2luZS5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9raXR0ZW4uanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL2xvZ3MuanBlZ1wiLFxyXG5cclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9tYXRjaC5qcGdcIixcclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9wYXJrZWRpbndpbGQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvYWQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3JvcGUuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3NhbmRhbHMuanBlZ1wiLFxyXG5cclxuICAgIFwiLi4vUmVzb3VyY2VzL2ltZy9jb3Zlci9zZWFyb2Nrcy5qcGVnXCIsXHJcbiAgICBcIi4uL1Jlc291cmNlcy9pbWcvY292ZXIvc2t5bmlnaHQuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3RodW5kZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3VuZGVyd2F0ZXIuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dpbmcuanBlZ1wiLFxyXG4gICAgXCIuLi9SZXNvdXJjZXMvaW1nL2NvdmVyL3dvbHZlcy5qcGVnXCJcclxuXTtcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVF1b3RlKG51bSwgdG9kb3MpIHtcclxuXHJcbiAgICBsZXQgcmFuZG9tUXVvdGUgPSAnJztcclxuXHJcbiAgICBpZiAobnVtID09IDApIHtcclxuICAgICAgICAkKFwiI3F1ZXN0aW9uc1RpdGxlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIjcXVvdGVUaXRsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgIHJhbmRvbVF1b3RlID0gcXVvdGVzQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVvdGVzQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQocmFuZG9tUXVvdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgaWYgKHRvZG9zID09IDApIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgbm8gdW5maW5pc2hlZCB0b2Rvc2ApOyAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRvZG9zID09IDEpIHtcclxuICAgICAgICAkKFwiI3F1b3RlVGl0bGVcIikudGV4dChgWW91IGhhdmUgJHt0b2Rvc30gdW5maW5pc2hlZCB0b2RvIGJlbG93YCk7ICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNxdW90ZVRpdGxlXCIpLnRleHQoYFlvdSBoYXZlICR7dG9kb3N9IHVuZmluaXNoZWQgdG9kb3MgYmVsb3dgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjcXVlc3Rpb25zVGl0bGVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgIHJhbmRvbVF1b3RlID0gcXVlc3Rpb25zQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcXVlc3Rpb25zQXJyYXkubGVuZ3RoKV07XHJcbiAgICAgICAgJChcIiNxdWVzdGlvbnNUaXRsZVwiKS50ZXh0KHJhbmRvbVF1b3RlKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUJhY2tncm91bmRJbWcoKSB7XHJcblxyXG4gICAgLy8gbGV0IHJhbmRJbWcgPSBhcnJheU9mQmFja2dyb3VuZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXlPZkJhY2tncm91bmRzLmxlbmd0aCldO1xyXG5cclxuICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgICQoJyNvcGVuaW5nRGl2JykuZmFkZVRvKDUwMCwgMC41LCBmdW5jdGlvbigpICAge1xyXG4gICBcclxuICAgICAgICAkKHRoaXMpLmNzcyh7XHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZFwiOiBgdXJsKCcke2FycmF5T2ZCYWNrZ3JvdW5kc1t0b2RheV19JylgLFxyXG4gICAgICAgICAgICBcImJhY2tncm91bmQtYXR0YWNobWVudFwiOiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgIFwib3ZlcmZsb3dcIjogXCJoaWRkZW5cIixcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1yZXBlYXRcIjogXCJuby1yZXBlYXRcIixcclxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLXNpemVcIjogXCJjb3ZlclwiLFxyXG4gICAgICAgICAgICBcIi13ZWJraXQtYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIixcclxuICAgICAgICAgICAgXCItbW96LWJhY2tncm91bmQtc2l6ZVwiOiBcImNvdmVyXCIsXHJcbiAgICAgICAgICAgIFwiLW8tYmFja2dyb3VuZC1zaXplXCI6IFwiY292ZXJcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pLmZhZGVUbyg1MDAsIDEpO1xyXG5cclxufVxyXG5cclxuXHJcbi8qIFNjcm9sbGluZyBBcm91bmQgKi8gXHJcblxyXG4kKFwiI3Njcm9sbERvd25cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiAkKFwiI2NvbnRhaW5lckJnXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgfSwgMTAwMCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qIE5hdmJhciBMaSBJbm5lciBVbCBsaXN0cyAqLyBcclxuXHJcblxyXG5mdW5jdGlvbiBsaW1pdGluZygpIHtcclxuICBcclxuICAgIGNvbnN0IGxpbWl0QXJyYXkgPSBbXCJObyBsaW1pdFwiLCAxLCAzLCA1LCAxMCwgMTUsIDIwXTtcclxuICBcclxuICAgICAgbGV0IGFkZExpbWl0ID0gJyc7XHJcbiAgICAgIGxpbWl0QXJyYXkuZm9yRWFjaCgobGltLCBpKSA9PiB7XHJcbiAgICAgICAgYWRkTGltaXQgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICA8aW5wdXQgY2xhc3M9XCJsaW1pdFJhZGlvXCIgIG5hbWU9XCJsaW1pdFwiIHR5cGU9XCJyYWRpb1wiPlxyXG4gICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiAxMDA7IHRleHQtYWxpZ246IGNlbnRlcjtcIj4ke2xpbX08L3NwYW4+XHJcbiAgICAgIDwvbGFiZWw+XHJcbiAgICBgO1xyXG4gICAgICB9KTtcclxuICBcclxuICAgICQoXCIjbGltaXRVbFwiKS5hcHBlbmQoYWRkTGltaXQpO1xyXG4gIFxyXG4gICAgJChcIi5saW1pdFJhZGlvOmVxKDApXCIpLmF0dHIoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICBcclxuICBcclxuICAgICAgICAvKiBMaW1pdCBzZWFyY2ggKi9cclxuICBcclxuICAgICAgICAkKFwiLmxpbWl0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgXHJcbiAgICAgICAgbGltaXQgPSAkKHRoaXMpLnBhcmVudChcIi5yYWRpb1wiKS50ZXh0KCk7XHJcbiAgICAgICAgbGltaXQgPSBsaW1pdC50cmltKCk7ICBcclxuICBcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBcclxuICBmdW5jdGlvbiBzb3J0aW5nKCkge1xyXG4gIFxyXG4gICAgICAgIC8qIFNvcnQgZG9jdW1lbnRzICovXHJcbiAgXHJcbiAgICAgICAgJChcIi5zb3J0UmFkaW9cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgICAgc29ydCA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgc29ydCA9IHNvcnQudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIHNlYXJjaCgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIFxyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBkaXNwbGF5aW5nKCkge1xyXG4gICAgXHJcbiAgICBjb25zdCBkaXNwbGF5QXJyYXkgPSBbXCJBbGxcIiwgXCJDb21wbGV0ZWRcIiwgXCJOb3QgY29tcGxldGVkXCJdO1xyXG4gIFxyXG4gICAgICBsZXQgYWRkRGlzcGxheSA9ICcnO1xyXG4gICAgICBkaXNwbGF5QXJyYXkuZm9yRWFjaCgoZGlzLCBpKSA9PiB7XHJcbiAgICAgIGFkZERpc3BsYXkgKz0gYFxyXG4gICAgICA8bGFiZWwgY2xhc3M9XCJyYWRpb1wiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZGlzcGxheVJhZGlvXCIgbmFtZT1cImRpc3BsYXlcIiB0eXBlPVwicmFkaW9cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6IDEwMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPiR7ZGlzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICBgO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICAkKFwiI2Rpc3BsYXlVbFwiKS5hcHBlbmQoYWRkRGlzcGxheSk7XHJcbiAgXHJcbiAgICAkKFwiLmRpc3BsYXlSYWRpbzplcSgwKVwiKS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgXHJcbiAgICAgIFxyXG4gICAgICAgICAgLyogRGlzcGxheSBkb2N1bWVudHMgKi9cclxuICBcclxuICAgICAgICAkKFwiLmRpc3BsYXlSYWRpb1wiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICBcclxuICAgICAgZGlzcGxheSA9ICQodGhpcykucGFyZW50KFwiLnJhZGlvXCIpLnRleHQoKTtcclxuICAgICAgZGlzcGxheSA9IGRpc3BsYXkudHJpbSgpOyAgXHJcbiAgXHJcbiAgICAgIGlmIChkaXNwbGF5ID09IFwiTm90IGNvbXBsZXRlZFwiKSB7XHJcbiAgICAgICAgJChcIi5zb3J0Q29tcGxldGVkXCIpLmF0dHIoXCJkaXNhYmxlZFwiLHRydWUpO1xyXG4gICAgICAgICQoYC5sYWJlbENvbXBsZXRlZGApLmNzcyh7IFwiY3Vyc29yXCI6IFwiZGVmYXVsdFwiIH0pO1xyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikuaG92ZXIoICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMjIyXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuc29ydENvbXBsZXRlZFwiKS5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSk7XHJcbiAgICAgICAgJChgLmxhYmVsQ29tcGxldGVkYCkuY3NzKHsgXCJjdXJzb3JcIjogXCJwb2ludGVyXCIgfSk7XHJcbiAgXHJcbiAgICAgICAgJChcIi5sYWJlbENvbXBsZXRlZFwiKS5vbignbW91c2VlbnRlcicsICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIjMDA3QkZGXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICQoXCIubGFiZWxDb21wbGV0ZWRcIikub24oJ21vdXNlbGVhdmUnLCAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kXCIsIFwiIzIyMlwiKTtcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBzZWFyY2goKTtcclxuICBcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG5cclxuICAgIC8qIEZhZGUgaW4gLyBvdXQgbmF2YmFyIGlubmVyIGxpc3RzICovXHJcbiAgIFxyXG4kKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlSW4oKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKFwiLm5hdmJhckxpXCIpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmZpbmQoXCIuaW5uZXJVbFwiKS5mYWRlT3V0KCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG5cclxuXHJcbi8qIFNlYXJjaCBUb2RvcyAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuXHJcbiAgICAvLyBmb3Igbm93IFxyXG4gICAgaWRzQXJyID0gW107IFxyXG5cclxuICAgIGxldCB0ZXh0ID0gJChcIi5zZWFyY2hUb2Rvc0Zvcm1cIikudmFsKCk7XHJcblxyXG4gICAgaWYgKHRleHQgPT0gJycpIHtcclxuICAgICAgdGV4dCA9IFwiLlwiO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAvdG9kb3MvJHt0ZXh0fS8ke2Rpc3BsYXl9LyR7bGltaXR9LyR7c29ydH0vYCxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpc3QgPSAnJztcclxuICAgICAgICAgICAgdmFyIGlkID0gJyc7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnRvZG9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZCA9IGRhdGEudG9kb3NbaV0uX2lkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRleHQgPSBkYXRhLnRvZG9zW2ldLnRleHQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkYXRhLnRvZG9zW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHN0YXR1cyA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSAnJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YS50b2Rvc1tpXS50ZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBzaG9ydGVuVGl0bGUgPSBkYXRhLnRvZG9zW2ldLnRleHQuc3Vic3RyKDAsNTApICsgXCIuLi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEudG9kb3NbaV0uY29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICBzdGF0dXMgPSBcIkNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICAgZmluaXNoZWQgPSBcIkNvbXBsZXRlZCBBdDogXCIgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0LnN1YnN0cigxMiw4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgIHN0YXR1cyA9IFwiTm90IGNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsaXN0ICs9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIHRvZG9Db250YWluZXJcIiBvbmNsaWNrPVwiYWRkSWRUb0FycmF5KFxcYGAgKyBkYXRhLnRvZG9zW2ldLl9pZCArIGBcXGApXCI+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGl0bGVcIj4ke3Nob3J0ZW5UaXRsZX08L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPjxwIGNsYXNzPVwic3RhdHVzXCI+JHtzdGF0dXN9PC9wPjwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+PHAgY2xhc3M9XCJmaW5pc2hlZFwiPiR7ZmluaXNoZWR9PC9wPiA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiIHN0eWxlPVwiaGVpZ2h0OiAxMDVweDtcIj4gXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdG9kb0J0bkNvbFwiPlxyXG4gICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biB0b2RvQnRuXCIgdGl0bGU9XCJVcGRhdGUgVG9kb1wiIG9uY2xpY2s9XCJvcGVuTW9kYWwoXFxgYCArIHRleHQgKyBgXFxgLCBcXGBgICsgZGVzY3JpcHRpb24gKyBgXFxgLCAke2RhdGEudG9kb3NbaV0uY29tcGxldGVkfSxcXGBgICsgaWQgKyBgXFxgLFxcYGAgKyBkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZEF0ICsgYFxcYCwgJHtpfSwgXFxgYCArIGRhdGEudG9kb3NbaV0uY3JlYXRlZEF0ICsgYFxcYClcIj48aSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00IHRvZG9CdG5Db2xcIj5cclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm91dGVyXCIgdGl0bGU9XCJDb21wbGV0ZSBUb2RvXCIgb25jbGljaz0nY29tcGxldGVUb2RvKCR7ZGF0YS50b2Rvc1tpXS5jb21wbGV0ZWR9LFxcYGAgKyBpZCArIGBcXGAsICR7aX0pJz5cclxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj48L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNCB0b2RvQnRuQ29sXCI+XHJcbiAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gdG9kb0J0blwiIHRpdGxlPVwiUmVtb3ZlIFRvZG9cIiBpZD1cInJlbW92ZVRvZG9CdG5cIiBvbmNsaWNrPVwiZGVsZXRlVG9kbyhcXGBgICsgaWQgKyBgXFxgKVwiPjxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiB5b3Ugc2VhcmNoIHlvdSByZW1vdmUgYWxsIHByZXZpb3VzIHRvZG9zIGFuZCByZXBsYWNlIHdpdGggdGhlIG5ldyBvbmVzIHRoYXQgZml0IHRoZSBzZWFyY2hcclxuICAgICAgICAgICAgJChcIi50b2RvQ29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKFwiI2xpc3RPZlRvZG9zXCIpLmFwcGVuZChsaXN0KTtcclxuXHJcblxyXG4gICAgICAgICAgICBhZGREYXJrU2VsZWN0ID0gJChcIi50b2RvQ29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgYWRkRGFya1NlbGVjdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImRhcmtTZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvKiBTY3JvbGwgdXNpbmcgc2Vzc2lvbiBzdG9yYWdlICovIFxyXG5cclxuICAgICAgICAgICAgICAgICQoXCIub3V0ZXIsIC50b2RvQnRuXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNjcm9sbFBvc2l0aW9uID0gICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzY3JvbGxQb3NpdGlvbicsIGN1cnJlbnRTY3JvbGxQb3NpdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGFya1NlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IFxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIudG9kb0NvbnRhaW5lclwiKS5yZW1vdmVDbGFzcyhcImRhcmtTZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRzQXJyID0gW107IFxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLyogb25jZSB0ZXh0IGlzIGFkZGVkIHdlIGNhbiB0b2dnbGUgdGhlIGNsYXNzIHdpdGggY291bnRlciBmcm9tIGFub3RoZXIgZm9yIGxvb3AgKi9cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAgZGF0YS50b2Rvcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRvZG9zW2ldLmNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoYC5zd2l0Y2g6ZXEoJHtpfSlgKS5hZGRDbGFzcyhcIm1vdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChgLnRpdGxlOmVxKCR7aX0pYCkuY3NzKHsgXCJ0ZXh0LWRlY29yYXRpb25cIjogXCJsaW5lLXRocm91Z2hcIiB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAkKGAuc3dpdGNoOmVxKCR7aX0pYCkucmVtb3ZlQ2xhc3MoXCJtb3ZlXCIpO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qIEVOVEVSIEtFWSAqL1xyXG5cclxuICAgIC8vIFBvc3RpbmcgdG9kb3NcclxuXHJcbiAkKFwiI2lucHV0VGl0bGVcIikua2V5dXAoZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMyl7XHJcbiAgICAgc3VibWl0KCk7XHJcbiAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZWFyY2hpbmcgdG9kb3NcclxuXHJcbiAgICAkKFwiLnNlYXJjaFRvZG9zRm9ybVwiKS5rZXl1cChmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMyl7XHJcbiAgICAgICAgIHNlYXJjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvKiBTRUxFQ1QgVE9ET1MgKi8gXHJcblxyXG4gICAgICAgIGxldCBhZGRJZFRvQXJyYXkgPSAoaWQpID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICggaWRzQXJyLmluY2x1ZGVzKGlkKSApIHtcclxuICAgICAgICAgICAgICAgIGlkc0Fyci5zcGxpY2UoaWRzQXJyLmZpbmRJbmRleChpbmRleCA9PiBpbmRleCA9PSBpZCkpOyAvLyBpZiBlbGVtZW50IGlzIGluIGFycmF5LCBmaW5kIGluZGV4ICYgcmVtb3ZlIGVsZW1lbnQgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWRzQXJyLnB1c2goaWQpOyAgICAvLyBlbHNlIHB1c2ggaXQgdG8gYXJyYXlcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBERUxFVEUgS0VZICovXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIEtleVByZXNzQ2hlY2soZXZlbnQpe1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gNDQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGFkZERhcmtTZWxlY3QuaGFzQ2xhc3MoXCJkYXJrU2VsZWN0XCIpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNjcm9sbFBvc2l0aW9uID0gICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdzY3JvbGxQb3NpdGlvbicsIGN1cnJlbnRTY3JvbGxQb3NpdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvdG9kb3MvJyArIGlkc0FycixcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICB9XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvb2tpZSgpICB7XHJcblxyXG4gICAgdmFyIHZhbHVlID0gXCI7IFwiICsgZG9jdW1lbnQuY29va2llO1xyXG4gICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoXCI7IFwiICsgbmFtZSArIFwiPVwiKTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdChcIjtcIikuc2hpZnQoKTtcclxuICAgICAgICB9IFxyXG4gICAgcmV0dXJuIHBhcnRzO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvb2tpZSA9IGdldENvb2tpZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0b2tlbiA9IGNvb2tpZVswXS5zdWJzdHIoOSw5OTkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdG9rZW4gPSB0b2tlbi50cmltKCk7XHJcbiAgICBcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmwgOiBcIi91c2Vycy9tZVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgIFwieC1hdXRoXCIgOiB0b2tlblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWxsb1RpdGxlXCIpLnRleHRDb250ZW50ID0gXCJIZWxsbyBcIiArIGRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIExvZyBvdXQgdXNlclxyXG5cclxuICAgIGxldCBsb2dvdXQgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCBjb29raWUgPSBnZXRDb29raWUoKTtcclxuXHJcbiAgICAgICAgbGV0IHRva2VuID0gY29va2llWzBdLnN1YnN0cig5LDk5OSkudG9TdHJpbmcoKTtcclxuICAgICAgICB0b2tlbiA9IHRva2VuLnRyaW0oKTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICcvdXNlcnMvbWUvdG9rZW4nLFxyXG4gICAgICAgIHR5cGU6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgXCJ4LWF1dGhcIiA6IHRva2VuXHJcbiAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgeyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiOyB9ICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgfVxyXG4iXX0=
